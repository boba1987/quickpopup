(function (require, global) {
require = (function (cache, modules, cx) {
var loader = function (r) {
if (!modules[r]) throw new Error(r + ' is not a module');
return cache[r] ? cache[r].exports : ((cache[r] = {
exports: {}
}, cache[r].exports = modules[r].call(cx, require, cache[r], cache[r].exports)));
};
loader.modules = modules;
return loader;
})({}, {
"entry.js": function (require, module, exports) {
var assert, chai, expect, helpers;
this.Popup = window.quickpopup;
this.DOM = require("node_modules/quickdom/src/index.coffee");
helpers = require("helpers.coffee");
chai = require("node_modules/chai/index.js");
chai.use(require("node_modules/chai-dom/chai-dom.js"));
chai.use(require("node_modules/chai-style/sources/index.js"));
chai.use(require("node_modules/chai-almost/index.js"));
chai.use(require("node_modules/chai-asserttype/asserttype.js"));
chai.use(require("node_modules/chai-events/chai-events.js"));
mocha.setup('tdd');
mocha.slow(400);
mocha.timeout(6000);
if (!window.__karma__) {
mocha.bail();
}
expect = chai.expect;
assert = chai.assert;
this.sandbox = null;
suite("QuickPopup", function () {
setup(helpers.restartSandbox);
teardown(Popup.destroyAll);
test("Version Property", function () {
var packageVersion;
packageVersion = "1.0.0";
return expect(Popup.version).to.equal(packageVersion);
});
suite("instance", function () {
test("should be an event emitter", function () {
var popup;
popup = Popup();
assert.equal(typeof popup.on, 'function');
assert.equal(typeof popup.off, 'function');
assert.equal(typeof popup.emit, 'function');
Promise.delay().then(function () {
return popup.emit('someEvent');
});
return expect(popup).to.emit('someEvent');
});
return suite("args", function () {
test("using no args", function () {
var popup;
popup = Popup();
popup = new Popup();
assert(!(popup instanceof Popup));
assert.equal(typeof popup, 'object');
assert.equal(typeof popup.open, 'function');
return assert.equal(popup.el.text, '');
});
test("with string arg", function () {
var popup;
popup = Popup('provided string');
return assert.equal(popup.el.text, 'provided string');
});
test("with html string arg", function () {
var contents, popup;
popup = Popup('<b class="theBoldOne">provided string</b><i class="theSlantedOne"> is slanted</b>');
assert.equal(popup.el.text, 'provided string is slanted');
contents = popup.el.child.content.lastChild.children;
assert.equal(contents.length, 2);
assert.equal(contents[0].type, 'b');
assert.equal(contents[1].type, 'i');
assert.equal(contents[0].raw.className, 'theBoldOne');
return assert.equal(contents[1].raw.className, 'theSlantedOne');
});
test("with DOM element arg", function () {
var contents, div, popup, span;
span = DOM.span({
class: 'abc123-child'
}, 'provided el');
div = DOM.div({
class: 'abc123'
}, span);
popup = Popup(div.raw);
assert.equal(popup.el.text, 'provided el');
contents = popup.el.child.content.children;
assert.equal(contents.length, 1);
assert.equal(contents[0].type, 'div');
assert.equal(contents[0].raw.className, 'abc123');
assert.equal(contents[0], div);
return assert.equal(contents[0].children[0], span);
});
test("with QuickDOM element arg", function () {
var contents, div, popup, span;
span = DOM.span({
class: 'abc123-child'
}, 'provided el');
div = DOM.div({
class: 'abc123'
}, span);
popup = Popup(div);
assert.equal(popup.el.text, 'provided el');
contents = popup.el.child.content.children;
assert.equal(contents.length, 1);
assert.equal(contents[0].type, 'div');
assert.equal(contents[0].raw.className, 'abc123');
assert.equal(contents[0], div);
return assert.equal(contents[0].children[0], span);
});
return test("with settings arg", function () {
var popupA, popupB;
popupA = Popup({});
popupB = Popup({
placement: 'bottom'
});
assert.equal(popupA.settings.placement, 'center');
return assert.equal(popupB.settings.placement, 'bottom');
});
});
});
suite("behavior", function () {
test("should create a wrapper element around body contents", function () {
var bodyChildren, popup;
assert.equal(typeof DOM.query('#bodyWrapper'), 'undefined');
bodyChildren = DOM(document.body).children.slice();
popup = Popup();
assert.equal(typeof DOM.query('#bodyWrapper'), 'object');
assert.equal(DOM.query('#bodyWrapper').parent, DOM(document.body));
assert.equal(DOM(document.body).children.length, 2);
assert.equal(DOM.query('#bodyWrapper').children.length, bodyChildren.length);
Popup.unwrapBody();
assert.equal(typeof DOM.query('#bodyWrapper'), 'undefined');
assert.equal(DOM(document.body).children.length, bodyChildren.length + 1);
popup.destroy();
assert.equal(DOM(document.body).children.length, bodyChildren.length);
popup = Popup();
assert.equal(DOM(document.body).children.length, 2);
return assert.equal(DOM.query('#bodyWrapper').children.length, bodyChildren.length);
});
return test("Popup.config() will return a new constructor with customized setting defaults & templates", function () {
var Popup2;
Popup2 = Popup.config({
animation: 100
});
assert.notEqual(Popup2, Popup);
assert.equal(Popup2.defaults.animation, 100);
assert.notEqual(Popup.defaults.animation, 100);
Popup();
return Popup2();
});
});
return suite("open/close", function () {
suiteSetup(function () {
return this.Popup = Popup.config({
animation: 50
});
});
test("will return promises that resolve when animation ends", function () {
var content, openPromise, openTime, popup, startTime;
content = DOM.div(null, 'abc123');
popup = this.Popup(content);
startTime = Date.now();
openTime = null;
assert.equal(popup.state.open, false);
openPromise = popup.open();
assert.ok(openPromise instanceof Promise);
assert.ok(openPromise.isPending());
return Promise.bind(this).then(function () {
return openPromise;
}).then(function () {
openTime = Date.now();
assert.isAtLeast(openTime - startTime, this.Popup.defaults.animation / 2);
return assert.equal(popup.state.open, true);
}).then(function () {
return popup.close();
}).then(function () {
assert.isAtLeast(Date.now() - openTime, this.Popup.defaults.animation / 2);
return assert.equal(popup.state.open, false);
});
});
test("will emit events before/present/finish for open/close", function () {
var count, events, popup;
popup = this.Popup();
events = ['beforeopen', 'open', 'finishopen', 'beforeclose', 'close', 'finishclose'];
count = {};
events.forEach(function (event) {
count[event] = 0;
return popup.on(event, function () {
return count[event]++;
});
});
return Promise.resolve().then(function () {
return assert.deepEqual(count, {
beforeopen: 0,
open: 0,
finishopen: 0,
beforeclose: 0,
close: 0,
finishclose: 0
});
}).then(function () {
return popup.open();
}).then(function () {
return assert.deepEqual(count, {
beforeopen: 1,
open: 1,
finishopen: 1,
beforeclose: 0,
close: 0,
finishclose: 0
});
}).then(function () {
return popup.close();
}).then(function () {
return assert.deepEqual(count, {
beforeopen: 1,
open: 1,
finishopen: 1,
beforeclose: 1,
close: 1,
finishclose: 1
});
});
});
test("will fail to open if another popup is open", function () {
var popupA, popupB;
popupA = this.Popup();
popupB = this.Popup();
return Promise.resolve().then(function () {
assert.equal(popupA.state.open, false);
return assert.equal(popupB.state.open, false);
}).then(function () {
return popupA.open();
}).then(function () {
assert.equal(popupA.state.open, true);
return assert.equal(popupB.state.open, false);
}).then(function () {
return popupB.open();
}).then(function () {
assert.equal(popupA.state.open, true);
return assert.equal(popupB.state.open, false);
});
});
return test("will close all other open popups and will force open when options.forceOpen", function () {
var popupA, popupB;
popupA = this.Popup();
popupB = this.Popup({
forceOpen: true
});
return Promise.resolve().then(function () {
assert.equal(popupA.state.open, false);
return assert.equal(popupB.state.open, false);
}).then(function () {
return popupA.open();
}).then(function () {
assert.equal(popupA.state.open, true);
return assert.equal(popupB.state.open, false);
}).then(function () {
return popupB.open();
}).then(function () {
assert.equal(popupA.state.open, false);
return assert.equal(popupB.state.open, true);
}).then(function () {
return popupA.open();
}).then(function () {
assert.equal(popupA.state.open, false);
return assert.equal(popupB.state.open, true);
});
});
});
});
return module.exports;
},
"node_modules/quickdom/src/index.coffee": function (require, module, exports) {
var QuickDom;
var CSS = require("node_modules/quickcss/src/index.coffee");
var extend = require("node_modules/smart-extend/src/index.coffee");
var allowedOptions, allowedTemplateOptions;
allowedTemplateOptions = ['id', 'name', 'type', 'href', 'selected', 'checked', 'className'];
allowedOptions = ['id', 'ref', 'type', 'name', 'text', 'style', 'class', 'className', 'url', 'href', 'selected', 'checked', 'props', 'attrs', 'passStateToChildren', 'stateTriggers'];
;
var helpers, styleCache;
helpers = {};
helpers.includes = function (target, item) {
return target && target.indexOf(item) !== -1;
};
helpers.removeItem = function (target, item) {
var itemIndex;
itemIndex = target.indexOf(item);
if (itemIndex !== -1) {
target.splice(itemIndex, 1);
}
return target;
};
helpers.normalizeGivenEl = function (targetEl) {
switch (false) {
case !IS.string(targetEl):
return QuickDom.text(targetEl);
case !IS.domNode(targetEl):
return QuickDom(targetEl);
case !IS.template(targetEl):
return targetEl.spawn();
default:
return targetEl;
}
};
helpers.isStateStyle = function (string) {
return string[0] === '$' || string[0] === '@';
};
helpers.registerStyle = function (rule, level, important) {
var cached, i, len, output, prop, props;
level || (level = 0);
cached = styleCache.get(rule, level);
if (cached) {
return cached;
}
output = {
className: [CSS.register(rule, level, important)],
fns: [],
rule
};
props = Object.keys(rule);
for ((i = 0, len = props.length); i < len; i++) {
prop = props[i];
if (typeof rule[prop] === 'function') {
output.fns.push([prop, rule[prop]]);
}
}
return styleCache.set(rule, output, level);
};
styleCache = new (class {
constructor() {
this.keys = Object.create(null);
this.values = Object.create(null);
}
get(key, level) {
var index;
if (this.keys[level]) {
index = this.keys[level].indexOf(key);
if (index !== -1) {
return this.values[level][index];
}
}
}
set(key, value, level) {
if (!this.keys[level]) {
this.keys[level] = [];
this.values[level] = [];
}
this.keys[level].push(key);
this.values[level].push(value);
return value;
}
})();
;
var IS;
IS = require("node_modules/@danielkalen/is/src/index.coffee");
IS = IS.create('natives', 'dom');
IS.load({
quickDomEl: function (subject) {
return subject && subject.constructor.name === QuickElement.name;
},
template: function (subject) {
return subject && subject.constructor.name === QuickTemplate.name;
}
});
;
var QuickElement, svgNamespace;
svgNamespace = 'http://www.w3.org/2000/svg';
QuickElement = (function () {
class QuickElement {
constructor(type, options) {
this.type = type;
this.options = options;
QuickElement.count++;
if (this.type[0] === '*') {
this.svg = true;
}
this.el = this.options.existing || (this.type === 'text' ? document.createTextNode(typeof this.options.text === 'string' ? this.options.text : '') : this.svg ? document.createElementNS(svgNamespace, this.type.slice(1)) : document.createElement(this.type));
if (this.type === 'text') {
this.append = this.prepend = this.attr = function () {};
}
this._parent = null;
this._styles = {};
this._state = [];
this._children = [];
this._normalizeOptions();
this._applyOptions();
this._attachStateEvents();
this._proxyParent();
if (this.options.existing) {
this._refreshParent();
}
this.el._quickElement = this;
}
toJSON() {
var child, children, i, len, output;
output = [this.type, extend.clone.keys(allowedOptions)(this.options)];
children = this.children;
for ((i = 0, len = children.length); i < len; i++) {
child = children[i];
output.push(child.toJSON());
}
return output;
}
}
;
QuickElement.count = 0;
return QuickElement;
}).call(this);
if (QuickElement.name == null) {
QuickElement.name = 'QuickElement';
}
Object.defineProperties(QuickElement.prototype, {
'raw': {
get: function () {
return this.el;
}
},
'0': {
get: function () {
return this.el;
}
},
'css': {
get: function () {
return this.style;
}
},
'replaceWith': {
get: function () {
return this.replace;
}
},
'removeListener': {
get: function () {
return this.off;
}
}
});
;
var _filterElements, _getChildRefs, _getIndexByProp, _getParents;
QuickElement.prototype.parentsUntil = function (filter) {
return _getParents(this, filter);
};
QuickElement.prototype.parentMatching = function (filter) {
var isRef, nextParent;
if (IS.function(filter) || (isRef = IS.string(filter))) {
nextParent = this.parent;
while (nextParent) {
if (isRef) {
if (nextParent.ref === filter) {
return nextParent;
}
} else {
if (filter(nextParent)) {
return nextParent;
}
}
nextParent = nextParent.parent;
}
}
};
QuickElement.prototype.query = function (selector) {
return QuickDom(this.raw.querySelector(selector));
};
QuickElement.prototype.queryAll = function (selector) {
var i, item, len, output, result;
result = this.raw.querySelectorAll(selector);
output = [];
for ((i = 0, len = result.length); i < len; i++) {
item = result[i];
output.push(item);
}
return new QuickBatch(output);
};
Object.defineProperties(QuickElement.prototype, {
'children': {
get: function () {
var child, i, len, ref1;
if (this.el.childNodes.length !== this._children.length) {
this._children.length = 0;
ref1 = this.el.childNodes;
for ((i = 0, len = ref1.length); i < len; i++) {
child = ref1[i];
if (child.nodeType < 4) {
this._children.push(QuickDom(child));
}
}
}
return this._children;
}
},
'elementChildren': {
get: function () {
return _filterElements(this.children);
}
},
'parent': {
get: function () {
if ((!this._parent || this._parent.el !== this.el.parentNode) && !IS.domDoc(this.el.parentNode)) {
this._parent = QuickDom(this.el.parentNode);
}
return this._parent;
}
},
'parents': {
get: function () {
return _getParents(this);
}
},
'next': {
get: function () {
return QuickDom(this.el.nextSibling);
}
},
'nextEl': {
get: function () {
return QuickDom(this.el.nextElementSibling);
}
},
'nextElAll': {
get: function () {
return _filterElements(this.nextAll);
}
},
'nextAll': {
get: function () {
var nextSibling, siblings;
siblings = [];
nextSibling = QuickDom(this.el.nextSibling);
while (nextSibling) {
siblings.push(nextSibling);
nextSibling = nextSibling.next;
}
return siblings;
}
},
'prev': {
get: function () {
return QuickDom(this.el.previousSibling);
}
},
'prevEl': {
get: function () {
return QuickDom(this.el.previousElementSibling);
}
},
'prevElAll': {
get: function () {
return _filterElements(this.prevAll);
}
},
'prevAll': {
get: function () {
var prevSibling, siblings;
siblings = [];
prevSibling = QuickDom(this.el.previousSibling);
while (prevSibling) {
siblings.push(prevSibling);
prevSibling = prevSibling.prev;
}
return siblings;
}
},
'siblings': {
get: function () {
return this.prevAll.reverse().concat(this.nextAll);
}
},
'elementSiblings': {
get: function () {
return _filterElements(this.siblings);
}
},
'child': {
get: function () {
return this._childRefs || _getChildRefs(this);
}
},
'childf': {
get: function () {
return _getChildRefs(this, true);
}
},
'firstChild': {
get: function () {
return this.children[0];
}
},
'lastChild': {
get: function () {
var children;
children = this.children;
return children[children.length - 1];
}
},
'index': {
get: function () {
var parent;
if (!(parent = this.parent)) {
return null;
} else {
return parent.children.indexOf(this);
}
}
},
'indexType': {
get: function () {
return _getIndexByProp(this, 'type');
}
},
'indexRef': {
get: function () {
return _getIndexByProp(this, 'ref');
}
}
});
_getParents = function (targetEl, filter) {
var isRef, nextParent, parents;
if (!IS.function(filter) && !(isRef = IS.string(filter))) {
filter = void 0;
}
parents = [];
nextParent = targetEl.parent;
while (nextParent) {
parents.push(nextParent);
nextParent = nextParent.parent;
if (isRef) {
if (nextParent && nextParent.ref === filter) {
nextParent = null;
}
} else if (filter) {
if (filter(nextParent)) {
nextParent = null;
}
}
}
return parents;
};
_getChildRefs = function (target, freshCopy) {
var child, childRefs, children, el, i, len, ref, refs;
if (freshCopy || !target._childRefs) {
target._childRefs = {};
}
refs = target._childRefs;
if (target.ref) {
refs[target.ref] = target;
}
children = target.children;
if (children.length) {
for ((i = 0, len = children.length); i < len; i++) {
child = children[i];
childRefs = _getChildRefs(child, freshCopy);
for (ref in childRefs) {
el = childRefs[ref];
refs[ref] || (refs[ref] = el);
}
}
}
return refs;
};
_getIndexByProp = function (main, prop) {
var parent;
if (!(parent = main.parent)) {
return null;
} else {
return parent.children.filter(function (child) {
return child[prop] === main[prop];
}).indexOf(main);
}
};
_filterElements = function (array) {
var i, item, len, output;
if (!array.length) {
return array;
} else {
output = [];
for ((i = 0, len = array.length); i < len; i++) {
item = array[i];
if (item.type !== 'text') {
output.push(item);
}
}
return output;
}
};
;
var CACHED_FN_INSERTED, baseStateTriggers;
baseStateTriggers = {
'hover': {
on: 'mouseenter',
off: 'mouseleave',
bubbles: true
},
'focus': {
on: 'focus',
off: 'blur',
bubbles: true
}
};
QuickElement.prototype._normalizeOptions = function () {
var base1, base2, base3, base4, base5;
if (this.options.relatedInstance) {
(base1 = this.options).related || (base1.related = this.options.relatedInstance);
this.options.relatedInstance = null;
}
this.related = (base2 = this.options).related != null ? base2.related : base2.related = this;
if (this.options.class) {
this.options.className = this.options.class;
}
if (this.options.url) {
this.options.href = this.options.url;
}
if ((base3 = this.options).unpassableStates == null) {
base3.unpassableStates = [];
}
if ((base4 = this.options).passStateToChildren == null) {
base4.passStateToChildren = true;
}
if ((base5 = this.options).passDataToChildren == null) {
base5.passDataToChildren = true;
}
this.options.stateTriggers = this.options.stateTriggers ? extend.clone.deep(baseStateTriggers, this.options.stateTriggers) : baseStateTriggers;
if (this.type === 'text') {
extend(this, this._parseTexts(this.options.text, this._texts));
} else {
extend(this, this._parseStyles(this.options.style, this._styles));
}
};
QuickElement.prototype._parseStyles = function (styles, store) {
var _mediaStates, _providedStates, _providedStatesShared, _stateShared, _styles, base, flattenNestedStates, forceStyle, i, keys, len, specialStates, state, stateStyles, state_, states;
if (!IS.objectPlain(styles)) {
return;
}
keys = Object.keys(styles);
states = keys.filter(function (key) {
return helpers.isStateStyle(key);
});
specialStates = helpers.removeItem(states.slice(), '$base');
_mediaStates = states.filter(function (key) {
return key[0] === '@';
}).map(function (state) {
return state.slice(1);
});
_providedStates = states.map(function (state) {
return state.slice(1);
});
_styles = store || ({});
_stateShared = _providedStatesShared = void 0;
base = !helpers.includes(states, '$base') ? styles : styles.$base;
_styles.base = helpers.registerStyle(base, 0, forceStyle = this.options.forceStyle);
if (specialStates.length) {
flattenNestedStates = function (styleObject, chain, level) {
var hasNonStateProps, i, len, output, state, stateChain, state_, styleKeys;
styleKeys = Object.keys(styleObject);
output = {};
hasNonStateProps = false;
for ((i = 0, len = styleKeys.length); i < len; i++) {
state = styleKeys[i];
if (!helpers.isStateStyle(state)) {
hasNonStateProps = true;
output[state] = styleObject[state];
} else {
chain.push(state_ = state.slice(1));
stateChain = new (require("node_modules/quickdom/src/parts/element/stateChain.coffee"))(chain);
if (_stateShared == null) {
_stateShared = [];
}
if (_providedStatesShared == null) {
_providedStatesShared = [];
}
_providedStatesShared.push(stateChain);
if (state[0] === '@') {
_mediaStates.push(state_);
}
_styles[stateChain.string] = helpers.registerStyle(flattenNestedStates(styleObject[state], chain, level + 1), level + 1, forceStyle);
}
}
if (hasNonStateProps) {
return output;
}
};
for ((i = 0, len = specialStates.length); i < len; i++) {
state = specialStates[i];
state_ = state.slice(1);
stateStyles = flattenNestedStates(styles[state], [state_], 1);
if (stateStyles) {
_styles[state_] = helpers.registerStyle(stateStyles, 1);
}
}
}
return {
_styles,
_mediaStates,
_stateShared,
_providedStates,
_providedStatesShared
};
};
QuickElement.prototype._parseTexts = function (texts, store) {
var _providedStates, _texts, i, len, state, states;
if (!IS.objectPlain(texts)) {
return;
}
states = Object.keys(texts).map(function (state) {
return state.slice(1);
});
_providedStates = states.filter(function (state) {
return state !== 'base';
});
_texts = store || ({});
_texts = {
base: ''
};
for ((i = 0, len = states.length); i < len; i++) {
state = states[i];
_texts[state] = texts['$' + state];
}
return {
_texts,
_providedStates
};
};
QuickElement.prototype._applyOptions = function () {
var event, handler, method, ref, ref1, ref2, value;
if (ref = this.options.id || this.options.ref) {
this.attr('data-ref', this.ref = ref);
}
if (this.options.id) {
this.el.id = this.options.id;
}
if (this.options.className) {
this.el.className = this.options.className;
}
if (this.options.src) {
this.el.src = this.options.src;
}
if (this.options.href) {
this.el.href = this.options.href;
}
if (this.options.type) {
this.el.type = this.options.type;
}
if (this.options.name) {
this.el.name = this.options.name;
}
if (this.options.value) {
this.el.value = this.options.value;
}
if (this.options.selected) {
this.el.selected = this.options.selected;
}
if (this.options.checked) {
this.el.checked = this.options.checked;
}
if (this.options.props) {
this.prop(this.options.props);
}
if (this.options.attrs) {
this.attr(this.options.attrs);
}
this._applyRegisteredStyle(this._styles.base, null, null, this.options.styleAfterInsert);
if (this._texts) {
this.text = this._texts.base;
}
this.on('inserted', CACHED_FN_INSERTED, false, true);
if (this.options.invokeComputersOnce) {
this._invokedComputers = {};
}
if (this.options.recalcOnResize) {
window.addEventListener('resize', () => {
return this.recalcStyle();
});
}
if (this.options.events) {
ref1 = this.options.events;
for (event in ref1) {
handler = ref1[event];
this.on(event, handler);
}
}
if (this.options.methods) {
ref2 = this.options.methods;
for (method in ref2) {
value = ref2[method];
if (!this[method]) {
if (IS.function(value)) {
this[method] = value;
} else if (IS.object(value)) {
Object.defineProperty(this, method, {
configurable: true,
get: value.get,
set: value.set
});
}
}
}
}
if (this.type !== 'text' && IS.object(this.options.text)) {
this.append(QuickDom('text', {
text: this.options.text
}));
}
};
QuickElement.prototype._postCreation = function (data) {
if (this.options.computers) {
if (data && this.options.data) {
data = extend.clone(this.options.data, data);
}
data || (data = this.options.data);
this.applyData(data, false);
if (this.options.computers._init) {
this._runComputer('_init', data);
}
}
if (this.options.state) {
this.state(this.options.state);
}
};
QuickElement.prototype._attachStateEvents = function (force) {
var states;
states = Object.keys(this.options.stateTriggers);
states.forEach(state => {
var disabler, enabler, trigger;
trigger = this.options.stateTriggers[state];
if (!helpers.includes(this._providedStates, state) && !force && !trigger.force) {
return;
}
enabler = IS.string(trigger) ? trigger : trigger.on;
if (IS.object(trigger)) {
disabler = trigger.off;
}
this._listenTo(enabler, () => {
return this.state(state, true, trigger.bubbles);
});
if (disabler) {
return this._listenTo(disabler, () => {
return this.state(state, false, trigger.bubbles);
});
}
});
};
QuickElement.prototype._proxyParent = function () {
var parent;
parent = void 0;
return Object.defineProperty(this, '_parent', {
get: function () {
return parent;
},
set: function (newParent) {
var lastParent;
if (parent = newParent) {
lastParent = this.parents.slice(-1)[0];
if (lastParent.raw === document.documentElement) {
this._unproxyParent(newParent);
} else {
parent.on('inserted', () => {
if (parent === newParent) {
return this._unproxyParent(newParent);
}
});
}
}
}
});
};
QuickElement.prototype._unproxyParent = function (newParent) {
delete this._parent;
this._parent = newParent;
this.emitPrivate('inserted', newParent);
};
CACHED_FN_INSERTED = function () {
var i, len, mediaStates, queryString, results;
this._inserted = this;
if (this.options.styleAfterInsert) {
this.recalcStyle();
}
if ((mediaStates = this._mediaStates) && this._mediaStates.length) {
this._mediaStates = Object.create(null);
results = [];
for ((i = 0, len = mediaStates.length); i < len; i++) {
queryString = mediaStates[i];
results.push(this._mediaStates[queryString] = MediaQuery.register(this, queryString));
}
return results;
}
};
;
var regexWhitespace;
regexWhitespace = /\s+/;
QuickElement.prototype.on = function (eventNames, callback, useCapture, isPrivate) {
var callbackRef, split;
if (this._eventCallbacks == null) {
this._eventCallbacks = {
__refs: {}
};
}
if (IS.string(eventNames) && IS.function(callback)) {
split = eventNames.split('.');
callbackRef = split[1];
eventNames = split[0];
if (eventNames === 'inserted' && this._inserted) {
callback.call(this, this._parent);
return this;
}
eventNames.split(regexWhitespace).forEach(eventName => {
if (!this._eventCallbacks[eventName]) {
this._eventCallbacks[eventName] = [];
if (!isPrivate) {
this._listenTo(eventName, event => {
return this._invokeHandlers(eventName, event);
}, useCapture);
}
}
if (callbackRef) {
this._eventCallbacks.__refs[callbackRef] = callback;
}
return this._eventCallbacks[eventName].push(callback);
});
}
return this;
};
QuickElement.prototype.once = function (eventNames, callback) {
var onceCallback;
if (IS.string(eventNames) && IS.function(callback)) {
this.on(eventNames, onceCallback = event => {
this.off(eventNames, onceCallback);
return callback.call(this, event);
});
}
return this;
};
QuickElement.prototype.off = function (eventNames, callback) {
var callbackRef, eventName, split;
if (this._eventCallbacks == null) {
this._eventCallbacks = {
__refs: {}
};
}
if (!IS.string(eventNames)) {
for (eventName in this._eventCallbacks) {
this.off(eventName);
}
} else {
split = eventNames.split('.');
callbackRef = split[1];
eventNames = split[0];
eventNames.split(regexWhitespace).forEach(eventName => {
if (this._eventCallbacks[eventName]) {
if (callback == null) {
callback = this._eventCallbacks.__refs[callbackRef];
}
if (IS.function(callback)) {
return helpers.removeItem(this._eventCallbacks[eventName], callback);
} else if (!callbackRef) {
return this._eventCallbacks[eventName].length = 0;
}
}
});
}
return this;
};
QuickElement.prototype.emit = function (eventName, bubbles = true, cancelable = true, data) {
var event;
if (eventName && IS.string(eventName)) {
event = document.createEvent('Event');
event.initEvent(eventName, bubbles, cancelable);
if (data && typeof data === 'object') {
extend(event, data);
}
this.el.dispatchEvent(event);
}
return this;
};
QuickElement.prototype.emitPrivate = function (eventName, arg) {
var ref;
if (eventName && IS.string(eventName) && ((ref = this._eventCallbacks) != null ? ref[eventName] : void 0)) {
this._invokeHandlers(eventName, arg);
}
return this;
};
QuickElement.prototype._invokeHandlers = function (eventName, arg) {
var callbacks, cb, i, len;
callbacks = this._eventCallbacks[eventName].slice();
for ((i = 0, len = callbacks.length); i < len; i++) {
cb = callbacks[i];
cb.call(this, arg);
}
};
QuickElement.prototype._listenTo = function (eventName, callback, useCapture) {
var eventNameToListenFor, listenMethod;
listenMethod = this.el.addEventListener ? 'addEventListener' : 'attachEvent';
eventNameToListenFor = this.el.addEventListener ? eventName : `on${eventName}`;
this.el[listenMethod](eventNameToListenFor, callback, useCapture);
return this;
};
;
var DUMMY_ARRAY;
DUMMY_ARRAY = [];
QuickElement.prototype.state = function (targetState, value, bubbles, source) {
var activeStates, child, desiredValue, i, j, key, keys, len, prop, ref, toggle;
if (arguments.length === 0) {
return this._state.slice();
}
if (arguments.length === 1) {
if (IS.string(targetState)) {
return helpers.includes(this._state, targetState);
} else if (IS.object(targetState)) {
keys = Object.keys(targetState);
i = -1;
while (key = keys[++i]) {
this.state(key, targetState[key]);
}
return this;
}
} else if (this._statePipeTarget && source !== this) {
this._statePipeTarget.state(targetState, value, bubbles, this);
return this;
} else if (IS.string(targetState)) {
if (targetState[0] === '$') {
targetState = targetState.slice(1);
}
if (targetState === 'base') {
return this;
}
desiredValue = !!value;
activeStates = this._getActiveStates(targetState, false);
if (this.state(targetState) !== desiredValue) {
prop = this.type === 'text' ? 'Text' : 'Style';
if (desiredValue) {
this._state.push(targetState);
toggle = 'ON';
} else {
helpers.removeItem(this._state, targetState);
toggle = 'OFF';
}
this['_turn' + prop + toggle](targetState, activeStates);
this.emitPrivate(`stateChange:${targetState}`, desiredValue);
}
if (!helpers.includes(this.options.unpassableStates, targetState)) {
if (bubbles) {
if (this.parent) {
this._parent.state(targetState, value, true, source || this);
}
} else if (this.options.passStateToChildren) {
ref = this._children;
for ((j = 0, len = ref.length); j < len; j++) {
child = ref[j];
child.state(targetState, value, false, source || this);
}
}
}
return this;
}
};
QuickElement.prototype.toggleState = function (targetState) {
return this.state(targetState, !this.state(targetState));
};
QuickElement.prototype.resetState = function () {
var activeState, j, len, ref;
ref = this._state.slice();
for ((j = 0, len = ref.length); j < len; j++) {
activeState = ref[j];
this.state(activeState, false);
}
return this;
};
QuickElement.prototype.pipeState = function (targetEl) {
var activeState, j, len, ref;
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl) && targetEl !== this) {
this._statePipeTarget = targetEl;
ref = this._state;
for ((j = 0, len = ref.length); j < len; j++) {
activeState = ref[j];
targetEl.state(activeState, true);
}
}
} else if (targetEl === false) {
delete this._statePipeTarget;
}
return this;
};
QuickElement.prototype._applyRegisteredStyle = function (targetStyle, superiorStates, includeBase, skipFns) {
var className, entry, j, k, len, len1, ref, ref1, superiorStyles;
if (targetStyle) {
ref = targetStyle.className;
for ((j = 0, len = ref.length); j < len; j++) {
className = ref[j];
this.addClass(className);
}
if (targetStyle.fns.length && !skipFns) {
if (superiorStates) {
superiorStyles = this._resolveFnStyles(superiorStates, includeBase);
}
ref1 = targetStyle.fns;
for ((k = 0, len1 = ref1.length); k < len1; k++) {
entry = ref1[k];
if (!(superiorStyles && superiorStyles[entry[0]])) {
this.style(entry[0], entry[1]);
}
}
}
}
};
QuickElement.prototype._removeRegisteredStyle = function (targetStyle, superiorStates, includeBase) {
var className, entry, j, k, len, len1, ref, ref1, resetValue, superiorStyles;
ref = targetStyle.className;
for ((j = 0, len = ref.length); j < len; j++) {
className = ref[j];
this.removeClass(className);
}
if (targetStyle.fns.length) {
if (superiorStates) {
superiorStyles = this._resolveFnStyles(superiorStates, includeBase);
}
ref1 = targetStyle.fns;
for ((k = 0, len1 = ref1.length); k < len1; k++) {
entry = ref1[k];
resetValue = superiorStyles && superiorStyles[entry[0]] || null;
this.style(entry[0], resetValue);
}
}
};
QuickElement.prototype._turnStyleON = function (targetState, activeStates) {
var j, len, sharedStates, skipFns, stateChain;
skipFns = this.options.styleAfterInsert && !this._inserted;
if (this._styles[targetState]) {
this._applyRegisteredStyle(this._styles[targetState], this._getSuperiorStates(targetState, activeStates), false, skipFns);
}
if (this._providedStatesShared) {
sharedStates = this._getSharedStates(targetState);
for ((j = 0, len = sharedStates.length); j < len; j++) {
stateChain = sharedStates[j];
if (!helpers.includes(this._stateShared, stateChain.string)) {
this._stateShared.push(stateChain.string);
}
this._applyRegisteredStyle(this._styles[stateChain.string], null, null, skipFns);
}
}
};
QuickElement.prototype._turnStyleOFF = function (targetState, activeStates) {
var activeSharedStates, j, len, sharedStates, stateChain, targetStyle;
if (this._styles[targetState]) {
this._removeRegisteredStyle(this._styles[targetState], activeStates, true);
}
if (this._providedStatesShared) {
sharedStates = this._getSharedStates(targetState);
if (sharedStates.length === 0) {
return;
}
for ((j = 0, len = sharedStates.length); j < len; j++) {
stateChain = sharedStates[j];
helpers.removeItem(this._stateShared, stateChain.string);
targetStyle = this._styles[stateChain.string];
if (targetStyle.fns.length && this._stateShared.length && !activeSharedStates) {
activeSharedStates = this._stateShared.filter(function (state) {
return !helpers.includes(state, targetState);
});
activeStates = activeStates.concat(activeSharedStates);
}
this._removeRegisteredStyle(targetStyle, activeStates, true);
}
}
};
QuickElement.prototype._turnTextON = function (targetState, activeStates) {
var superiorStates, targetText;
if (this._texts && IS.string(targetText = this._texts[targetState])) {
superiorStates = this._getSuperiorStates(targetState, activeStates);
if (!superiorStates.length) {
this.text = targetText;
}
}
};
QuickElement.prototype._turnTextOFF = function (targetState, activeStates) {
var targetText;
if (this._texts && IS.string(targetText = this._texts[targetState])) {
activeStates = activeStates.filter(function (state) {
return state !== targetState;
});
targetText = this._texts[activeStates[activeStates.length - 1]];
if (targetText == null) {
targetText = this._texts.base;
}
this.text = targetText;
}
};
QuickElement.prototype._getActiveStates = function (stateToExclude, includeSharedStates = true) {
var activeStates, j, len, plainStates, state;
if (!this._providedStates) {
return DUMMY_ARRAY;
}
activeStates = plainStates = this._state;
if (stateToExclude) {
plainStates = [];
for ((j = 0, len = activeStates.length); j < len; j++) {
state = activeStates[j];
if (state !== stateToExclude) {
plainStates.push(state);
}
}
}
if (!includeSharedStates || !this._providedStatesShared) {
return plainStates;
} else {
return plainStates.concat(this._stateShared);
}
};
QuickElement.prototype._getSuperiorStates = function (targetState, activeStates) {
var candidate, j, len, superior, targetStateIndex;
targetStateIndex = this._providedStates.indexOf(targetState);
if (targetStateIndex === this._providedStates.length - 1) {
return DUMMY_ARRAY;
}
superior = [];
for ((j = 0, len = activeStates.length); j < len; j++) {
candidate = activeStates[j];
if (this._providedStates.indexOf(candidate) > targetStateIndex) {
superior.push(candidate);
}
}
return superior;
};
QuickElement.prototype._getSharedStates = function (targetState) {
var activeStates, j, len, ref, sharedStates, stateChain;
activeStates = this._state;
sharedStates = [];
ref = this._providedStatesShared;
for ((j = 0, len = ref.length); j < len; j++) {
stateChain = ref[j];
if (stateChain.includes(targetState) && stateChain.isApplicable(targetState, activeStates)) {
sharedStates.push(stateChain);
}
}
return sharedStates;
};
QuickElement.prototype._resolveFnStyles = function (states, includeBase) {
var entry, j, k, len, len1, output, ref, state;
if (includeBase) {
states = ['base'].concat(states);
}
output = {};
for ((j = 0, len = states.length); j < len; j++) {
state = states[j];
if (this._styles[state] && this._styles[state].fns.length) {
ref = this._styles[state].fns;
for ((k = 0, len1 = ref.length); k < len1; k++) {
entry = ref[k];
output[entry[0]] = entry[1];
}
}
}
return output;
};
;
var aspectRatioGetter, orientationGetter;
QuickElement.prototype.style = function (property) {
var args, i, key, keys, result, value;
if (this.type === 'text') {
return;
}
args = arguments;
if (IS.string(property)) {
value = typeof args[1] === 'function' ? args[1].call(this, this.related) : args[1];
if (args[1] === null && IS.defined(this.currentStateStyle(property)) && !IS.function(this.currentStateStyle(property))) {
value = CSS.UNSET;
}
result = CSS(this.el, property, value, this.options.forceStyle);
if (args.length === 1) {
if (this._inserted) {
return result;
} else if (!result) {
return result;
} else {
return '';
}
}
} else if (IS.object(property)) {
keys = Object.keys(property);
i = -1;
while (key = keys[++i]) {
this.style(key, property[key]);
}
}
return this;
};
QuickElement.prototype.styleSafe = function (property, skipComputed) {
var computed, result, sample;
if (this.type === 'text') {
return;
}
sample = this.el.style[property];
if (IS.string(sample) || IS.number(sample)) {
computed = skipComputed ? 0 : this.style(property);
result = computed || this.el.style[property] || this.currentStateStyle(property) || '';
if (typeof result === 'function') {
return result.call(this, this.related);
} else {
return result;
}
}
return this;
};
QuickElement.prototype.styleParsed = function (property, skipComputed) {
return parseFloat(this.styleSafe(property, skipComputed));
};
QuickElement.prototype.recalcStyle = function (recalcChildren) {
var child, j, len, ref, targetStyles;
targetStyles = this._resolveFnStyles(this._getActiveStates(), true);
this.style(targetStyles);
if (recalcChildren) {
ref = this._children;
for ((j = 0, len = ref.length); j < len; j++) {
child = ref[j];
child.recalcStyle();
}
}
return this;
};
QuickElement.prototype.currentStateStyle = function (property) {
var i, state, states;
if (property) {
if (this._state.length) {
states = this._state.slice();
if (this._stateShared && this._stateShared.length) {
states.push(...this._stateShared);
}
i = states.length;
while (state = states[--i]) {
if (this._styles[state] && IS.defined(this._styles[state].rule[property])) {
return this._styles[state].rule[property];
}
}
}
if (this._styles.base) {
return this._styles.base.rule[property];
}
}
};
QuickElement.prototype.hide = function () {
return this.style('display', 'none');
};
QuickElement.prototype.show = function (display) {
var ref;
if (!display) {
display = this.currentStateStyle('display');
if (display === 'none' || !display) {
display = 'block';
}
}
if (display == null) {
display = ((ref = this._styles.base) != null ? ref.display : void 0) || 'block';
}
return this.style('display', display);
};
Object.defineProperties(QuickElement.prototype, {
'orientation': orientationGetter = {
get: function () {
if (this.width > this.height) {
return 'landscape';
} else {
return 'portrait';
}
}
},
'aspectRatio': aspectRatioGetter = {
get: function () {
return this.width / this.height;
}
},
'rect': {
get: function () {
return this.el.getBoundingClientRect();
}
},
'width': {
get: function () {
return parseFloat(this.style('width'));
},
set: function (value) {
return this.style('width', value);
}
},
'height': {
get: function () {
return parseFloat(this.style('height'));
},
set: function (value) {
return this.style('height', value);
}
}
});
;
QuickElement.prototype.attr = function (target, newValue) {
var i, key, keys;
if (arguments.length === 1) {
if (typeof target === 'string') {
return this.el.getAttribute(target);
}
if (IS.object(target)) {
keys = Object.keys(target);
i = -1;
while (key = keys[++i]) {
this.attr(key, target[key]);
}
}
} else if (newValue === null) {
return this.el.removeAttribute(target);
} else {
this.el.setAttribute(target, newValue);
}
return this;
};
QuickElement.prototype.prop = function (target, newValue) {
var i, key, keys;
if (arguments.length === 1) {
if (typeof target === 'string') {
return this.el[target];
}
if (IS.object(target)) {
keys = Object.keys(target);
i = -1;
while (key = keys[++i]) {
this.prop(key, target[key]);
}
}
} else {
this.el[target] = newValue;
}
return this;
};
;
QuickElement.prototype.toTemplate = function () {
return QuickDom.template(this);
};
QuickElement.prototype.clone = function () {
var activeState, callback, callbacks, child, elClone, eventName, i, j, k, len, len1, len2, newEl, options, ref, ref1, ref2;
elClone = this.el.cloneNode(false);
options = extend.clone(this.options, {
existing: elClone
});
newEl = new QuickElement(this.type, options);
ref = this._state;
for ((i = 0, len = ref.length); i < len; i++) {
activeState = ref[i];
newEl.state(activeState, true);
}
ref1 = this.children;
for ((j = 0, len1 = ref1.length); j < len1; j++) {
child = ref1[j];
newEl.append(child.clone());
}
ref2 = this._eventCallbacks;
for (eventName in ref2) {
callbacks = ref2[eventName];
for ((k = 0, len2 = callbacks.length); k < len2; k++) {
callback = callbacks[k];
newEl.on(eventName, callback);
}
}
return newEl;
};
QuickElement.prototype.append = function (targetEl) {
var prevParent;
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
prevParent = targetEl.parent;
if (prevParent) {
prevParent._removeChild(targetEl);
}
this._children.push(targetEl);
this.el.appendChild(targetEl.el);
targetEl._refreshParent();
}
}
return this;
};
QuickElement.prototype.appendTo = function (targetEl) {
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
targetEl.append(this);
}
}
return this;
};
QuickElement.prototype.prepend = function (targetEl) {
var prevParent;
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
prevParent = targetEl.parent;
if (prevParent) {
prevParent._removeChild(targetEl);
}
this._children.unshift(targetEl);
this.el.insertBefore(targetEl.el, this.el.firstChild);
targetEl._refreshParent();
}
}
return this;
};
QuickElement.prototype.prependTo = function (targetEl) {
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
targetEl.prepend(this);
}
}
return this;
};
QuickElement.prototype.after = function (targetEl) {
var myIndex;
if (targetEl && this.parent) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
myIndex = this.parent._children.indexOf(this);
this.parent._children.splice(myIndex + 1, 0, targetEl);
this.el.parentNode.insertBefore(targetEl.el, this.el.nextSibling);
targetEl._refreshParent();
}
}
return this;
};
QuickElement.prototype.insertAfter = function (targetEl) {
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
targetEl.after(this);
}
}
return this;
};
QuickElement.prototype.before = function (targetEl) {
var myIndex;
if (targetEl && this.parent) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
myIndex = this.parent._children.indexOf(this);
this.parent._children.splice(myIndex, 0, targetEl);
this.el.parentNode.insertBefore(targetEl.el, this.el);
targetEl._refreshParent();
}
}
return this;
};
QuickElement.prototype.insertBefore = function (targetEl) {
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl)) {
targetEl.before(this);
}
}
return this;
};
QuickElement.prototype.detach = function () {
var ref;
if ((ref = this.parent) != null) {
ref._removeChild(this);
}
return this;
};
QuickElement.prototype.remove = function () {
var eventName;
this.detach();
this.resetState();
if (this._eventCallbacks) {
for (eventName in this._eventCallbacks) {
this._eventCallbacks[eventName].length = 0;
}
}
return this;
};
QuickElement.prototype.empty = function () {
var child, i, len, ref;
ref = this.children.slice();
for ((i = 0, len = ref.length); i < len; i++) {
child = ref[i];
this._removeChild(child);
}
return this;
};
QuickElement.prototype.wrap = function (targetEl) {
var currentParent;
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
currentParent = this.parent;
if (IS.quickDomEl(targetEl) && targetEl !== this && targetEl !== this.parent) {
if (currentParent) {
currentParent._removeChild(this, !targetEl.parent ? targetEl : void 0);
}
targetEl.append(this);
}
}
return this;
};
QuickElement.prototype.unwrap = function () {
var grandParent, parent, parentChildren, parentSibling;
parent = this.parent;
if (parent) {
parentChildren = QuickDom.batch(parent.children);
parentSibling = parent.next;
grandParent = parent.parent;
if (grandParent) {
parent.detach();
if (parentSibling) {
parentChildren.insertBefore(parentSibling);
} else {
parentChildren.appendTo(grandParent);
}
}
}
return this;
};
QuickElement.prototype.replace = function (targetEl) {
var ref;
if (targetEl) {
targetEl = helpers.normalizeGivenEl(targetEl);
if (IS.quickDomEl(targetEl) && targetEl !== this) {
targetEl.detach();
if ((ref = this.parent) != null) {
ref._removeChild(this, targetEl);
}
targetEl._refreshParent();
}
}
return this;
};
QuickElement.prototype.hasClass = function (target) {
return helpers.includes(this.classList, target);
};
QuickElement.prototype.addClass = function (target) {
var classList, targetIndex;
classList = this.classList;
targetIndex = classList.indexOf(target);
if (targetIndex === -1) {
classList.push(target);
this.className = classList.length > 1 ? classList.join(' ') : classList[0];
}
return this;
};
QuickElement.prototype.removeClass = function (target) {
var classList, targetIndex;
classList = this.classList;
targetIndex = classList.indexOf(target);
if (targetIndex !== -1) {
classList.splice(targetIndex, 1);
this.className = classList.length ? classList.join(' ') : '';
}
return this;
};
QuickElement.prototype.toggleClass = function (target) {
if (this.hasClass(target)) {
this.removeClass(target);
} else {
this.addClass(target);
}
return this;
};
QuickElement.prototype.setRef = function (target) {
this.ref = this.options.ref = target;
this.attr('data-ref', target);
return this;
};
QuickElement.prototype._refreshParent = function () {
return this.parent;
};
QuickElement.prototype._removeChild = function (targetChild, replacementChild) {
var indexOfChild;
indexOfChild = this.children.indexOf(targetChild);
if (indexOfChild !== -1) {
if (replacementChild) {
this.el.replaceChild(replacementChild.el, targetChild.el);
this._children.splice(indexOfChild, 1, replacementChild);
} else {
this.el.removeChild(targetChild.el);
this._children.splice(indexOfChild, 1);
}
}
return this;
};
Object.defineProperties(QuickElement.prototype, {
'html': {
get: function () {
return this.el.innerHTML;
},
set: function (newValue) {
return this.el.innerHTML = newValue;
}
},
'text': {
get: function () {
return this.el.textContent;
},
set: function (newValue) {
return this.el.textContent = newValue;
}
},
'className': {
get: function () {
if (this.svg) {
return this.attr('class') || '';
} else {
return this.raw.className;
}
},
set: function (newValue) {
if (this.svg) {
return this.attr('class', newValue);
} else {
return this.raw.className = newValue;
}
}
},
'classList': {
get: function () {
var list;
list = this.className.split(/\s+/);
if (list[list.length - 1] === '') {
list.pop();
}
if (list[0] === '') {
list.shift();
}
return list;
}
}
});
;
QuickElement.prototype.updateOptions = function (options) {
if (IS.object(options)) {
this.options = options;
this._normalizeOptions();
this._applyOptions(this.options);
}
return this;
};
QuickElement.prototype.updateStateStyles = function (styles) {
var i, len, parsed, state, updatedStates;
if (IS.objectPlain(styles)) {
extend.deep.concat(this, parsed = this._parseStyles(styles));
if (parsed._styles) {
updatedStates = Object.keys(parsed._styles);
for ((i = 0, len = updatedStates.length); i < len; i++) {
state = updatedStates[i];
if (this.state(state) || state === 'base') {
this._applyRegisteredStyle(this._styles[state], this._getActiveStates(state), false);
}
}
}
}
return this;
};
QuickElement.prototype.updateStateTexts = function (texts) {
var parsed;
if (IS.objectPlain(texts)) {
extend.deep.concat(this, parsed = this._parseTexts(texts));
}
return this;
};
QuickElement.prototype.applyData = function (data, passThrough) {
var child, computers, defaults, i, j, key, keys, len, len1, ref;
if (this.options.passDataToChildren && this._children.length && (passThrough != null ? passThrough : passThrough = true)) {
ref = this._children;
for ((i = 0, len = ref.length); i < len; i++) {
child = ref[i];
child.applyData(data);
}
}
if (computers = this.options.computers) {
defaults = this.options.defaults;
keys = Object.keys(computers);
for ((j = 0, len1 = keys.length); j < len1; j++) {
key = keys[j];
if (this.options.invokeComputersOnce) {
if (this._invokedComputers[key]) {
continue;
}
this._invokedComputers[key] = 1;
}
if (data && data.hasOwnProperty(key)) {
this._runComputer(key, data[key], data);
} else if (defaults && defaults.hasOwnProperty(key)) {
this._runComputer(key, defaults[key], data);
}
}
}
return this;
};
QuickElement.prototype._runComputer = function (computer, arg, data) {
return this.options.computers[computer].call(this, arg, data);
};
;
;
var QuickWindow;
QuickWindow = {
type: 'window',
el: window,
raw: window,
_eventCallbacks: {
__refs: {}
}
};
QuickWindow.on = QuickElement.prototype.on;
QuickWindow.off = QuickElement.prototype.off;
QuickWindow.emit = QuickElement.prototype.emit;
QuickWindow.emitPrivate = QuickElement.prototype.emitPrivate;
QuickWindow._listenTo = QuickElement.prototype._listenTo;
QuickWindow._invokeHandlers = QuickElement.prototype._invokeHandlers;
Object.defineProperties(QuickWindow, {
'width': {
get: function () {
return window.innerWidth;
}
},
'height': {
get: function () {
return window.innerHeight;
}
},
'orientation': orientationGetter,
'aspectRatio': aspectRatioGetter
});
;
var MediaQuery, ruleDelimiter;
MediaQuery = new (function () {
var callbacks, testRule;
callbacks = [];
window.addEventListener('resize', function () {
var callback, i, len;
for ((i = 0, len = callbacks.length); i < len; i++) {
callback = callbacks[i];
callback();
}
});
this.parseQuery = function (target, queryString) {
var querySplit, rules, source;
querySplit = queryString.split('(');
source = querySplit[0];
source = (function () {
switch (source) {
case 'window':
return QuickWindow;
case 'parent':
return target.parent;
case 'self':
return target;
default:
return target.parentMatching(function (parent) {
return parent.ref === source.slice(1);
});
}
})();
rules = querySplit[1].slice(0, -1).split(ruleDelimiter).map(function (rule) {
var getter, key, keyPrefix, max, min, split, value;
split = rule.split(':');
value = parseFloat(split[1]);
if (isNaN(value)) {
value = split[1];
}
key = split[0];
keyPrefix = key.slice(0, 4);
max = keyPrefix === 'max-';
min = !max && keyPrefix === 'min-';
if (max || min) {
key = key.slice(4);
}
getter = (function () {
switch (key) {
case 'orientation':
return function () {
return source.orientation;
};
case 'aspect-ratio':
return function () {
return source.aspectRatio;
};
case 'width':
case 'height':
return function () {
return source[key];
};
default:
return function () {
var parsedValue, stringValue;
stringValue = source.style(key);
parsedValue = parseFloat(stringValue);
if (isNaN(parsedValue)) {
return stringValue;
} else {
return parsedValue;
}
};
}
})();
return {
key,
value,
min,
max,
getter
};
});
return {
source,
rules
};
};
this.register = function (target, queryString) {
var callback, query;
query = this.parseQuery(target, queryString);
if (query.source) {
callbacks.push(callback = function () {
return testRule(target, query, queryString);
});
callback();
}
return query;
};
testRule = function (target, query, queryString) {
var currentValue, i, len, passed, ref, rule;
passed = true;
ref = query.rules;
for ((i = 0, len = ref.length); i < len; i++) {
rule = ref[i];
currentValue = rule.getter();
passed = (function () {
switch (false) {
case !rule.min:
return currentValue >= rule.value;
case !rule.max:
return currentValue <= rule.value;
default:
return currentValue === rule.value;
}
})();
if (!passed) {
break;
}
}
return target.state(queryString, passed);
};
return this;
})();
ruleDelimiter = /,\s*/;
;
QuickDom = function () {
var arg, args, element, i, j, len, prevCount;
args = new Array(arguments.length);
for ((i = j = 0, len = arguments.length); j < len; i = ++j) {
arg = arguments[i];
args[i] = arg;
}
prevCount = QuickElement.count;
element = QuickDom.create(args);
if (element && element._postCreation && QuickElement.count !== prevCount) {
element._postCreation();
}
return element;
};
QuickDom.create = function (args) {
var argsLength, child, children, element, i, j, len, options, type;
switch (false) {
case !IS.array(args[0]):
return QuickDom(...args[0]);
case !IS.template(args[0]):
return args[0].spawn();
case !IS.quickDomEl(args[0]):
if (args[1]) {
return args[0].updateOptions(args[1]);
} else {
return args[0];
}
case !(IS.domNode(args[0]) || IS.domDoc(args[0])):
if (args[0]._quickElement) {
return args[0]._quickElement;
}
type = args[0].nodeName.toLowerCase().replace('#', '');
options = args[1] || ({});
options.existing = args[0];
return new QuickElement(type, options);
case args[0] !== window:
return QuickWindow;
case !IS.string(args[0]):
type = args[0].toLowerCase();
if (type === 'text') {
options = IS.object(args[1]) ? args[1] : {
text: args[1] || ''
};
} else {
options = IS.object(args[1]) ? args[1] : {};
}
element = new QuickElement(type, options);
if (args.length > 2) {
children = new Array(argsLength = args.length);
i = 1;
while (++i < argsLength) {
children[i + 1] = args[i];
}
for ((j = 0, len = children.length); j < len; j++) {
child = children[j];
if (IS.string(child)) {
child = QuickDom.text(child);
}
if (IS.array(child)) {
child = QuickDom(...child);
}
if (IS.quickDomEl(child)) {
element.append(child);
}
}
}
return element;
case !(args[0] && (IS.domNode(args[0][0]) || IS.domDoc(args[0][0]))):
return QuickDom(args[0][0]);
}
};
QuickDom.template = function (tree) {
return new QuickTemplate(tree, true);
};
QuickDom.html = function (innerHTML) {
var children, container;
container = document.createElement('div');
container.innerHTML = innerHTML;
children = Array.prototype.slice.call(container.childNodes);
return QuickDom.batch(children);
};
QuickDom.query = function (target) {
return QuickDom(document).query(target);
};
QuickDom.queryAll = function (target) {
return QuickDom(document).queryAll(target);
};
QuickDom.isTemplate = function (target) {
return IS.template(target);
};
QuickDom.isQuickEl = function (target) {
return IS.quickDomEl(target);
};
QuickDom.isEl = function (target) {
return IS.domEl(target);
};
var QuickBatch;
QuickBatch = class QuickBatch {
constructor(elements, returnResults1) {
this.returnResults = returnResults1;
this.elements = elements.map(function (el) {
return QuickDom(el);
});
}
reverse() {
this.elements = this.elements.reverse();
return this;
}
return(returnNext) {
if (returnNext) {
this.returnResults = true;
return this;
} else {
return this.lastResults;
}
}
};
if (QuickBatch.name == null) {
QuickBatch.name = 'QuickBatch';
}
Object.keys(QuickElement.prototype).concat('css', 'replaceWith', 'html', 'text').forEach(function (method) {
return QuickBatch.prototype[method] = function (newValue) {
var element, results;
results = this.lastResults = (function () {
var i, len, ref, results1;
ref = this.elements;
results1 = [];
for ((i = 0, len = ref.length); i < len; i++) {
element = ref[i];
if (method === 'html' || method === 'text') {
if (newValue) {
results1.push(element[method] = newValue);
} else {
results1.push(element[method]);
}
} else {
results1.push(element[method](...arguments));
}
}
return results1;
}).apply(this, arguments);
if (this.returnResults) {
return results;
} else {
return this;
}
};
});
QuickDom.batch = function (elements, returnResults) {
if (!IS.iterable(elements)) {
throw new Error(`Batch: expected an iterable, got ${String(elements)}`);
} else if (!elements.length) {
throw new Error("Batch: expected a non-empty element collection");
}
return new QuickBatch(elements, returnResults);
};
;
var QuickTemplate;
var extendByRef, extendTemplate, notDeepKeys, notKeys;
notDeepKeys = ['relatedInstance', 'related', 'data'];
notKeys = ['children', '_childRefs'];
extendTemplate = function (currentOpts, newOpts, globalOpts) {
var currentChild, currentChildren, globalOptsTransform, index, maxLength, needsTemplateWrap, newChild, newChildProcessed, newChildren, noChanges, output, ref, remainingNewChildren;
if (globalOpts) {
globalOptsTransform = {
options: function (opts) {
return extend(opts, globalOpts);
}
};
}
if (IS.array(newOpts)) {
newOpts = parseTree(newOpts, false);
} else if (newOpts && !matchesSchema(newOpts)) {
newOpts = {
options: newOpts
};
}
output = extend.deep.nullDeletes.notKeys(notKeys).notDeep(notDeepKeys).transform(globalOptsTransform).clone(currentOpts, newOpts);
currentChildren = currentOpts.children;
newChildren = (newOpts != null ? newOpts.children : void 0) || [];
output.children = [];
if (IS.array(newChildren)) {
maxLength = Math.max(currentChildren.length, newChildren.length);
index = -1;
while (++index !== maxLength) {
needsTemplateWrap = noChanges = false;
currentChild = currentChildren[index];
newChild = newChildren[index];
newChildProcessed = (function () {
switch (false) {
case !IS.template(newChild):
return newChild;
case !IS.array(newChild):
return needsTemplateWrap = parseTree(newChild);
case !IS.string(newChild):
return needsTemplateWrap = {
type: 'text',
options: {
text: newChild
}
};
case !(!newChild && !globalOpts):
return noChanges = true;
default:
return needsTemplateWrap = newChild || true;
}
})();
if (noChanges) {
newChildProcessed = currentChild;
} else if (needsTemplateWrap) {
newChildProcessed = currentChild ? currentChild.extend(newChildProcessed, globalOpts) : new QuickTemplate(extend.clone(schema, newChildProcessed));
}
output.children.push(newChildProcessed);
}
} else if (IS.object(newChildren)) {
newChildren = extend.allowNull.clone(newChildren);
output.children = extendByRef(newChildren, currentChildren, globalOpts);
remainingNewChildren = newChildren;
for (ref in remainingNewChildren) {
newChild = remainingNewChildren[ref];
newChildProcessed = IS.objectPlain(newChild) && !IS.template(newChild) ? newChild : parseTree(newChild);
output.children.push(new QuickTemplate(newChildProcessed));
delete remainingNewChildren[ref];
}
}
return output;
};
extendByRef = function (newChildrenRefs, currentChildren, globalOpts) {
var currentChild, i, len, newChild, newChildProcessed, output;
if (!currentChildren.length) {
return currentChildren;
} else {
output = [];
for ((i = 0, len = currentChildren.length); i < len; i++) {
currentChild = currentChildren[i];
newChild = newChildrenRefs[currentChild.ref];
if (newChild) {
newChildProcessed = currentChild.extend(newChild, globalOpts);
delete newChildrenRefs[currentChild.ref];
} else if (newChild === null) {
delete newChildrenRefs[currentChild.ref];
continue;
} else {
newChildProcessed = (function () {
switch (false) {
case !globalOpts:
return currentChild.extend(null, globalOpts);
case !Object.keys(newChildrenRefs).length:
return currentChild.extend();
default:
return currentChild;
}
})();
}
newChildProcessed.children = extendByRef(newChildrenRefs, newChildProcessed.children);
output.push(newChildProcessed);
}
return output;
}
};
;
var parseErrorPrefix, parseTree;
parseTree = function (tree, parseChildren) {
var output;
switch (false) {
case !IS.array(tree):
output = {};
if (!IS.string(tree[0])) {
throw new Error(`${parseErrorPrefix} string for 'type', got '${String(tree[0])}'`);
} else {
output.type = tree[0];
}
if (tree.length > 1 && !IS.object(tree[1]) && tree[1] !== null) {
throw new Error(`${parseErrorPrefix} object for 'options', got '${String(tree[1])}'`);
} else {
output.options = tree[1] ? extend.deep.clone(tree[1]) : schema.options;
if (tree[1]) {
output.ref = tree[1].id || tree[1].ref;
}
}
output.children = tree.slice(2);
if (parseChildren === false) {
if (tree.length === 3 && IS.objectPlain(tree[2]) && !IS.template(tree[2])) {
output.children = tree[2];
}
} else {
output.children = output.children.map(QuickDom.template);
}
return output;
case !(IS.string(tree) || IS.domText(tree)):
return {
type: 'text',
options: {
text: tree.textContent || tree
},
children: schema.children
};
case !IS.domEl(tree):
return {
type: tree.nodeName.toLowerCase(),
ref: tree.id,
options: extend.clone.keys(allowedTemplateOptions)(tree),
children: schema.children.map.call(tree.childNodes, QuickDom.template)
};
case !IS.quickDomEl(tree):
return {
type: tree.type,
ref: tree.ref,
options: extend.clone.deep.notKeys(['relatedInstance', 'related'])(tree.options),
children: tree.children.map(QuickDom.template)
};
case !IS.template(tree):
return tree;
default:
throw new Error(`${parseErrorPrefix} (array || string || domEl || quickDomEl || template), got ${String(tree)}`);
}
};
parseErrorPrefix = 'Template Parse Error: expected';
;
var matchesSchema, schema;
schema = {
type: 'div',
ref: void 0,
options: {},
children: []
};
matchesSchema = function (object) {
return typeof object.type !== 'undefined' || typeof object.ref !== 'undefined' || typeof object.options !== 'undefined' || typeof object.children !== 'undefined';
};
;
QuickTemplate = class QuickTemplate {
constructor(config, isTree) {
if (IS.template(config)) {
return config;
}
config = isTree ? parseTree(config) : config;
extend(this, config);
}
extend(newValues, globalOpts) {
return new QuickTemplate(extendTemplate(this, newValues, globalOpts));
}
spawn(newValues, globalOpts, data) {
var child, childData, children, element, i, len, options, type;
if (newValues && newValues.data) {
data = newValues.data;
if (Object.keys(newValues).length === 1) {
newValues = null;
}
}
if (newValues || globalOpts) {
({options, children, type} = extendTemplate(this, newValues, globalOpts));
} else {
({options, children, type} = this);
options = extend.clone(options);
}
element = QuickDom.create([type, options]);
if (children) {
childData = options.passDataToChildren ? data || options.data : void 0;
for ((i = 0, len = children.length); i < len; i++) {
child = children[i];
element.append(child.spawn(null, null, childData));
}
}
element._postCreation(data);
return element;
}
};
if (QuickTemplate.name == null) {
QuickTemplate.name = 'QuickTemplate';
}
Object.defineProperty(QuickTemplate.prototype, 'child', {
get: function () {
return this._childRefs || _getChildRefs(this);
}
});
;
var i, len, shortcut, shortcuts;
shortcuts = ['link:a', 'anchor:a', 'a', 'text', 'div', 'span', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'footer', 'section', 'button', 'br', 'ul', 'ol', 'li', 'fieldset', 'input', 'textarea', 'select', 'option', 'form', 'frame', 'hr', 'iframe', 'img', 'picture', 'main', 'nav', 'meta', 'object', 'pre', 'style', 'table', 'tbody', 'th', 'tr', 'td', 'tfoot', 'video'];
for ((i = 0, len = shortcuts.length); i < len; i++) {
shortcut = shortcuts[i];
(function (shortcut) {
var prop, split, type;
prop = type = shortcut;
if (helpers.includes(shortcut, ':')) {
split = shortcut.split(':');
prop = split[0];
type = split[1];
}
return QuickDom[prop] = function () {
return QuickDom(type, ...arguments);
};
})(shortcut);
}
;
QuickDom.version = "1.0.88";
QuickDom.CSS = CSS;
module.exports = QuickDom;
return module.exports;
},
"helpers.coffee": function (require, module, exports) {
var detectAnimation;
detectAnimation = require("node_modules/detect-animation-end-helper/index.js");
exports.supportsAnimation = function () {
return !!detectAnimation();
};
exports.transitionEnd = function () {
return detectAnimation('transition');
};
exports.restartSandbox = function () {
if (window.sandbox) {
window.sandbox.remove();
}
window.sandbox = DOM.div({
id: 'sandbox',
style: {
border: '1px solid',
padding: 20,
boxSizing: 'border-box'
}
});
return window.sandbox.appendTo(document.body);
};
return module.exports;
},
"node_modules/chai/index.js": function (require, module, exports) {
module.exports = require("node_modules/chai/lib/chai.js");
return module.exports;
},
"node_modules/chai-dom/chai-dom.js": function (require, module, exports) {
((function (chaiDom) {
if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {
module.exports = chaiDom;
} else if (typeof define === 'function' && define.amd) {
define(function () {
return chaiDom;
});
} else {
chai.use(chaiDom);
}
})(function (chai, utils) {
var flag = utils.flag, elToString = function (el) {
var desc;
if (isNodeList(el)) {
if (el.length === 0) return 'empty NodeList';
desc = Array.prototype.slice.call(el, 0, 5).map(elToString).join(', ');
return el.length > 5 ? desc + '... (+' + (el.length - 5) + ' more)' : desc;
}
if (!isHTMLElement(el)) {
return String(el);
}
desc = el.tagName.toLowerCase();
if (el.id) {
desc += '#' + el.id;
}
if (el.className) {
desc += '.' + String(el.className).replace(/\s+/g, '.');
}
Array.prototype.forEach.call(el.attributes, function (attr) {
if (attr.name !== 'class' && attr.name !== 'id') {
desc += '[' + attr.name + (attr.value ? '="' + attr.value + '"]' : ']');
}
});
return desc;
}, attrAssert = function (name, val) {
var el = flag(this, 'object'), actual = el.getAttribute(name);
if (!flag(this, 'negate') || undefined === val) {
this.assert(!!el.attributes[name], 'expected ' + elToString(el) + ' to have an attribute #{exp}', 'expected ' + elToString(el) + ' not to have an attribute #{exp}', name);
}
if (undefined !== val) {
this.assert(val === actual, 'expected ' + elToString(el) + ' to have an attribute ' + utils.inspect(name) + ' with the value #{exp}, but the value was #{act}', 'expected ' + elToString(el) + ' not to have an attribute ' + utils.inspect(name) + ' with the value #{act}', val, actual);
}
flag(this, 'object', actual);
}, isHTMLElement = function (el) {
return el.nodeType === 1;
}, isNodeList = function (obj) {
return Object.prototype.toString.call(obj) === '[object NodeList]';
};
utils.elToString = elToString;
chai.Assertion.addMethod('attr', attrAssert);
chai.Assertion.addMethod('attribute', attrAssert);
chai.Assertion.addMethod('class', function (className) {
var el = flag(this, 'object');
this.assert(el.classList.contains(className), 'expected ' + elToString(el) + ' to have class #{exp}', 'expected ' + elToString(el) + ' not to have class #{exp}', className);
});
chai.Assertion.addMethod('id', function (id) {
var el = flag(this, 'object');
this.assert(el.id == id, 'expected ' + elToString(el) + ' to have id #{exp}', 'expected ' + elToString(el) + ' not to have id #{exp}', id);
});
chai.Assertion.addMethod('html', function (html) {
var el = flag(this, 'object'), actual = flag(this, 'object').innerHTML;
if (flag(this, 'contains')) {
this.assert(actual.indexOf(html) >= 0, 'expected #{act} to contain HTML #{exp}', 'expected #{act} not to contain HTML #{exp}', html, actual);
} else {
this.assert(actual === html, 'expected ' + elToString(el) + ' to have HTML #{exp}, but the HTML was #{act}', 'expected ' + elToString(el) + ' not to have HTML #{exp}', html, actual);
}
});
chai.Assertion.addChainableMethod('trimmed', null, function () {
flag(this, 'trim-text', true);
});
chai.Assertion.addMethod('text', function (text) {
var obj = flag(this, 'object'), contains = flag(this, 'contains'), trim = flag(this, 'trim-text'), actual, result;
if (isNodeList(obj)) {
actual = Array.prototype.map.call(obj, function (el) {
return trim ? el.textContent.trim() : el.textContent;
});
if (Array.isArray(text)) {
result = contains ? text[flag(this, 'negate') ? 'some' : 'every'](function (t) {
return Array.prototype.some.call(obj, function (el) {
return (trim ? el.textContent.trim() : el.textContent) === t;
});
}) : utils.eql(actual, text);
actual = actual.join();
text = text.join();
} else {
actual = actual.join('');
result = contains ? actual.indexOf(text) >= 0 : actual === text;
}
} else {
actual = trim ? obj.textContent.trim() : obj.textContent;
result = contains ? actual.indexOf(text) >= 0 : actual === text;
}
var objDesc = elToString(obj), textMsg = trim ? 'trimmed text' : 'text';
if (contains) {
this.assert(result, 'expected ' + objDesc + ' to contain #{exp}, but the ' + textMsg + ' was #{act}', 'expected ' + objDesc + ' not to contain #{exp}, but the ' + textMsg + ' was #{act}', text, actual);
} else {
this.assert(result, 'expected ' + objDesc + ' to have ' + textMsg + ' #{exp}, but the ' + textMsg + ' was #{act}', 'expected ' + objDesc + ' not to have ' + textMsg + ' #{exp}', text, actual);
}
});
chai.Assertion.addMethod('value', function (value) {
var el = flag(this, 'object'), actual = flag(this, 'object').value;
this.assert(flag(this, 'object').value === value, 'expected ' + elToString(el) + ' to have value #{exp}, but the value was #{act}', 'expected ' + elToString(el) + ' not to have value #{exp}', value, actual);
});
chai.Assertion.overwriteProperty('exist', function (_super) {
return function () {
var obj = flag(this, 'object');
if (isNodeList(obj)) {
this.assert(obj.length > 0, 'expected an empty NodeList to have nodes', 'expected ' + elToString(obj) + ' to not exist');
} else {
_super.apply(this, arguments);
}
};
});
chai.Assertion.overwriteProperty('empty', function (_super) {
return function () {
var obj = flag(this, 'object');
if (isHTMLElement(obj)) {
this.assert(obj.children.length === 0, 'expected ' + elToString(obj) + ' to be empty', 'expected ' + elToString(obj) + ' to not be empty');
} else if (isNodeList(obj)) {
this.assert(obj.length === 0, 'expected ' + elToString(obj) + ' to be empty', 'expected ' + elToString(obj) + ' to not be empty');
} else {
_super.apply(this, arguments);
}
};
});
chai.Assertion.overwriteChainableMethod('length', function (_super) {
return function (length) {
var obj = flag(this, 'object');
if (isNodeList(obj) || isHTMLElement(obj)) {
var actualLength = obj.children ? obj.children.length : obj.length;
this.assert(actualLength === length, 'expected ' + elToString(obj) + ' to have #{exp} children but it had #{act} children', 'expected ' + elToString(obj) + ' to not have #{exp} children', length, actualLength);
} else {
_super.apply(this, arguments);
}
};
}, function (_super) {
return function () {
_super.call(this);
};
});
chai.Assertion.overwriteMethod('match', function (_super) {
return function (selector) {
var obj = flag(this, 'object');
if (isHTMLElement(obj)) {
this.assert(obj.matches(selector), 'expected ' + elToString(obj) + ' to match #{exp}', 'expected ' + elToString(obj) + ' to not match #{exp}', selector);
} else if (isNodeList(obj)) {
this.assert((!!obj.length && Array.prototype.every.call(obj, function (el) {
return el.matches(selector);
})), 'expected ' + elToString(obj) + ' to match #{exp}', 'expected ' + elToString(obj) + ' to not match #{exp}', selector);
} else {
_super.apply(this, arguments);
}
};
});
chai.Assertion.overwriteChainableMethod('contain', function (_super) {
return function (subitem) {
var obj = flag(this, 'object');
if (isHTMLElement(obj)) {
if (typeof subitem === 'string') {
this.assert(!!obj.querySelector(subitem), 'expected ' + elToString(obj) + ' to contain #{exp}', 'expected ' + elToString(obj) + ' to not contain #{exp}', subitem);
} else {
this.assert(obj.contains(subitem), 'expected ' + elToString(obj) + ' to contain ' + elToString(subitem), 'expected ' + elToString(obj) + ' to not contain ' + elToString(subitem));
}
} else {
_super.apply(this, arguments);
}
};
}, function (_super) {
return function () {
_super.call(this);
};
});
chai.Assertion.addMethod('descendant', function (subitem) {
var obj = flag(this, 'object'), actual = subitem;
if (typeof subitem === 'string') {
actual = obj.querySelector(subitem);
this.assert(!!actual, 'expected ' + elToString(obj) + ' to have descendant #{exp}', 'expected ' + elToString(obj) + ' to not have descendant #{exp}', subitem);
} else {
this.assert(obj.contains(subitem), 'expected ' + elToString(obj) + ' to contain ' + elToString(subitem), 'expected ' + elToString(obj) + ' to not contain ' + elToString(subitem));
}
flag(this, 'object', actual);
});
chai.Assertion.addMethod('descendants', function (selector) {
var obj = flag(this, 'object'), actual = obj.querySelectorAll(selector);
this.assert(!!actual.length, 'expected ' + elToString(obj) + ' to have descendants #{exp}', 'expected ' + elToString(obj) + ' to not have descendants #{exp}', selector);
flag(this, 'object', actual);
});
chai.Assertion.addProperty('displayed', function () {
var el = flag(this, 'object'), actual = document.body.contains(el) ? window.getComputedStyle(el).display : el.style.display;
this.assert(actual !== 'none', 'expected ' + elToString(el) + ' to be displayed, but it was not', 'expected ' + elToString(el) + ' to not be displayed, but it was as ' + actual, actual);
});
chai.Assertion.addProperty('visible', function () {
var el = flag(this, 'object'), actual = document.body.contains(el) ? window.getComputedStyle(el).visibility : el.style.visibility;
this.assert(actual !== 'hidden' && actual !== 'collapse', 'expected ' + elToString(el) + ' to be visible, but it was ' + (actual === 'hidden' ? 'hidden' : 'collapsed'), 'expected ' + elToString(el) + ' to not be visible, but it was', actual);
});
}));
return module.exports;
},
"node_modules/chai-style/sources/index.js": function (require, module, exports) {
module.exports = chaiStyle;
function chaiStyle(chai, utils) {
const {Assertion} = chai;
const {flag} = utils;
Assertion.addMethod('style', function (property, value = '') {
const element = flag(this, 'object');
const style = window.getComputedStyle(element);
value = value.trim();
const isNonColors = style[property] === 'rgba(0, 0, 0, 0)' || style[property] === 'transparent';
const propertyValue = isNonColors ? '' : style[property];
const assertion = value ? compareCSSValue(propertyValue, value) : Boolean(propertyValue);
const elementTag = element.tagName.toLowerCase();
const throwMessage = `expect ${elementTag} to have {${property}: ${value}}, is receiving {${property}: ${propertyValue}}`;
const throwMessageNegative = `expect ${elementTag} to not have {${property}: ${value}}, is receiving {${property}: ${propertyValue}}`;
this.assert(assertion, throwMessage, throwMessageNegative, value);
function compareCSSValue(computed, expected) {
const propertyHifenCase = property.replace(/[A-Z]/g, match => '-' + match.toLowerCase());
const fake = document.createElement('div');
fake.style.fontSize = style.fontSize;
fake.style.setProperty(propertyHifenCase, expected, 'important');
const iframe = document.createElement('iframe');
iframe.style.visibility = 'hidden';
document.body.appendChild(iframe);
iframe.appendChild(fake);
const fakeStyle = window.getComputedStyle(fake);
const value = fakeStyle[property];
const hasAutoValue = value.includes('auto');
const reg = new RegExp(escapeRegExp(value).replace(/auto/g, '(\\d+(.\\d+)?px|auto)'));
const comparisonResult = hasAutoValue ? reg.test(computed) : computed === value;
document.body.removeChild(iframe);
return comparisonResult;
}
});
}
function escapeRegExp(value) {
return String(value).replace(/[\\^$*+?.()|[\]{}]/g, '\\$&');
}
return module.exports;
},
"node_modules/chai-almost/index.js": function (require, module, exports) {
'use strict';
var deepEqual = require("node_modules/chai-almost/node_modules/deep-eql/index.js");
var type = require("node_modules/type-detect/type-detect.js");
var DEFAULT_TOLERANCE = 1e-6;
function isNumber(val) {
return type(val) === 'number';
}
function bothNumbers(left, right) {
return isNumber(right) && isNumber(left);
}
function almostEqual(left, right, tol) {
return Math.abs(left - right) <= tol;
}
function comparator(tolerance) {
return function (left, right) {
if (bothNumbers(left, right)) {
return almostEqual(left, right, tolerance);
}
return null;
};
}
function chaiAlmost(customTolerance) {
var standardTolerance = customTolerance || DEFAULT_TOLERANCE;
return function (chai, utils) {
var Assertion = chai.Assertion;
var flag = utils.flag;
function overrideAssertEqual(_super) {
return function assertEqual(val, msg) {
if (msg) flag(this, 'message', msg);
var deep = flag(this, 'deep');
var tolerance = flag(this, 'tolerance');
if (deep) {
return this.eql(val);
} else if (tolerance && bothNumbers(val, this._obj)) {
this.assert(almostEqual(val, this._obj, tolerance), 'expected #{this} to almost equal #{exp}', 'expected #{this} to not almost equal #{exp}', val, this._obj, true);
} else {
return _super.apply(this, arguments);
}
};
}
function overrideAssertEql(_super) {
return function assertEql(val, msg) {
if (msg) flag(this, 'message', msg);
var tolerance = flag(this, 'tolerance');
if (tolerance) {
this.assert(deepEqual(val, this._obj, {
comparator: comparator(tolerance)
}), 'expected #{this} to deeply almost equal #{exp}', 'expected #{this} to not deeply almost equal #{exp}', val, this._obj, true);
} else {
return _super.apply(this, arguments);
}
};
}
function method(val, toleranceOverride) {
var tolerance = toleranceOverride || standardTolerance;
flag(this, 'tolerance', tolerance);
return this.equal(val);
}
function chainingBehavior() {
flag(this, 'tolerance', standardTolerance);
}
Assertion.addChainableMethod('almost', method, chainingBehavior);
Assertion.overwriteMethod('equal', overrideAssertEqual);
Assertion.overwriteMethod('equals', overrideAssertEqual);
Assertion.overwriteMethod('eq', overrideAssertEqual);
Assertion.overwriteMethod('eql', overrideAssertEql);
Assertion.overwriteMethod('eqls', overrideAssertEql);
};
}
module.exports = chaiAlmost;
return module.exports;
},
"node_modules/chai-asserttype/asserttype.js": function (require, module, exports) {
const check = require("node_modules/check-types/src/check-types.js");
module.exports = chai => {
const types = ['number', 'string', 'boolean', 'object', 'array', 'date', 'function'];
types.forEach(type => {
chai.Assertion.addMethod(type, function () {
this.assert(check[type](this._obj), `expected #{this} to be ${type}`, `expected #{this} not to be ${type}`);
});
});
};
return module.exports;
},
"node_modules/chai-events/chai-events.js": function (require, module, exports) {
function plugin(chai, utils) {
var Assertion = chai.Assertion;
function isEmitter() {
if (typeof EventEmitter !== "undefined" && EventEmitter !== null && this._obj instanceof EventEmitter) {
return this.assert(true, "", "expected #{this} to not be an EventEmitter");
}
if (typeof EventTarget !== "undefined" && EventTarget !== null && this._obj instanceof EventTarget) {
return this.assert(true, "", "expected #{this} to not be an EventTarget");
}
var obj = this._obj;
var node = ["on", "emit"].every(function (method) {
return typeof obj[method] === "function";
});
if (node) {
return this.assert(true, "", "expected #{this} to not be an EventEmitter");
}
var browser = ["addEventListener", "dispatchEvent", "removeEventListener"].every(function (method) {
return typeof obj[method] === "function";
});
if (browser) {
return this.assert(true, "", "expected #{this} to not be an EventEmitter");
}
this.assert(false, "expected #{this} to be an EventEmitter", "");
}
;
Assertion.addProperty("emitter", isEmitter);
Assertion.addProperty("target", isEmitter);
Assertion.addMethod("emit", function (name, args) {
new Assertion(this._obj).to.be.an.emitter;
new Assertion(name).to.be.a("string");
var obj = this._obj;
var _this = this;
var assert = function () {
_this.assert.apply(_this, arguments);
};
var timeout = utils.flag(this, 'timeout') || 1500;
if (utils.flag(this, 'negate')) {
return new Promise(function (resolve, reject) {
var done = false;
obj.on(name, function () {
if (done) {
return;
}
done = true;
assert(false, "expected #{this} to not emit " + name + ".");
resolve();
});
setTimeout(function () {
if (done) {
return;
}
done = true;
resolve();
}, timeout);
});
} else {
return new Promise(function (resolve, reject) {
var done = false;
obj.on(name, function () {
if (done) {
return;
}
done = true;
resolve();
});
setTimeout(function () {
if (done) {
return;
}
done = true;
assert(false, "expected #{this} to emit " + name + ".");
resolve();
}, timeout);
});
}
});
}
if (typeof require === "function" && typeof exports === "object" && typeof module === "object") {
module.exports = plugin;
} else if (typeof define === "function" && define.amd) {
define(function () {
return plugin;
});
} else {
chai.use(plugin);
}
return module.exports;
},
"node_modules/quickcss/src/index.coffee": function (require, module, exports) {
var quickcss;
var helpers = require("node_modules/quickcss/src/helpers.coffee");
var __constants4 = require("node_modules/quickcss/src/constants.coffee");
quickcss = function (targetEl, property, value, important) {
var computedStyle, i, len, subEl, subProperty, subValue;
switch (false) {
case !helpers.isIterable(targetEl):
for ((i = 0, len = targetEl.length); i < len; i++) {
subEl = targetEl[i];
quickcss(subEl, property, value);
}
break;
case typeof property !== 'object':
for (subProperty in property) {
subValue = property[subProperty];
quickcss(targetEl, subProperty, subValue);
}
break;
default:
property = helpers.normalizeProperty(property);
if (typeof value === 'undefined') {
computedStyle = targetEl._computedStyle || (targetEl._computedStyle = getComputedStyle(targetEl));
return computedStyle[property];
} else if (property) {
targetEl.style.setProperty(property, helpers.normalizeValue(property, value), important ? __constants4.IMPORTANT : void 0);
}
}
};
quickcss.animation = function (name, frames) {
var frame, generated, prefix, rules;
if (name && typeof name === 'string' && frames && typeof frames === 'object') {
prefix = helpers.getPrefix('animation');
generated = '';
for (frame in frames) {
rules = frames[frame];
generated += `${frame} {${helpers.ruleToString(rules)}}`;
}
generated = `@${prefix}keyframes ${name} {${generated}}`;
return helpers.inlineStyle(generated, true, 0);
}
};
quickcss.register = function (rule, level, important) {
var className, ref, style;
if (rule && typeof rule === 'object') {
level || (level = 0);
rule = helpers.ruleToString(rule, important);
if (!(className = (ref = helpers.inlineStyleConfig[level]) != null ? ref[rule] : void 0)) {
className = helpers.hash(rule);
style = `.${className} {${rule}}`;
helpers.inlineStyle(style, className, level);
}
return className;
}
};
quickcss.clearRegistered = function (level) {
return helpers.clearInlineStyle(level || 0);
};
quickcss.UNSET = (function () {
switch (false) {
case !helpers.isValueSupported('display', 'unset'):
return 'unset';
case !helpers.isValueSupported('display', 'initial'):
return 'initial';
case !helpers.isValueSupported('display', 'inherit'):
return 'inherit';
}
})();
quickcss.supports = helpers.isValueSupported;
quickcss.supportsProperty = helpers.isPropSupported;
quickcss.normalizeProperty = helpers.normalizeProperty;
quickcss.normalizeValue = helpers.normalizeValue;
quickcss.version = "1.4.0";
module.exports = quickcss;
return module.exports;
},
"node_modules/smart-extend/src/index.coffee": function (require, module, exports) {
var exports, extend, modifiers, newBuilder, normalizeKeys;
extend = require("node_modules/smart-extend/src/extend.coffee");
normalizeKeys = function (keys) {
var i, key, len, output;
if (keys) {
output = {};
if (typeof keys !== 'object') {
output[keys] = true;
} else {
if (!Array.isArray(keys)) {
keys = Object.keys(keys);
}
for ((i = 0, len = keys.length); i < len; i++) {
key = keys[i];
output[key] = true;
}
}
return output;
}
};
newBuilder = function (isBase) {
var builder;
builder = function (target) {
var theTarget;
var $_len = arguments.length, $_i = -1, sources = new Array($_len);
while (++$_i < $_len) sources[$_i] = arguments[$_i];
if (builder.options.target) {
theTarget = builder.options.target;
} else {
theTarget = target;
sources.shift();
}
return extend(builder.options, theTarget, sources);
};
if (isBase) {
builder.isBase = true;
}
builder.options = {};
Object.defineProperties(builder, modifiers);
return builder;
};
modifiers = {
'deep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.deep = true;
return _;
}
},
'own': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.own = true;
return _;
}
},
'allowNull': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.allowNull = true;
return _;
}
},
'nullDeletes': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.nullDeletes = true;
return _;
}
},
'concat': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.concat = true;
return _;
}
},
'clone': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.target = {};
return _;
}
},
'notDeep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notDeep = normalizeKeys(keys);
return _;
};
}
},
'deepOnly': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.deepOnly = normalizeKeys(keys);
return _;
};
}
},
'keys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.keys = normalizeKeys(keys);
return _;
};
}
},
'notKeys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notKeys = normalizeKeys(keys);
return _;
};
}
},
'transform': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (transform) {
if (typeof transform === 'function') {
_.options.globalTransform = transform;
} else if (transform && typeof transform === 'object') {
_.options.transforms = transform;
}
return _;
};
}
},
'filter': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (filter) {
if (typeof filter === 'function') {
_.options.globalFilter = filter;
} else if (filter && typeof filter === 'object') {
_.options.filters = filter;
}
return _;
};
}
}
};
module.exports = exports = newBuilder(true);
exports.version = "1.7.3";
return module.exports;
},
"node_modules/detect-animation-end-helper/index.js": function (require, module, exports) {
module.exports = function (type) {
var types;
if (type && ('transition' === type || 'trans' === type)) {
types = {
'OTransition': 'oTransitionEnd',
'WebkitTransition': 'webkitTransitionEnd',
'MozTransition': 'transitionend',
'transition': 'transitionend'
};
} else {
types = {
'OAnimation': 'oAnimationEnd',
'WebkitAnimation': 'webkitAnimationEnd',
'MozAnimation': 'animationend',
'animation': 'animationend'
};
}
var elem = document.createElement('fake');
return Object.keys(types).reduce(function (prev, trans) {
return undefined !== elem.style[trans] ? types[trans] : prev;
}, '');
};
return module.exports;
},
"node_modules/chai/lib/chai.js": function (require, module, exports) {
var used = [];
exports.version = '4.2.0';
exports.AssertionError = require("node_modules/assertion-error/index.js");
var util = require("node_modules/chai/lib/chai/utils/index.js");
exports.use = function (fn) {
if (!~used.indexOf(fn)) {
fn(exports, util);
used.push(fn);
}
return exports;
};
exports.util = util;
var config = require("node_modules/chai/lib/chai/config.js");
exports.config = config;
var assertion = require("node_modules/chai/lib/chai/assertion.js");
exports.use(assertion);
var core = require("node_modules/chai/lib/chai/core/assertions.js");
exports.use(core);
var expect = require("node_modules/chai/lib/chai/interface/expect.js");
exports.use(expect);
var should = require("node_modules/chai/lib/chai/interface/should.js");
exports.use(should);
var assert = require("node_modules/chai/lib/chai/interface/assert.js");
exports.use(assert);
return module.exports;
},
"node_modules/chai-almost/node_modules/deep-eql/index.js": function (require, module, exports) {
'use strict';
var type = require("node_modules/chai-almost/node_modules/deep-eql/node_modules/type-detect/index.js");
function FakeMap() {
this.clear();
}
FakeMap.prototype = {
clear: function clearMap() {
this.keys = [];
this.values = [];
return this;
},
set: function setMap(key, value) {
var index = this.keys.indexOf(key);
if (index >= 0) {
this.values[index] = value;
} else {
this.keys.push(key);
this.values.push(value);
}
return this;
},
get: function getMap(key) {
return this.values[this.keys.indexOf(key)];
},
delete: function deleteMap(key) {
var index = this.keys.indexOf(key);
if (index >= 0) {
this.values = this.values.slice(0, index).concat(this.values.slice(index + 1));
this.keys = this.keys.slice(0, index).concat(this.keys.slice(index + 1));
}
return this;
}
};
var MemoizeMap = null;
if (typeof WeakMap === 'function') {
MemoizeMap = WeakMap;
} else {
MemoizeMap = FakeMap;
}
function memoizeCompare(leftHandOperand, rightHandOperand, memoizeMap) {
if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
return null;
}
var leftHandMap = memoizeMap.get(leftHandOperand);
if (leftHandMap) {
var result = leftHandMap.get(rightHandOperand);
if (typeof result === 'boolean') {
return result;
}
}
return null;
}
function memoizeSet(leftHandOperand, rightHandOperand, memoizeMap, result) {
if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
return;
}
var leftHandMap = memoizeMap.get(leftHandOperand);
if (leftHandMap) {
leftHandMap.set(rightHandOperand, result);
} else {
leftHandMap = new MemoizeMap();
leftHandMap.set(rightHandOperand, result);
memoizeMap.set(leftHandOperand, leftHandMap);
}
}
module.exports = deepEqual;
module.exports.MemoizeMap = MemoizeMap;
function deepEqual(leftHandOperand, rightHandOperand, options) {
if (options && options.comparator) {
return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);
}
var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);
if (simpleResult !== null) {
return simpleResult;
}
return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);
}
function simpleEqual(leftHandOperand, rightHandOperand) {
if (leftHandOperand === rightHandOperand) {
return leftHandOperand !== 0 || 1 / leftHandOperand === 1 / rightHandOperand;
}
if (leftHandOperand !== leftHandOperand && rightHandOperand !== rightHandOperand) {
return true;
}
if (isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
return false;
}
return null;
}
function extensiveDeepEqual(leftHandOperand, rightHandOperand, options) {
options = options || ({});
options.memoize = options.memoize === false ? false : options.memoize || new MemoizeMap();
var comparator = options && options.comparator;
var memoizeResultLeft = memoizeCompare(leftHandOperand, rightHandOperand, options.memoize);
if (memoizeResultLeft !== null) {
return memoizeResultLeft;
}
var memoizeResultRight = memoizeCompare(rightHandOperand, leftHandOperand, options.memoize);
if (memoizeResultRight !== null) {
return memoizeResultRight;
}
if (comparator) {
var comparatorResult = comparator(leftHandOperand, rightHandOperand);
if (comparatorResult === false || comparatorResult === true) {
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, comparatorResult);
return comparatorResult;
}
var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);
if (simpleResult !== null) {
return simpleResult;
}
}
var leftHandType = type(leftHandOperand);
if (leftHandType !== type(rightHandOperand)) {
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, false);
return false;
}
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, true);
var result = extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options);
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, result);
return result;
}
function extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options) {
switch (leftHandType) {
case 'String':
case 'Number':
case 'Boolean':
case 'Date':
return deepEqual(leftHandOperand.valueOf(), rightHandOperand.valueOf());
case 'Promise':
case 'Symbol':
case 'function':
case 'WeakMap':
case 'WeakSet':
case 'Error':
return leftHandOperand === rightHandOperand;
case 'Arguments':
case 'Int8Array':
case 'Uint8Array':
case 'Uint8ClampedArray':
case 'Int16Array':
case 'Uint16Array':
case 'Int32Array':
case 'Uint32Array':
case 'Float32Array':
case 'Float64Array':
case 'Array':
return iterableEqual(leftHandOperand, rightHandOperand, options);
case 'RegExp':
return regexpEqual(leftHandOperand, rightHandOperand);
case 'Generator':
return generatorEqual(leftHandOperand, rightHandOperand, options);
case 'DataView':
return iterableEqual(new Uint8Array(leftHandOperand.buffer), new Uint8Array(rightHandOperand.buffer), options);
case 'ArrayBuffer':
return iterableEqual(new Uint8Array(leftHandOperand), new Uint8Array(rightHandOperand), options);
case 'Set':
return entriesEqual(leftHandOperand, rightHandOperand, options);
case 'Map':
return entriesEqual(leftHandOperand, rightHandOperand, options);
default:
return objectEqual(leftHandOperand, rightHandOperand, options);
}
}
function regexpEqual(leftHandOperand, rightHandOperand) {
return leftHandOperand.toString() === rightHandOperand.toString();
}
function entriesEqual(leftHandOperand, rightHandOperand, options) {
if (leftHandOperand.size !== rightHandOperand.size) {
return false;
}
if (leftHandOperand.size === 0) {
return true;
}
var leftHandItems = [];
var rightHandItems = [];
leftHandOperand.forEach(function gatherEntries(key, value) {
leftHandItems.push([key, value]);
});
rightHandOperand.forEach(function gatherEntries(key, value) {
rightHandItems.push([key, value]);
});
return iterableEqual(leftHandItems.sort(), rightHandItems.sort(), options);
}
function iterableEqual(leftHandOperand, rightHandOperand, options) {
var length = leftHandOperand.length;
if (length !== rightHandOperand.length) {
return false;
}
if (length === 0) {
return true;
}
var index = -1;
while (++index < length) {
if (deepEqual(leftHandOperand[index], rightHandOperand[index], options) === false) {
return false;
}
}
return true;
}
function generatorEqual(leftHandOperand, rightHandOperand, options) {
return iterableEqual(getGeneratorEntries(leftHandOperand), getGeneratorEntries(rightHandOperand), options);
}
function hasIteratorFunction(target) {
return typeof Symbol !== 'undefined' && typeof target === 'object' && typeof Symbol.iterator !== 'undefined' && typeof target[Symbol.iterator] === 'function';
}
function getIteratorEntries(target) {
if (hasIteratorFunction(target)) {
try {
return getGeneratorEntries(target[Symbol.iterator]());
} catch (iteratorError) {
return [];
}
}
return [];
}
function getGeneratorEntries(generator) {
var generatorResult = generator.next();
var accumulator = [generatorResult.value];
while (generatorResult.done === false) {
generatorResult = generator.next();
accumulator.push(generatorResult.value);
}
return accumulator;
}
function getEnumerableKeys(target) {
var keys = [];
for (var key in target) {
keys.push(key);
}
return keys;
}
function keysEqual(leftHandOperand, rightHandOperand, keys, options) {
var length = keys.length;
if (length === 0) {
return true;
}
for (var i = 0; i < length; i += 1) {
if (deepEqual(leftHandOperand[keys[i]], rightHandOperand[keys[i]], options) === false) {
return false;
}
}
return true;
}
function objectEqual(leftHandOperand, rightHandOperand, options) {
var leftHandKeys = getEnumerableKeys(leftHandOperand);
var rightHandKeys = getEnumerableKeys(rightHandOperand);
if (leftHandKeys.length && leftHandKeys.length === rightHandKeys.length) {
leftHandKeys.sort();
rightHandKeys.sort();
if (iterableEqual(leftHandKeys, rightHandKeys) === false) {
return false;
}
return keysEqual(leftHandOperand, rightHandOperand, leftHandKeys, options);
}
var leftHandEntries = getIteratorEntries(leftHandOperand);
var rightHandEntries = getIteratorEntries(rightHandOperand);
if (leftHandEntries.length && leftHandEntries.length === rightHandEntries.length) {
leftHandEntries.sort();
rightHandEntries.sort();
return iterableEqual(leftHandEntries, rightHandEntries, options);
}
if (leftHandKeys.length === 0 && leftHandEntries.length === 0 && rightHandKeys.length === 0 && rightHandEntries.length === 0) {
return true;
}
return false;
}
function isPrimitive(value) {
return value === null || typeof value !== 'object';
}
return module.exports;
},
"node_modules/type-detect/type-detect.js": function (require, module, exports) {
((function (global, factory) {
typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global.typeDetect = factory());
})(this, (function () {
'use strict';
var promiseExists = typeof Promise === 'function';
var globalObject = typeof self === 'object' ? self : global;
var symbolExists = typeof Symbol !== 'undefined';
var mapExists = typeof Map !== 'undefined';
var setExists = typeof Set !== 'undefined';
var weakMapExists = typeof WeakMap !== 'undefined';
var weakSetExists = typeof WeakSet !== 'undefined';
var dataViewExists = typeof DataView !== 'undefined';
var symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';
var symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';
var setEntriesExists = setExists && typeof Set.prototype.entries === 'function';
var mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';
var setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());
var mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());
var arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';
var arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());
var stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';
var stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(('')[Symbol.iterator]());
var toStringLeftSliceLength = 8;
var toStringRightSliceLength = -1;
function typeDetect(obj) {
var typeofObj = typeof obj;
if (typeofObj !== 'object') {
return typeofObj;
}
if (obj === null) {
return 'null';
}
if (obj === globalObject) {
return 'global';
}
if (Array.isArray(obj) && (symbolToStringTagExists === false || !((Symbol.toStringTag in obj)))) {
return 'Array';
}
if (typeof window === 'object' && window !== null) {
if (typeof window.location === 'object' && obj === window.location) {
return 'Location';
}
if (typeof window.document === 'object' && obj === window.document) {
return 'Document';
}
if (typeof window.navigator === 'object') {
if (typeof window.navigator.mimeTypes === 'object' && obj === window.navigator.mimeTypes) {
return 'MimeTypeArray';
}
if (typeof window.navigator.plugins === 'object' && obj === window.navigator.plugins) {
return 'PluginArray';
}
}
if ((typeof window.HTMLElement === 'function' || typeof window.HTMLElement === 'object') && obj instanceof window.HTMLElement) {
if (obj.tagName === 'BLOCKQUOTE') {
return 'HTMLQuoteElement';
}
if (obj.tagName === 'TD') {
return 'HTMLTableDataCellElement';
}
if (obj.tagName === 'TH') {
return 'HTMLTableHeaderCellElement';
}
}
}
var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);
if (typeof stringTag === 'string') {
return stringTag;
}
var objPrototype = Object.getPrototypeOf(obj);
if (objPrototype === RegExp.prototype) {
return 'RegExp';
}
if (objPrototype === Date.prototype) {
return 'Date';
}
if (promiseExists && objPrototype === Promise.prototype) {
return 'Promise';
}
if (setExists && objPrototype === Set.prototype) {
return 'Set';
}
if (mapExists && objPrototype === Map.prototype) {
return 'Map';
}
if (weakSetExists && objPrototype === WeakSet.prototype) {
return 'WeakSet';
}
if (weakMapExists && objPrototype === WeakMap.prototype) {
return 'WeakMap';
}
if (dataViewExists && objPrototype === DataView.prototype) {
return 'DataView';
}
if (mapExists && objPrototype === mapIteratorPrototype) {
return 'Map Iterator';
}
if (setExists && objPrototype === setIteratorPrototype) {
return 'Set Iterator';
}
if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {
return 'Array Iterator';
}
if (stringIteratorExists && objPrototype === stringIteratorPrototype) {
return 'String Iterator';
}
if (objPrototype === null) {
return 'Object';
}
return Object.prototype.toString.call(obj).slice(toStringLeftSliceLength, toStringRightSliceLength);
}
return typeDetect;
})));
return module.exports;
},
"node_modules/check-types/src/check-types.js": function (require, module, exports) {
((function (globals) {
'use strict';
var strings, messages, predicates, functions, assert, not, maybe, collections, slice, neginf, posinf, isArray, haveSymbols;
strings = {
v: 'value',
n: 'number',
s: 'string',
b: 'boolean',
o: 'object',
t: 'type',
a: 'array',
al: 'array-like',
i: 'iterable',
d: 'date',
f: 'function',
l: 'length'
};
messages = {};
predicates = {};
[{
n: 'equal',
f: equal,
s: 'v'
}, {
n: 'undefined',
f: isUndefined,
s: 'v'
}, {
n: 'null',
f: isNull,
s: 'v'
}, {
n: 'assigned',
f: assigned,
s: 'v'
}, {
n: 'primitive',
f: primitive,
s: 'v'
}, {
n: 'includes',
f: includes,
s: 'v'
}, {
n: 'zero',
f: zero
}, {
n: 'infinity',
f: infinity
}, {
n: 'number',
f: number
}, {
n: 'integer',
f: integer
}, {
n: 'even',
f: even
}, {
n: 'odd',
f: odd
}, {
n: 'greater',
f: greater
}, {
n: 'less',
f: less
}, {
n: 'between',
f: between
}, {
n: 'greaterOrEqual',
f: greaterOrEqual
}, {
n: 'lessOrEqual',
f: lessOrEqual
}, {
n: 'inRange',
f: inRange
}, {
n: 'positive',
f: positive
}, {
n: 'negative',
f: negative
}, {
n: 'string',
f: string,
s: 's'
}, {
n: 'emptyString',
f: emptyString,
s: 's'
}, {
n: 'nonEmptyString',
f: nonEmptyString,
s: 's'
}, {
n: 'contains',
f: contains,
s: 's'
}, {
n: 'match',
f: match,
s: 's'
}, {
n: 'boolean',
f: boolean,
s: 'b'
}, {
n: 'object',
f: object,
s: 'o'
}, {
n: 'emptyObject',
f: emptyObject,
s: 'o'
}, {
n: 'nonEmptyObject',
f: nonEmptyObject,
s: 'o'
}, {
n: 'instanceStrict',
f: instanceStrict,
s: 't'
}, {
n: 'instance',
f: instance,
s: 't'
}, {
n: 'like',
f: like,
s: 't'
}, {
n: 'array',
f: array,
s: 'a'
}, {
n: 'emptyArray',
f: emptyArray,
s: 'a'
}, {
n: 'nonEmptyArray',
f: nonEmptyArray,
s: 'a'
}, {
n: 'arrayLike',
f: arrayLike,
s: 'al'
}, {
n: 'iterable',
f: iterable,
s: 'i'
}, {
n: 'date',
f: date,
s: 'd'
}, {
n: 'function',
f: isFunction,
s: 'f'
}, {
n: 'hasLength',
f: hasLength,
s: 'l'
}].map(function (data) {
var n = data.n;
messages[n] = 'Invalid ' + strings[data.s || 'n'];
predicates[n] = data.f;
});
functions = {
apply: apply,
map: map,
all: all,
any: any
};
collections = ['array', 'arrayLike', 'iterable', 'object'];
slice = Array.prototype.slice;
neginf = Number.NEGATIVE_INFINITY;
posinf = Number.POSITIVE_INFINITY;
isArray = Array.isArray;
haveSymbols = typeof Symbol === 'function';
functions = mixin(functions, predicates);
assert = createModifiedPredicates(assertModifier, assertImpl);
not = createModifiedPredicates(notModifier, notImpl);
maybe = createModifiedPredicates(maybeModifier, maybeImpl);
assert.not = createModifiedModifier(assertModifier, not);
assert.maybe = createModifiedModifier(assertModifier, maybe);
collections.forEach(createOfPredicates);
createOfModifiers(assert, assertModifier);
createOfModifiers(not, notModifier);
collections.forEach(createMaybeOfModifiers);
exportFunctions(mixin(functions, {
assert: assert,
not: not,
maybe: maybe
}));
function equal(lhs, rhs) {
return lhs === rhs;
}
function isUndefined(data) {
return data === undefined;
}
function isNull(data) {
return data === null;
}
function assigned(data) {
return data !== undefined && data !== null;
}
function primitive(data) {
var type;
switch (data) {
case null:
case undefined:
case false:
case true:
return true;
}
type = typeof data;
return type === 'string' || type === 'number' || (haveSymbols && type === 'symbol');
}
function zero(data) {
return data === 0;
}
function infinity(data) {
return data === neginf || data === posinf;
}
function number(data) {
return typeof data === 'number' && data > neginf && data < posinf;
}
function integer(data) {
return typeof data === 'number' && data % 1 === 0;
}
function even(data) {
return typeof data === 'number' && data % 2 === 0;
}
function odd(data) {
return integer(data) && data % 2 !== 0;
}
function greater(lhs, rhs) {
return number(lhs) && lhs > rhs;
}
function less(lhs, rhs) {
return number(lhs) && lhs < rhs;
}
function between(data, x, y) {
if (x < y) {
return greater(data, x) && data < y;
}
return less(data, x) && data > y;
}
function greaterOrEqual(lhs, rhs) {
return number(lhs) && lhs >= rhs;
}
function lessOrEqual(lhs, rhs) {
return number(lhs) && lhs <= rhs;
}
function inRange(data, x, y) {
if (x < y) {
return greaterOrEqual(data, x) && data <= y;
}
return lessOrEqual(data, x) && data >= y;
}
function positive(data) {
return greater(data, 0);
}
function negative(data) {
return less(data, 0);
}
function string(data) {
return typeof data === 'string';
}
function emptyString(data) {
return data === '';
}
function nonEmptyString(data) {
return string(data) && data !== '';
}
function contains(data, substring) {
return string(data) && data.indexOf(substring) !== -1;
}
function match(data, regex) {
return string(data) && !!data.match(regex);
}
function boolean(data) {
return data === false || data === true;
}
function object(data) {
return Object.prototype.toString.call(data) === '[object Object]';
}
function emptyObject(data) {
return object(data) && Object.keys(data).length === 0;
}
function nonEmptyObject(data) {
return object(data) && Object.keys(data).length > 0;
}
function instanceStrict(data, prototype) {
try {
return data instanceof prototype;
} catch (error) {
return false;
}
}
function instance(data, prototype) {
try {
return instanceStrict(data, prototype) || data.constructor.name === prototype.name || Object.prototype.toString.call(data) === '[object ' + prototype.name + ']';
} catch (error) {
return false;
}
}
function like(data, archetype) {
var name;
for (name in archetype) {
if (archetype.hasOwnProperty(name)) {
if (data.hasOwnProperty(name) === false || typeof data[name] !== typeof archetype[name]) {
return false;
}
if (object(data[name]) && like(data[name], archetype[name]) === false) {
return false;
}
}
}
return true;
}
function array(data) {
return isArray(data);
}
function emptyArray(data) {
return array(data) && data.length === 0;
}
function nonEmptyArray(data) {
return array(data) && greater(data.length, 0);
}
function arrayLike(data) {
return assigned(data) && greaterOrEqual(data.length, 0);
}
function iterable(data) {
if (!haveSymbols) {
return arrayLike(data);
}
return assigned(data) && isFunction(data[Symbol.iterator]);
}
function includes(data, value) {
var iterator, iteration, keys, length, i;
if (!assigned(data)) {
return false;
}
if (haveSymbols && data[Symbol.iterator] && isFunction(data.values)) {
iterator = data.values();
do {
iteration = iterator.next();
if (iteration.value === value) {
return true;
}
} while (!iteration.done);
return false;
}
keys = Object.keys(data);
length = keys.length;
for (i = 0; i < length; ++i) {
if (data[keys[i]] === value) {
return true;
}
}
return false;
}
function hasLength(data, length) {
return assigned(data) && data.length === length;
}
function date(data) {
return instanceStrict(data, Date) && integer(data.getTime());
}
function isFunction(data) {
return typeof data === 'function';
}
function apply(data, predicates) {
assert.array(data);
if (isFunction(predicates)) {
return data.map(function (value) {
return predicates(value);
});
}
assert.array(predicates);
assert.hasLength(data, predicates.length);
return data.map(function (value, index) {
return predicates[index](value);
});
}
function map(data, predicates) {
assert.object(data);
if (isFunction(predicates)) {
return mapSimple(data, predicates);
}
assert.object(predicates);
return mapComplex(data, predicates);
}
function mapSimple(data, predicate) {
var result = {};
Object.keys(data).forEach(function (key) {
result[key] = predicate(data[key]);
});
return result;
}
function mapComplex(data, predicates) {
var result = {};
Object.keys(predicates).forEach(function (key) {
var predicate = predicates[key];
if (isFunction(predicate)) {
if (not.assigned(data)) {
result[key] = !!predicate.m;
} else {
result[key] = predicate(data[key]);
}
} else if (object(predicate)) {
result[key] = mapComplex(data[key], predicate);
}
});
return result;
}
function all(data) {
if (array(data)) {
return testArray(data, false);
}
assert.object(data);
return testObject(data, false);
}
function testArray(data, result) {
var i;
for (i = 0; i < data.length; i += 1) {
if (data[i] === result) {
return result;
}
}
return !result;
}
function testObject(data, result) {
var key, value;
for (key in data) {
if (data.hasOwnProperty(key)) {
value = data[key];
if (object(value) && testObject(value, result) === result) {
return result;
}
if (value === result) {
return result;
}
}
}
return !result;
}
function any(data) {
if (array(data)) {
return testArray(data, true);
}
assert.object(data);
return testObject(data, true);
}
function mixin(target, source) {
Object.keys(source).forEach(function (key) {
target[key] = source[key];
});
return target;
}
function assertModifier(predicate, defaultMessage) {
return function () {
return assertPredicate(predicate, arguments, defaultMessage);
};
}
function assertPredicate(predicate, args, defaultMessage) {
var argCount = predicate.l || predicate.length;
var message = args[argCount];
var ErrorType = args[argCount + 1];
assertImpl(predicate.apply(null, args), nonEmptyString(message) ? message : defaultMessage, isFunction(ErrorType) ? ErrorType : TypeError);
return args[0];
}
function assertImpl(value, message, ErrorType) {
if (value) {
return value;
}
throw new (ErrorType || Error)(message || 'Assertion failed');
}
function notModifier(predicate) {
var modifiedPredicate = function () {
return notImpl(predicate.apply(null, arguments));
};
modifiedPredicate.l = predicate.length;
return modifiedPredicate;
}
function notImpl(value) {
return !value;
}
function maybeModifier(predicate) {
var modifiedPredicate = function () {
if (not.assigned(arguments[0])) {
return true;
}
return predicate.apply(null, arguments);
};
modifiedPredicate.l = predicate.length;
modifiedPredicate.m = true;
return modifiedPredicate;
}
function maybeImpl(value) {
if (assigned(value) === false) {
return true;
}
return value;
}
function ofModifier(target, type, predicate) {
var modifiedPredicate = function () {
var collection, args;
collection = arguments[0];
if (target === 'maybe' && not.assigned(collection)) {
return true;
}
if (!type(collection)) {
return false;
}
collection = coerceCollection(type, collection);
args = slice.call(arguments, 1);
try {
collection.forEach(function (item) {
if ((target !== 'maybe' || assigned(item)) && !predicate.apply(null, [item].concat(args))) {
throw 0;
}
});
} catch (ignore) {
return false;
}
return true;
};
modifiedPredicate.l = predicate.length;
return modifiedPredicate;
}
function coerceCollection(type, collection) {
switch (type) {
case arrayLike:
return slice.call(collection);
case object:
return Object.keys(collection).map(function (key) {
return collection[key];
});
default:
return collection;
}
}
function createModifiedPredicates(modifier, object) {
return createModifiedFunctions([modifier, predicates, object]);
}
function createModifiedFunctions(args) {
var modifier, object, functions, result;
modifier = args.shift();
object = args.pop();
functions = args.pop();
result = object || ({});
Object.keys(functions).forEach(function (key) {
Object.defineProperty(result, key, {
configurable: false,
enumerable: true,
writable: false,
value: modifier.apply(null, args.concat(functions[key], messages[key]))
});
});
return result;
}
function createModifiedModifier(modifier, modified) {
return createModifiedFunctions([modifier, modified, null]);
}
function createOfPredicates(key) {
predicates[key].of = createModifiedFunctions([ofModifier.bind(null, null), predicates[key], predicates, null]);
}
function createOfModifiers(base, modifier) {
collections.forEach(function (key) {
base[key].of = createModifiedModifier(modifier, predicates[key].of);
});
}
function createMaybeOfModifiers(key) {
maybe[key].of = createModifiedFunctions([ofModifier.bind(null, 'maybe'), predicates[key], predicates, null]);
assert.maybe[key].of = createModifiedModifier(assertModifier, maybe[key].of);
assert.not[key].of = createModifiedModifier(assertModifier, not[key].of);
}
function exportFunctions(functions) {
if (typeof define === 'function' && define.amd) {
define(function () {
return functions;
});
} else if (typeof module !== 'undefined' && module !== null && module.exports) {
module.exports = functions;
} else {
globals.check = functions;
}
}
})(this));
return module.exports;
},
"node_modules/quickcss/src/helpers.coffee": function (require, module, exports) {
var SAMPLE_STYLE, styleConfig;
var __constants3 = require("node_modules/quickcss/src/constants.coffee");
SAMPLE_STYLE = document.createElement('div').style;
var includes = exports.includes = function includes(target, item) {
return target && target.indexOf(item) !== -1;
};
var isIterable = exports.isIterable = function isIterable(target) {
return target && typeof target === 'object' && typeof target.length === 'number' && !target.nodeType;
};
var toKebabCase = exports.toKebabCase = function toKebabCase(string) {
return string.replace(__constants3.REGEX_KEBAB, function (e, letter) {
return `-${letter.toLowerCase()}`;
});
};
var isPropSupported = exports.isPropSupported = function isPropSupported(property) {
return typeof SAMPLE_STYLE[property] !== 'undefined';
};
var isValueSupported = exports.isValueSupported = function isValueSupported(property, value) {
if (window.CSS && window.CSS.supports) {
return window.CSS.supports(property, value);
} else {
SAMPLE_STYLE[property] = value;
return SAMPLE_STYLE[property] === '' + value;
}
};
var getPrefix = exports.getPrefix = function getPrefix(property, skipInitialCheck) {
var j, len1, prefix;
if (skipInitialCheck || !isPropSupported(property)) {
for ((j = 0, len1 = __constants3.POSSIBLE_PREFIXES.length); j < len1; j++) {
prefix = __constants3.POSSIBLE_PREFIXES[j];
if (isPropSupported(`-${prefix}-${property}`)) {
return `-${prefix}-`;
}
}
}
return '';
};
var normalizeProperty = exports.normalizeProperty = function normalizeProperty(property) {
property = toKebabCase(property);
if (isPropSupported(property)) {
return property;
} else {
return `${getPrefix(property, true)}${property}`;
}
};
var normalizeValue = exports.normalizeValue = function normalizeValue(property, value) {
if (includes(__constants3.REQUIRES_UNIT_VALUE, property) && value !== null) {
value = '' + value;
if (__constants3.REGEX_DIGITS.test(value) && !__constants3.REGEX_LEN_VAL.test(value) && !__constants3.REGEX_SPACE.test(value)) {
value += property === 'line-height' ? 'em' : 'px';
}
}
return value;
};
var sort = exports.sort = function sort(array) {
var great, i, len, less, pivot;
if (array.length < 2) {
return array;
} else {
pivot = array[0];
less = [];
great = [];
len = array.length;
i = 0;
while (++i !== len) {
if (array[i] <= pivot) {
less.push(array[i]);
} else {
great.push(array[i]);
}
}
return sort(less).concat(pivot, sort(great));
}
};
var hash = exports.hash = function hash(string) {
var hsh, i, length;
hsh = 5381;
i = -1;
length = string.length;
while (++i !== string.length) {
hsh = ((hsh << 5) - hsh) + string.charCodeAt(i);
hsh |= 0;
}
return '_' + (hsh < 0 ? hsh * -2 : hsh);
};
var ruleToString = exports.ruleToString = function ruleToString(rule, important) {
var j, len1, output, prop, property, props, value;
output = '';
props = sort(Object.keys(rule));
for ((j = 0, len1 = props.length); j < len1; j++) {
prop = props[j];
if (typeof rule[prop] === 'string' || typeof rule[prop] === 'number') {
property = normalizeProperty(prop);
value = normalizeValue(property, rule[prop]);
if (important) {
value += " !important";
}
output += `${property}:${value};`;
}
}
return output;
};
var inlineStyleConfig = exports.inlineStyleConfig = styleConfig = Object.create(null);
var inlineStyle = exports.inlineStyle = function inlineStyle(rule, valueToStore, level) {
var config, styleEl;
if (!(config = styleConfig[level])) {
styleEl = document.createElement('style');
styleEl.id = `quickcss${level || ''}`;
document.head.appendChild(styleEl);
styleConfig[level] = config = {
el: styleEl,
content: '',
cache: Object.create(null)
};
}
if (!config.cache[rule]) {
config.cache[rule] = valueToStore || true;
config.el.textContent = config.content += rule;
}
};
var clearInlineStyle = exports.clearInlineStyle = function clearInlineStyle(level) {
var config, j, key, keys, len1;
if (config = styleConfig[level]) {
if (!config.content) {
return;
}
config.el.textContent = config.content = '';
keys = Object.keys(config.cache);
for ((j = 0, len1 = keys.length); j < len1; j++) {
key = keys[j];
config.cache[key] = null;
}
}
};
return module.exports;
},
"node_modules/quickcss/src/constants.coffee": function (require, module, exports) {
var REGEX_LEN_VAL = exports.REGEX_LEN_VAL = /^\d+(?:[a-z]|\%)+$/i;
var REGEX_DIGITS = exports.REGEX_DIGITS = /\d+$/;
var REGEX_SPACE = exports.REGEX_SPACE = /\s/;
var REGEX_KEBAB = exports.REGEX_KEBAB = /([A-Z])+/g;
var IMPORTANT = exports.IMPORTANT = 'important';
var POSSIBLE_PREFIXES = exports.POSSIBLE_PREFIXES = ['webkit', 'moz', 'ms', 'o'];
var REQUIRES_UNIT_VALUE = exports.REQUIRES_UNIT_VALUE = ['background-position-x', 'background-position-y', 'block-size', 'border-width', 'columnRule-width', 'cx', 'cy', 'font-size', 'grid-column-gap', 'grid-row-gap', 'height', 'inline-size', 'line-height', 'minBlock-size', 'min-height', 'min-inline-size', 'min-width', 'max-height', 'max-width', 'outline-offset', 'outline-width', 'perspective', 'shape-margin', 'stroke-dashoffset', 'stroke-width', 'text-indent', 'width', 'word-spacing', 'top', 'bottom', 'left', 'right', 'x', 'y'];
var QUAD_SHORTHANDS = exports.QUAD_SHORTHANDS = ['margin', 'padding', 'border', 'border-radius'];
var DIRECTIONS = exports.DIRECTIONS = ['top', 'bottom', 'left', 'right'];
QUAD_SHORTHANDS.forEach(function (property) {
var direction, i, len;
REQUIRES_UNIT_VALUE.push(property);
for ((i = 0, len = DIRECTIONS.length); i < len; i++) {
direction = DIRECTIONS[i];
REQUIRES_UNIT_VALUE.push(property + '-' + direction);
}
});
return module.exports;
},
"node_modules/smart-extend/src/extend.coffee": function (require, module, exports) {
var extend, isArray, isObject, shouldDeepExtend;
isArray = function (target) {
return Array.isArray(target);
};
isObject = function (target) {
return target && Object.prototype.toString.call(target) === '[object Object]' || isArray(target);
};
shouldDeepExtend = function (options, target, parentKey) {
if (options.deep) {
if (options.notDeep) {
return !options.notDeep[target];
} else {
return true;
}
} else if (options.deepOnly) {
return options.deepOnly[target] || parentKey && shouldDeepExtend(options, parentKey);
}
};
module.exports = extend = function (options, target, sources, parentKey) {
var i, key, len, source, sourceValue, subTarget, targetValue;
if (!target || typeof target !== 'object' && typeof target !== 'function') {
target = {};
}
for ((i = 0, len = sources.length); i < len; i++) {
source = sources[i];
if (source != null) {
for (key in source) {
sourceValue = source[key];
targetValue = target[key];
if (sourceValue === target || sourceValue === void 0 || (sourceValue === null && !options.allowNull && !options.nullDeletes) || (options.keys && !options.keys[key]) || (options.notKeys && options.notKeys[key]) || (options.own && !source.hasOwnProperty(key)) || (options.globalFilter && !options.globalFilter(sourceValue, key, source)) || (options.filters && options.filters[key] && !options.filters[key](sourceValue, key, source))) {
continue;
}
if (sourceValue === null && options.nullDeletes) {
delete target[key];
continue;
}
if (options.globalTransform) {
sourceValue = options.globalTransform(sourceValue, key, source);
}
if (options.transforms && options.transforms[key]) {
sourceValue = options.transforms[key](sourceValue, key, source);
}
switch (false) {
case !(options.concat && isArray(sourceValue) && isArray(targetValue)):
target[key] = targetValue.concat(sourceValue);
break;
case !(shouldDeepExtend(options, key, parentKey) && isObject(sourceValue)):
subTarget = isObject(targetValue) ? targetValue : isArray(sourceValue) ? [] : {};
target[key] = extend(options, subTarget, [sourceValue], key);
break;
default:
target[key] = sourceValue;
}
}
}
}
return target;
};
return module.exports;
},
"node_modules/@danielkalen/is/src/index.coffee": function (require, module, exports) {
var Checks, availSets;
availSets = {
natives: require("node_modules/@danielkalen/is/src/natives.coffee"),
dom: require("node_modules/@danielkalen/is/src/dom.coffee")
};
Checks = class Checks {
create() {
var args;
if (arguments.length) {
args = Array.prototype.slice.call(arguments);
}
return new Checks(args);
}
constructor(sets) {
var i, len, set;
if (sets == null) {
sets = ['natives'];
}
for ((i = 0, len = sets.length); i < len; i++) {
set = sets[i];
if (availSets[set]) {
this.load(availSets[set]);
}
}
}
load(set) {
var key, value;
if (availSets.natives.string(set)) {
set = availSets[set];
}
if (!availSets.natives.objectPlain(set)) {
return;
}
for (key in set) {
value = set[key];
this[key] = value;
}
}
};
module.exports = Checks.prototype.create();
return module.exports;
},
"node_modules/assertion-error/index.js": function (require, module, exports) {
function exclude() {
var excludes = [].slice.call(arguments);
function excludeProps(res, obj) {
Object.keys(obj).forEach(function (key) {
if (!~excludes.indexOf(key)) res[key] = obj[key];
});
}
return function extendExclude() {
var args = [].slice.call(arguments), i = 0, res = {};
for (; i < args.length; i++) {
excludeProps(res, args[i]);
}
return res;
};
}
;
module.exports = AssertionError;
function AssertionError(message, _props, ssf) {
var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON'), props = extend(_props || ({}));
this.message = message || 'Unspecified AssertionError';
this.showDiff = false;
for (var key in props) {
this[key] = props[key];
}
ssf = ssf || AssertionError;
if (Error.captureStackTrace) {
Error.captureStackTrace(this, ssf);
} else {
try {
throw new Error();
} catch (e) {
this.stack = e.stack;
}
}
}
AssertionError.prototype = Object.create(Error.prototype);
AssertionError.prototype.name = 'AssertionError';
AssertionError.prototype.constructor = AssertionError;
AssertionError.prototype.toJSON = function (stack) {
var extend = exclude('constructor', 'toJSON', 'stack'), props = extend({
name: this.name
}, this);
if (false !== stack && this.stack) {
props.stack = this.stack;
}
return props;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/index.js": function (require, module, exports) {
var pathval = require("node_modules/pathval/index.js");
exports.test = require("node_modules/chai/lib/chai/utils/test.js");
exports.type = require("node_modules/type-detect/type-detect.js");
exports.expectTypes = require("node_modules/chai/lib/chai/utils/expectTypes.js");
exports.getMessage = require("node_modules/chai/lib/chai/utils/getMessage.js");
exports.getActual = require("node_modules/chai/lib/chai/utils/getActual.js");
exports.inspect = require("node_modules/chai/lib/chai/utils/inspect.js");
exports.objDisplay = require("node_modules/chai/lib/chai/utils/objDisplay.js");
exports.flag = require("node_modules/chai/lib/chai/utils/flag.js");
exports.transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
exports.eql = require("node_modules/deep-eql/index.js");
exports.getPathInfo = pathval.getPathInfo;
exports.hasProperty = pathval.hasProperty;
exports.getName = require("node_modules/get-func-name/index.js");
exports.addProperty = require("node_modules/chai/lib/chai/utils/addProperty.js");
exports.addMethod = require("node_modules/chai/lib/chai/utils/addMethod.js");
exports.overwriteProperty = require("node_modules/chai/lib/chai/utils/overwriteProperty.js");
exports.overwriteMethod = require("node_modules/chai/lib/chai/utils/overwriteMethod.js");
exports.addChainableMethod = require("node_modules/chai/lib/chai/utils/addChainableMethod.js");
exports.overwriteChainableMethod = require("node_modules/chai/lib/chai/utils/overwriteChainableMethod.js");
exports.compareByInspect = require("node_modules/chai/lib/chai/utils/compareByInspect.js");
exports.getOwnEnumerablePropertySymbols = require("node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js");
exports.getOwnEnumerableProperties = require("node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js");
exports.checkError = require("node_modules/check-error/index.js");
exports.proxify = require("node_modules/chai/lib/chai/utils/proxify.js");
exports.addLengthGuard = require("node_modules/chai/lib/chai/utils/addLengthGuard.js");
exports.isProxyEnabled = require("node_modules/chai/lib/chai/utils/isProxyEnabled.js");
exports.isNaN = require("node_modules/chai/lib/chai/utils/isNaN.js");
return module.exports;
},
"node_modules/chai/lib/chai/config.js": function (require, module, exports) {
module.exports = {
includeStack: false,
showDiff: true,
truncateThreshold: 40,
useProxy: true,
proxyExcludedKeys: ['then', 'catch', 'inspect', 'toJSON']
};
return module.exports;
},
"node_modules/chai/lib/chai/assertion.js": function (require, module, exports) {
var config = require("node_modules/chai/lib/chai/config.js");
module.exports = function (_chai, util) {
var AssertionError = _chai.AssertionError, flag = util.flag;
_chai.Assertion = Assertion;
function Assertion(obj, msg, ssfi, lockSsfi) {
flag(this, 'ssfi', ssfi || Assertion);
flag(this, 'lockSsfi', lockSsfi);
flag(this, 'object', obj);
flag(this, 'message', msg);
return util.proxify(this);
}
Object.defineProperty(Assertion, 'includeStack', {
get: function () {
console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');
return config.includeStack;
},
set: function (value) {
console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');
config.includeStack = value;
}
});
Object.defineProperty(Assertion, 'showDiff', {
get: function () {
console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');
return config.showDiff;
},
set: function (value) {
console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');
config.showDiff = value;
}
});
Assertion.addProperty = function (name, fn) {
util.addProperty(this.prototype, name, fn);
};
Assertion.addMethod = function (name, fn) {
util.addMethod(this.prototype, name, fn);
};
Assertion.addChainableMethod = function (name, fn, chainingBehavior) {
util.addChainableMethod(this.prototype, name, fn, chainingBehavior);
};
Assertion.overwriteProperty = function (name, fn) {
util.overwriteProperty(this.prototype, name, fn);
};
Assertion.overwriteMethod = function (name, fn) {
util.overwriteMethod(this.prototype, name, fn);
};
Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {
util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);
};
Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {
var ok = util.test(this, arguments);
if (false !== showDiff) showDiff = true;
if (undefined === expected && undefined === _actual) showDiff = false;
if (true !== config.showDiff) showDiff = false;
if (!ok) {
msg = util.getMessage(this, arguments);
var actual = util.getActual(this, arguments);
throw new AssertionError(msg, {
actual: actual,
expected: expected,
showDiff: showDiff
}, ((config.includeStack)) ? this.assert : flag(this, 'ssfi'));
}
};
Object.defineProperty(Assertion.prototype, '_obj', {
get: function () {
return flag(this, 'object');
},
set: function (val) {
flag(this, 'object', val);
}
});
};
return module.exports;
},
"node_modules/chai/lib/chai/core/assertions.js": function (require, module, exports) {
module.exports = function (chai, _) {
var Assertion = chai.Assertion, AssertionError = chai.AssertionError, flag = _.flag;
['to', 'be', 'been', 'is', 'and', 'has', 'have', 'with', 'that', 'which', 'at', 'of', 'same', 'but', 'does', 'still'].forEach(function (chain) {
Assertion.addProperty(chain);
});
Assertion.addProperty('not', function () {
flag(this, 'negate', true);
});
Assertion.addProperty('deep', function () {
flag(this, 'deep', true);
});
Assertion.addProperty('nested', function () {
flag(this, 'nested', true);
});
Assertion.addProperty('own', function () {
flag(this, 'own', true);
});
Assertion.addProperty('ordered', function () {
flag(this, 'ordered', true);
});
Assertion.addProperty('any', function () {
flag(this, 'any', true);
flag(this, 'all', false);
});
Assertion.addProperty('all', function () {
flag(this, 'all', true);
flag(this, 'any', false);
});
function an(type, msg) {
if (msg) flag(this, 'message', msg);
type = type.toLowerCase();
var obj = flag(this, 'object'), article = ~['a', 'e', 'i', 'o', 'u'].indexOf(type.charAt(0)) ? 'an ' : 'a ';
this.assert(type === _.type(obj).toLowerCase(), 'expected #{this} to be ' + article + type, 'expected #{this} not to be ' + article + type);
}
Assertion.addChainableMethod('an', an);
Assertion.addChainableMethod('a', an);
function SameValueZero(a, b) {
return (_.isNaN(a) && _.isNaN(b)) || a === b;
}
function includeChainingBehavior() {
flag(this, 'contains', true);
}
function include(val, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), objType = _.type(obj).toLowerCase(), flagMsg = flag(this, 'message'), negate = flag(this, 'negate'), ssfi = flag(this, 'ssfi'), isDeep = flag(this, 'deep'), descriptor = isDeep ? 'deep ' : '';
flagMsg = flagMsg ? flagMsg + ': ' : '';
var included = false;
switch (objType) {
case 'string':
included = obj.indexOf(val) !== -1;
break;
case 'weakset':
if (isDeep) {
throw new AssertionError(flagMsg + 'unable to use .deep.include with WeakSet', undefined, ssfi);
}
included = obj.has(val);
break;
case 'map':
var isEql = isDeep ? _.eql : SameValueZero;
obj.forEach(function (item) {
included = included || isEql(item, val);
});
break;
case 'set':
if (isDeep) {
obj.forEach(function (item) {
included = included || _.eql(item, val);
});
} else {
included = obj.has(val);
}
break;
case 'array':
if (isDeep) {
included = obj.some(function (item) {
return _.eql(item, val);
});
} else {
included = obj.indexOf(val) !== -1;
}
break;
default:
if (val !== Object(val)) {
throw new AssertionError(flagMsg + 'object tested must be an array, a map, an object,' + ' a set, a string, or a weakset, but ' + objType + ' given', undefined, ssfi);
}
var props = Object.keys(val), firstErr = null, numErrs = 0;
props.forEach(function (prop) {
var propAssertion = new Assertion(obj);
_.transferFlags(this, propAssertion, true);
flag(propAssertion, 'lockSsfi', true);
if (!negate || props.length === 1) {
propAssertion.property(prop, val[prop]);
return;
}
try {
propAssertion.property(prop, val[prop]);
} catch (err) {
if (!_.checkError.compatibleConstructor(err, AssertionError)) {
throw err;
}
if (firstErr === null) firstErr = err;
numErrs++;
}
}, this);
if (negate && props.length > 1 && numErrs === props.length) {
throw firstErr;
}
return;
}
this.assert(included, 'expected #{this} to ' + descriptor + 'include ' + _.inspect(val), 'expected #{this} to not ' + descriptor + 'include ' + _.inspect(val));
}
Assertion.addChainableMethod('include', include, includeChainingBehavior);
Assertion.addChainableMethod('contain', include, includeChainingBehavior);
Assertion.addChainableMethod('contains', include, includeChainingBehavior);
Assertion.addChainableMethod('includes', include, includeChainingBehavior);
Assertion.addProperty('ok', function () {
this.assert(flag(this, 'object'), 'expected #{this} to be truthy', 'expected #{this} to be falsy');
});
Assertion.addProperty('true', function () {
this.assert(true === flag(this, 'object'), 'expected #{this} to be true', 'expected #{this} to be false', flag(this, 'negate') ? false : true);
});
Assertion.addProperty('false', function () {
this.assert(false === flag(this, 'object'), 'expected #{this} to be false', 'expected #{this} to be true', flag(this, 'negate') ? true : false);
});
Assertion.addProperty('null', function () {
this.assert(null === flag(this, 'object'), 'expected #{this} to be null', 'expected #{this} not to be null');
});
Assertion.addProperty('undefined', function () {
this.assert(undefined === flag(this, 'object'), 'expected #{this} to be undefined', 'expected #{this} not to be undefined');
});
Assertion.addProperty('NaN', function () {
this.assert(_.isNaN(flag(this, 'object')), 'expected #{this} to be NaN', 'expected #{this} not to be NaN');
});
Assertion.addProperty('exist', function () {
var val = flag(this, 'object');
this.assert(val !== null && val !== undefined, 'expected #{this} to exist', 'expected #{this} to not exist');
});
Assertion.addProperty('empty', function () {
var val = flag(this, 'object'), ssfi = flag(this, 'ssfi'), flagMsg = flag(this, 'message'), itemsCount;
flagMsg = flagMsg ? flagMsg + ': ' : '';
switch (_.type(val).toLowerCase()) {
case 'array':
case 'string':
itemsCount = val.length;
break;
case 'map':
case 'set':
itemsCount = val.size;
break;
case 'weakmap':
case 'weakset':
throw new AssertionError(flagMsg + '.empty was passed a weak collection', undefined, ssfi);
case 'function':
var msg = flagMsg + '.empty was passed a function ' + _.getName(val);
throw new AssertionError(msg.trim(), undefined, ssfi);
default:
if (val !== Object(val)) {
throw new AssertionError(flagMsg + '.empty was passed non-string primitive ' + _.inspect(val), undefined, ssfi);
}
itemsCount = Object.keys(val).length;
}
this.assert(0 === itemsCount, 'expected #{this} to be empty', 'expected #{this} not to be empty');
});
function checkArguments() {
var obj = flag(this, 'object'), type = _.type(obj);
this.assert('Arguments' === type, 'expected #{this} to be arguments but got ' + type, 'expected #{this} to not be arguments');
}
Assertion.addProperty('arguments', checkArguments);
Assertion.addProperty('Arguments', checkArguments);
function assertEqual(val, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object');
if (flag(this, 'deep')) {
var prevLockSsfi = flag(this, 'lockSsfi');
flag(this, 'lockSsfi', true);
this.eql(val);
flag(this, 'lockSsfi', prevLockSsfi);
} else {
this.assert(val === obj, 'expected #{this} to equal #{exp}', 'expected #{this} to not equal #{exp}', val, this._obj, true);
}
}
Assertion.addMethod('equal', assertEqual);
Assertion.addMethod('equals', assertEqual);
Assertion.addMethod('eq', assertEqual);
function assertEql(obj, msg) {
if (msg) flag(this, 'message', msg);
this.assert(_.eql(obj, flag(this, 'object')), 'expected #{this} to deeply equal #{exp}', 'expected #{this} to not deeply equal #{exp}', obj, this._obj, true);
}
Assertion.addMethod('eql', assertEql);
Assertion.addMethod('eqls', assertEql);
function assertAbove(n, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), doLength = flag(this, 'doLength'), flagMsg = flag(this, 'message'), msgPrefix = (((flagMsg)) ? flagMsg + ': ' : ''), ssfi = flag(this, 'ssfi'), objType = _.type(obj).toLowerCase(), nType = _.type(n).toLowerCase(), errorMessage, shouldThrow = true;
if (doLength && objType !== 'map' && objType !== 'set') {
new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
}
if (!doLength && (objType === 'date' && nType !== 'date')) {
errorMessage = msgPrefix + 'the argument to above must be a date';
} else if (nType !== 'number' && (doLength || objType === 'number')) {
errorMessage = msgPrefix + 'the argument to above must be a number';
} else if (!doLength && (objType !== 'date' && objType !== 'number')) {
var printObj = ((objType === 'string')) ? "'" + obj + "'" : obj;
errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
} else {
shouldThrow = false;
}
if (shouldThrow) {
throw new AssertionError(errorMessage, undefined, ssfi);
}
if (doLength) {
var descriptor = 'length', itemsCount;
if (objType === 'map' || objType === 'set') {
descriptor = 'size';
itemsCount = obj.size;
} else {
itemsCount = obj.length;
}
this.assert(itemsCount > n, 'expected #{this} to have a ' + descriptor + ' above #{exp} but got #{act}', 'expected #{this} to not have a ' + descriptor + ' above #{exp}', n, itemsCount);
} else {
this.assert(obj > n, 'expected #{this} to be above #{exp}', 'expected #{this} to be at most #{exp}', n);
}
}
Assertion.addMethod('above', assertAbove);
Assertion.addMethod('gt', assertAbove);
Assertion.addMethod('greaterThan', assertAbove);
function assertLeast(n, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), doLength = flag(this, 'doLength'), flagMsg = flag(this, 'message'), msgPrefix = (((flagMsg)) ? flagMsg + ': ' : ''), ssfi = flag(this, 'ssfi'), objType = _.type(obj).toLowerCase(), nType = _.type(n).toLowerCase(), errorMessage, shouldThrow = true;
if (doLength && objType !== 'map' && objType !== 'set') {
new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
}
if (!doLength && (objType === 'date' && nType !== 'date')) {
errorMessage = msgPrefix + 'the argument to least must be a date';
} else if (nType !== 'number' && (doLength || objType === 'number')) {
errorMessage = msgPrefix + 'the argument to least must be a number';
} else if (!doLength && (objType !== 'date' && objType !== 'number')) {
var printObj = ((objType === 'string')) ? "'" + obj + "'" : obj;
errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
} else {
shouldThrow = false;
}
if (shouldThrow) {
throw new AssertionError(errorMessage, undefined, ssfi);
}
if (doLength) {
var descriptor = 'length', itemsCount;
if (objType === 'map' || objType === 'set') {
descriptor = 'size';
itemsCount = obj.size;
} else {
itemsCount = obj.length;
}
this.assert(itemsCount >= n, 'expected #{this} to have a ' + descriptor + ' at least #{exp} but got #{act}', 'expected #{this} to have a ' + descriptor + ' below #{exp}', n, itemsCount);
} else {
this.assert(obj >= n, 'expected #{this} to be at least #{exp}', 'expected #{this} to be below #{exp}', n);
}
}
Assertion.addMethod('least', assertLeast);
Assertion.addMethod('gte', assertLeast);
function assertBelow(n, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), doLength = flag(this, 'doLength'), flagMsg = flag(this, 'message'), msgPrefix = (((flagMsg)) ? flagMsg + ': ' : ''), ssfi = flag(this, 'ssfi'), objType = _.type(obj).toLowerCase(), nType = _.type(n).toLowerCase(), errorMessage, shouldThrow = true;
if (doLength && objType !== 'map' && objType !== 'set') {
new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
}
if (!doLength && (objType === 'date' && nType !== 'date')) {
errorMessage = msgPrefix + 'the argument to below must be a date';
} else if (nType !== 'number' && (doLength || objType === 'number')) {
errorMessage = msgPrefix + 'the argument to below must be a number';
} else if (!doLength && (objType !== 'date' && objType !== 'number')) {
var printObj = ((objType === 'string')) ? "'" + obj + "'" : obj;
errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
} else {
shouldThrow = false;
}
if (shouldThrow) {
throw new AssertionError(errorMessage, undefined, ssfi);
}
if (doLength) {
var descriptor = 'length', itemsCount;
if (objType === 'map' || objType === 'set') {
descriptor = 'size';
itemsCount = obj.size;
} else {
itemsCount = obj.length;
}
this.assert(itemsCount < n, 'expected #{this} to have a ' + descriptor + ' below #{exp} but got #{act}', 'expected #{this} to not have a ' + descriptor + ' below #{exp}', n, itemsCount);
} else {
this.assert(obj < n, 'expected #{this} to be below #{exp}', 'expected #{this} to be at least #{exp}', n);
}
}
Assertion.addMethod('below', assertBelow);
Assertion.addMethod('lt', assertBelow);
Assertion.addMethod('lessThan', assertBelow);
function assertMost(n, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), doLength = flag(this, 'doLength'), flagMsg = flag(this, 'message'), msgPrefix = (((flagMsg)) ? flagMsg + ': ' : ''), ssfi = flag(this, 'ssfi'), objType = _.type(obj).toLowerCase(), nType = _.type(n).toLowerCase(), errorMessage, shouldThrow = true;
if (doLength && objType !== 'map' && objType !== 'set') {
new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
}
if (!doLength && (objType === 'date' && nType !== 'date')) {
errorMessage = msgPrefix + 'the argument to most must be a date';
} else if (nType !== 'number' && (doLength || objType === 'number')) {
errorMessage = msgPrefix + 'the argument to most must be a number';
} else if (!doLength && (objType !== 'date' && objType !== 'number')) {
var printObj = ((objType === 'string')) ? "'" + obj + "'" : obj;
errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
} else {
shouldThrow = false;
}
if (shouldThrow) {
throw new AssertionError(errorMessage, undefined, ssfi);
}
if (doLength) {
var descriptor = 'length', itemsCount;
if (objType === 'map' || objType === 'set') {
descriptor = 'size';
itemsCount = obj.size;
} else {
itemsCount = obj.length;
}
this.assert(itemsCount <= n, 'expected #{this} to have a ' + descriptor + ' at most #{exp} but got #{act}', 'expected #{this} to have a ' + descriptor + ' above #{exp}', n, itemsCount);
} else {
this.assert(obj <= n, 'expected #{this} to be at most #{exp}', 'expected #{this} to be above #{exp}', n);
}
}
Assertion.addMethod('most', assertMost);
Assertion.addMethod('lte', assertMost);
Assertion.addMethod('within', function (start, finish, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), doLength = flag(this, 'doLength'), flagMsg = flag(this, 'message'), msgPrefix = (((flagMsg)) ? flagMsg + ': ' : ''), ssfi = flag(this, 'ssfi'), objType = _.type(obj).toLowerCase(), startType = _.type(start).toLowerCase(), finishType = _.type(finish).toLowerCase(), errorMessage, shouldThrow = true, range = ((startType === 'date' && finishType === 'date')) ? start.toUTCString() + '..' + finish.toUTCString() : start + '..' + finish;
if (doLength && objType !== 'map' && objType !== 'set') {
new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
}
if (!doLength && (objType === 'date' && (startType !== 'date' || finishType !== 'date'))) {
errorMessage = msgPrefix + 'the arguments to within must be dates';
} else if ((startType !== 'number' || finishType !== 'number') && (doLength || objType === 'number')) {
errorMessage = msgPrefix + 'the arguments to within must be numbers';
} else if (!doLength && (objType !== 'date' && objType !== 'number')) {
var printObj = ((objType === 'string')) ? "'" + obj + "'" : obj;
errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
} else {
shouldThrow = false;
}
if (shouldThrow) {
throw new AssertionError(errorMessage, undefined, ssfi);
}
if (doLength) {
var descriptor = 'length', itemsCount;
if (objType === 'map' || objType === 'set') {
descriptor = 'size';
itemsCount = obj.size;
} else {
itemsCount = obj.length;
}
this.assert(itemsCount >= start && itemsCount <= finish, 'expected #{this} to have a ' + descriptor + ' within ' + range, 'expected #{this} to not have a ' + descriptor + ' within ' + range);
} else {
this.assert(obj >= start && obj <= finish, 'expected #{this} to be within ' + range, 'expected #{this} to not be within ' + range);
}
});
function assertInstanceOf(constructor, msg) {
if (msg) flag(this, 'message', msg);
var target = flag(this, 'object');
var ssfi = flag(this, 'ssfi');
var flagMsg = flag(this, 'message');
try {
var isInstanceOf = target instanceof constructor;
} catch (err) {
if (err instanceof TypeError) {
flagMsg = flagMsg ? flagMsg + ': ' : '';
throw new AssertionError(flagMsg + 'The instanceof assertion needs a constructor but ' + _.type(constructor) + ' was given.', undefined, ssfi);
}
throw err;
}
var name = _.getName(constructor);
if (name === null) {
name = 'an unnamed constructor';
}
this.assert(isInstanceOf, 'expected #{this} to be an instance of ' + name, 'expected #{this} to not be an instance of ' + name);
}
;
Assertion.addMethod('instanceof', assertInstanceOf);
Assertion.addMethod('instanceOf', assertInstanceOf);
function assertProperty(name, val, msg) {
if (msg) flag(this, 'message', msg);
var isNested = flag(this, 'nested'), isOwn = flag(this, 'own'), flagMsg = flag(this, 'message'), obj = flag(this, 'object'), ssfi = flag(this, 'ssfi'), nameType = typeof name;
flagMsg = flagMsg ? flagMsg + ': ' : '';
if (isNested) {
if (nameType !== 'string') {
throw new AssertionError(flagMsg + 'the argument to property must be a string when using nested syntax', undefined, ssfi);
}
} else {
if (nameType !== 'string' && nameType !== 'number' && nameType !== 'symbol') {
throw new AssertionError(flagMsg + 'the argument to property must be a string, number, or symbol', undefined, ssfi);
}
}
if (isNested && isOwn) {
throw new AssertionError(flagMsg + 'The "nested" and "own" flags cannot be combined.', undefined, ssfi);
}
if (obj === null || obj === undefined) {
throw new AssertionError(flagMsg + 'Target cannot be null or undefined.', undefined, ssfi);
}
var isDeep = flag(this, 'deep'), negate = flag(this, 'negate'), pathInfo = isNested ? _.getPathInfo(obj, name) : null, value = isNested ? pathInfo.value : obj[name];
var descriptor = '';
if (isDeep) descriptor += 'deep ';
if (isOwn) descriptor += 'own ';
if (isNested) descriptor += 'nested ';
descriptor += 'property ';
var hasProperty;
if (isOwn) hasProperty = Object.prototype.hasOwnProperty.call(obj, name); else if (isNested) hasProperty = pathInfo.exists; else hasProperty = _.hasProperty(obj, name);
if (!negate || arguments.length === 1) {
this.assert(hasProperty, 'expected #{this} to have ' + descriptor + _.inspect(name), 'expected #{this} to not have ' + descriptor + _.inspect(name));
}
if (arguments.length > 1) {
this.assert(hasProperty && (isDeep ? _.eql(val, value) : val === value), 'expected #{this} to have ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}', 'expected #{this} to not have ' + descriptor + _.inspect(name) + ' of #{act}', val, value);
}
flag(this, 'object', value);
}
Assertion.addMethod('property', assertProperty);
function assertOwnProperty(name, value, msg) {
flag(this, 'own', true);
assertProperty.apply(this, arguments);
}
Assertion.addMethod('ownProperty', assertOwnProperty);
Assertion.addMethod('haveOwnProperty', assertOwnProperty);
function assertOwnPropertyDescriptor(name, descriptor, msg) {
if (typeof descriptor === 'string') {
msg = descriptor;
descriptor = null;
}
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object');
var actualDescriptor = Object.getOwnPropertyDescriptor(Object(obj), name);
if (actualDescriptor && descriptor) {
this.assert(_.eql(descriptor, actualDescriptor), 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to match ' + _.inspect(descriptor) + ', got ' + _.inspect(actualDescriptor), 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to not match ' + _.inspect(descriptor), descriptor, actualDescriptor, true);
} else {
this.assert(actualDescriptor, 'expected #{this} to have an own property descriptor for ' + _.inspect(name), 'expected #{this} to not have an own property descriptor for ' + _.inspect(name));
}
flag(this, 'object', actualDescriptor);
}
Assertion.addMethod('ownPropertyDescriptor', assertOwnPropertyDescriptor);
Assertion.addMethod('haveOwnPropertyDescriptor', assertOwnPropertyDescriptor);
function assertLengthChain() {
flag(this, 'doLength', true);
}
function assertLength(n, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), objType = _.type(obj).toLowerCase(), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi'), descriptor = 'length', itemsCount;
switch (objType) {
case 'map':
case 'set':
descriptor = 'size';
itemsCount = obj.size;
break;
default:
new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
itemsCount = obj.length;
}
this.assert(itemsCount == n, 'expected #{this} to have a ' + descriptor + ' of #{exp} but got #{act}', 'expected #{this} to not have a ' + descriptor + ' of #{act}', n, itemsCount);
}
Assertion.addChainableMethod('length', assertLength, assertLengthChain);
Assertion.addChainableMethod('lengthOf', assertLength, assertLengthChain);
function assertMatch(re, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object');
this.assert(re.exec(obj), 'expected #{this} to match ' + re, 'expected #{this} not to match ' + re);
}
Assertion.addMethod('match', assertMatch);
Assertion.addMethod('matches', assertMatch);
Assertion.addMethod('string', function (str, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(obj, flagMsg, ssfi, true).is.a('string');
this.assert(~obj.indexOf(str), 'expected #{this} to contain ' + _.inspect(str), 'expected #{this} to not contain ' + _.inspect(str));
});
function assertKeys(keys) {
var obj = flag(this, 'object'), objType = _.type(obj), keysType = _.type(keys), ssfi = flag(this, 'ssfi'), isDeep = flag(this, 'deep'), str, deepStr = '', actual, ok = true, flagMsg = flag(this, 'message');
flagMsg = flagMsg ? flagMsg + ': ' : '';
var mixedArgsMsg = flagMsg + 'when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments';
if (objType === 'Map' || objType === 'Set') {
deepStr = isDeep ? 'deeply ' : '';
actual = [];
obj.forEach(function (val, key) {
actual.push(key);
});
if (keysType !== 'Array') {
keys = Array.prototype.slice.call(arguments);
}
} else {
actual = _.getOwnEnumerableProperties(obj);
switch (keysType) {
case 'Array':
if (arguments.length > 1) {
throw new AssertionError(mixedArgsMsg, undefined, ssfi);
}
break;
case 'Object':
if (arguments.length > 1) {
throw new AssertionError(mixedArgsMsg, undefined, ssfi);
}
keys = Object.keys(keys);
break;
default:
keys = Array.prototype.slice.call(arguments);
}
keys = keys.map(function (val) {
return typeof val === 'symbol' ? val : String(val);
});
}
if (!keys.length) {
throw new AssertionError(flagMsg + 'keys required', undefined, ssfi);
}
var len = keys.length, any = flag(this, 'any'), all = flag(this, 'all'), expected = keys;
if (!any && !all) {
all = true;
}
if (any) {
ok = expected.some(function (expectedKey) {
return actual.some(function (actualKey) {
if (isDeep) {
return _.eql(expectedKey, actualKey);
} else {
return expectedKey === actualKey;
}
});
});
}
if (all) {
ok = expected.every(function (expectedKey) {
return actual.some(function (actualKey) {
if (isDeep) {
return _.eql(expectedKey, actualKey);
} else {
return expectedKey === actualKey;
}
});
});
if (!flag(this, 'contains')) {
ok = ok && keys.length == actual.length;
}
}
if (len > 1) {
keys = keys.map(function (key) {
return _.inspect(key);
});
var last = keys.pop();
if (all) {
str = keys.join(', ') + ', and ' + last;
}
if (any) {
str = keys.join(', ') + ', or ' + last;
}
} else {
str = _.inspect(keys[0]);
}
str = (len > 1 ? 'keys ' : 'key ') + str;
str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;
this.assert(ok, 'expected #{this} to ' + deepStr + str, 'expected #{this} to not ' + deepStr + str, expected.slice(0).sort(_.compareByInspect), actual.sort(_.compareByInspect), true);
}
Assertion.addMethod('keys', assertKeys);
Assertion.addMethod('key', assertKeys);
function assertThrows(errorLike, errMsgMatcher, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), ssfi = flag(this, 'ssfi'), flagMsg = flag(this, 'message'), negate = flag(this, 'negate') || false;
new Assertion(obj, flagMsg, ssfi, true).is.a('function');
if (errorLike instanceof RegExp || typeof errorLike === 'string') {
errMsgMatcher = errorLike;
errorLike = null;
}
var caughtErr;
try {
obj();
} catch (err) {
caughtErr = err;
}
var everyArgIsUndefined = errorLike === undefined && errMsgMatcher === undefined;
var everyArgIsDefined = Boolean(errorLike && errMsgMatcher);
var errorLikeFail = false;
var errMsgMatcherFail = false;
if (everyArgIsUndefined || !everyArgIsUndefined && !negate) {
var errorLikeString = 'an error';
if (errorLike instanceof Error) {
errorLikeString = '#{exp}';
} else if (errorLike) {
errorLikeString = _.checkError.getConstructorName(errorLike);
}
this.assert(caughtErr, 'expected #{this} to throw ' + errorLikeString, 'expected #{this} to not throw an error but #{act} was thrown', errorLike && errorLike.toString(), (caughtErr instanceof Error ? caughtErr.toString() : (typeof caughtErr === 'string' ? caughtErr : caughtErr && _.checkError.getConstructorName(caughtErr))));
}
if (errorLike && caughtErr) {
if (errorLike instanceof Error) {
var isCompatibleInstance = _.checkError.compatibleInstance(caughtErr, errorLike);
if (isCompatibleInstance === negate) {
if (everyArgIsDefined && negate) {
errorLikeFail = true;
} else {
this.assert(negate, 'expected #{this} to throw #{exp} but #{act} was thrown', 'expected #{this} to not throw #{exp}' + (caughtErr && !negate ? ' but #{act} was thrown' : ''), errorLike.toString(), caughtErr.toString());
}
}
}
var isCompatibleConstructor = _.checkError.compatibleConstructor(caughtErr, errorLike);
if (isCompatibleConstructor === negate) {
if (everyArgIsDefined && negate) {
errorLikeFail = true;
} else {
this.assert(negate, 'expected #{this} to throw #{exp} but #{act} was thrown', 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : ''), (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike)), (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr)));
}
}
}
if (caughtErr && errMsgMatcher !== undefined && errMsgMatcher !== null) {
var placeholder = 'including';
if (errMsgMatcher instanceof RegExp) {
placeholder = 'matching';
}
var isCompatibleMessage = _.checkError.compatibleMessage(caughtErr, errMsgMatcher);
if (isCompatibleMessage === negate) {
if (everyArgIsDefined && negate) {
errMsgMatcherFail = true;
} else {
this.assert(negate, 'expected #{this} to throw error ' + placeholder + ' #{exp} but got #{act}', 'expected #{this} to throw error not ' + placeholder + ' #{exp}', errMsgMatcher, _.checkError.getMessage(caughtErr));
}
}
}
if (errorLikeFail && errMsgMatcherFail) {
this.assert(negate, 'expected #{this} to throw #{exp} but #{act} was thrown', 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : ''), (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike)), (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr)));
}
flag(this, 'object', caughtErr);
}
;
Assertion.addMethod('throw', assertThrows);
Assertion.addMethod('throws', assertThrows);
Assertion.addMethod('Throw', assertThrows);
function respondTo(method, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), itself = flag(this, 'itself'), context = (('function' === typeof obj && !itself)) ? obj.prototype[method] : obj[method];
this.assert('function' === typeof context, 'expected #{this} to respond to ' + _.inspect(method), 'expected #{this} to not respond to ' + _.inspect(method));
}
Assertion.addMethod('respondTo', respondTo);
Assertion.addMethod('respondsTo', respondTo);
Assertion.addProperty('itself', function () {
flag(this, 'itself', true);
});
function satisfy(matcher, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object');
var result = matcher(obj);
this.assert(result, 'expected #{this} to satisfy ' + _.objDisplay(matcher), 'expected #{this} to not satisfy' + _.objDisplay(matcher), flag(this, 'negate') ? false : true, result);
}
Assertion.addMethod('satisfy', satisfy);
Assertion.addMethod('satisfies', satisfy);
function closeTo(expected, delta, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(obj, flagMsg, ssfi, true).is.a('number');
if (typeof expected !== 'number' || typeof delta !== 'number') {
flagMsg = flagMsg ? flagMsg + ': ' : '';
throw new AssertionError(flagMsg + 'the arguments to closeTo or approximately must be numbers', undefined, ssfi);
}
this.assert(Math.abs(obj - expected) <= delta, 'expected #{this} to be close to ' + expected + ' +/- ' + delta, 'expected #{this} not to be close to ' + expected + ' +/- ' + delta);
}
Assertion.addMethod('closeTo', closeTo);
Assertion.addMethod('approximately', closeTo);
function isSubsetOf(subset, superset, cmp, contains, ordered) {
if (!contains) {
if (subset.length !== superset.length) return false;
superset = superset.slice();
}
return subset.every(function (elem, idx) {
if (ordered) return cmp ? cmp(elem, superset[idx]) : elem === superset[idx];
if (!cmp) {
var matchIdx = superset.indexOf(elem);
if (matchIdx === -1) return false;
if (!contains) superset.splice(matchIdx, 1);
return true;
}
return superset.some(function (elem2, matchIdx) {
if (!cmp(elem, elem2)) return false;
if (!contains) superset.splice(matchIdx, 1);
return true;
});
});
}
Assertion.addMethod('members', function (subset, msg) {
if (msg) flag(this, 'message', msg);
var obj = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(obj, flagMsg, ssfi, true).to.be.an('array');
new Assertion(subset, flagMsg, ssfi, true).to.be.an('array');
var contains = flag(this, 'contains');
var ordered = flag(this, 'ordered');
var subject, failMsg, failNegateMsg;
if (contains) {
subject = ordered ? 'an ordered superset' : 'a superset';
failMsg = 'expected #{this} to be ' + subject + ' of #{exp}';
failNegateMsg = 'expected #{this} to not be ' + subject + ' of #{exp}';
} else {
subject = ordered ? 'ordered members' : 'members';
failMsg = 'expected #{this} to have the same ' + subject + ' as #{exp}';
failNegateMsg = 'expected #{this} to not have the same ' + subject + ' as #{exp}';
}
var cmp = flag(this, 'deep') ? _.eql : undefined;
this.assert(isSubsetOf(subset, obj, cmp, contains, ordered), failMsg, failNegateMsg, subset, obj, true);
});
function oneOf(list, msg) {
if (msg) flag(this, 'message', msg);
var expected = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(list, flagMsg, ssfi, true).to.be.an('array');
this.assert(list.indexOf(expected) > -1, 'expected #{this} to be one of #{exp}', 'expected #{this} to not be one of #{exp}', list, expected);
}
Assertion.addMethod('oneOf', oneOf);
function assertChanges(subject, prop, msg) {
if (msg) flag(this, 'message', msg);
var fn = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(fn, flagMsg, ssfi, true).is.a('function');
var initial;
if (!prop) {
new Assertion(subject, flagMsg, ssfi, true).is.a('function');
initial = subject();
} else {
new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);
initial = subject[prop];
}
fn();
var final = prop === undefined || prop === null ? subject() : subject[prop];
var msgObj = prop === undefined || prop === null ? initial : '.' + prop;
flag(this, 'deltaMsgObj', msgObj);
flag(this, 'initialDeltaValue', initial);
flag(this, 'finalDeltaValue', final);
flag(this, 'deltaBehavior', 'change');
flag(this, 'realDelta', final !== initial);
this.assert(initial !== final, 'expected ' + msgObj + ' to change', 'expected ' + msgObj + ' to not change');
}
Assertion.addMethod('change', assertChanges);
Assertion.addMethod('changes', assertChanges);
function assertIncreases(subject, prop, msg) {
if (msg) flag(this, 'message', msg);
var fn = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(fn, flagMsg, ssfi, true).is.a('function');
var initial;
if (!prop) {
new Assertion(subject, flagMsg, ssfi, true).is.a('function');
initial = subject();
} else {
new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);
initial = subject[prop];
}
new Assertion(initial, flagMsg, ssfi, true).is.a('number');
fn();
var final = prop === undefined || prop === null ? subject() : subject[prop];
var msgObj = prop === undefined || prop === null ? initial : '.' + prop;
flag(this, 'deltaMsgObj', msgObj);
flag(this, 'initialDeltaValue', initial);
flag(this, 'finalDeltaValue', final);
flag(this, 'deltaBehavior', 'increase');
flag(this, 'realDelta', final - initial);
this.assert(final - initial > 0, 'expected ' + msgObj + ' to increase', 'expected ' + msgObj + ' to not increase');
}
Assertion.addMethod('increase', assertIncreases);
Assertion.addMethod('increases', assertIncreases);
function assertDecreases(subject, prop, msg) {
if (msg) flag(this, 'message', msg);
var fn = flag(this, 'object'), flagMsg = flag(this, 'message'), ssfi = flag(this, 'ssfi');
new Assertion(fn, flagMsg, ssfi, true).is.a('function');
var initial;
if (!prop) {
new Assertion(subject, flagMsg, ssfi, true).is.a('function');
initial = subject();
} else {
new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);
initial = subject[prop];
}
new Assertion(initial, flagMsg, ssfi, true).is.a('number');
fn();
var final = prop === undefined || prop === null ? subject() : subject[prop];
var msgObj = prop === undefined || prop === null ? initial : '.' + prop;
flag(this, 'deltaMsgObj', msgObj);
flag(this, 'initialDeltaValue', initial);
flag(this, 'finalDeltaValue', final);
flag(this, 'deltaBehavior', 'decrease');
flag(this, 'realDelta', initial - final);
this.assert(final - initial < 0, 'expected ' + msgObj + ' to decrease', 'expected ' + msgObj + ' to not decrease');
}
Assertion.addMethod('decrease', assertDecreases);
Assertion.addMethod('decreases', assertDecreases);
function assertDelta(delta, msg) {
if (msg) flag(this, 'message', msg);
var msgObj = flag(this, 'deltaMsgObj');
var initial = flag(this, 'initialDeltaValue');
var final = flag(this, 'finalDeltaValue');
var behavior = flag(this, 'deltaBehavior');
var realDelta = flag(this, 'realDelta');
var expression;
if (behavior === 'change') {
expression = Math.abs(final - initial) === Math.abs(delta);
} else {
expression = realDelta === Math.abs(delta);
}
this.assert(expression, 'expected ' + msgObj + ' to ' + behavior + ' by ' + delta, 'expected ' + msgObj + ' to not ' + behavior + ' by ' + delta);
}
Assertion.addMethod('by', assertDelta);
Assertion.addProperty('extensible', function () {
var obj = flag(this, 'object');
var isExtensible = obj === Object(obj) && Object.isExtensible(obj);
this.assert(isExtensible, 'expected #{this} to be extensible', 'expected #{this} to not be extensible');
});
Assertion.addProperty('sealed', function () {
var obj = flag(this, 'object');
var isSealed = obj === Object(obj) ? Object.isSealed(obj) : true;
this.assert(isSealed, 'expected #{this} to be sealed', 'expected #{this} to not be sealed');
});
Assertion.addProperty('frozen', function () {
var obj = flag(this, 'object');
var isFrozen = obj === Object(obj) ? Object.isFrozen(obj) : true;
this.assert(isFrozen, 'expected #{this} to be frozen', 'expected #{this} to not be frozen');
});
Assertion.addProperty('finite', function (msg) {
var obj = flag(this, 'object');
this.assert(typeof obj === 'number' && isFinite(obj), 'expected #{this} to be a finite number', 'expected #{this} to not be a finite number');
});
};
return module.exports;
},
"node_modules/chai/lib/chai/interface/expect.js": function (require, module, exports) {
module.exports = function (chai, util) {
chai.expect = function (val, message) {
return new chai.Assertion(val, message);
};
chai.expect.fail = function (actual, expected, message, operator) {
if (arguments.length < 2) {
message = actual;
actual = undefined;
}
message = message || 'expect.fail()';
throw new chai.AssertionError(message, {
actual: actual,
expected: expected,
operator: operator
}, chai.expect.fail);
};
};
return module.exports;
},
"node_modules/chai/lib/chai/interface/should.js": function (require, module, exports) {
module.exports = function (chai, util) {
var Assertion = chai.Assertion;
function loadShould() {
function shouldGetter() {
if (this instanceof String || this instanceof Number || this instanceof Boolean || typeof Symbol === 'function' && this instanceof Symbol) {
return new Assertion(this.valueOf(), null, shouldGetter);
}
return new Assertion(this, null, shouldGetter);
}
function shouldSetter(value) {
Object.defineProperty(this, 'should', {
value: value,
enumerable: true,
configurable: true,
writable: true
});
}
Object.defineProperty(Object.prototype, 'should', {
set: shouldSetter,
get: shouldGetter,
configurable: true
});
var should = {};
should.fail = function (actual, expected, message, operator) {
if (arguments.length < 2) {
message = actual;
actual = undefined;
}
message = message || 'should.fail()';
throw new chai.AssertionError(message, {
actual: actual,
expected: expected,
operator: operator
}, should.fail);
};
should.equal = function (val1, val2, msg) {
new Assertion(val1, msg).to.equal(val2);
};
should.Throw = function (fn, errt, errs, msg) {
new Assertion(fn, msg).to.Throw(errt, errs);
};
should.exist = function (val, msg) {
new Assertion(val, msg).to.exist;
};
should.not = {};
should.not.equal = function (val1, val2, msg) {
new Assertion(val1, msg).to.not.equal(val2);
};
should.not.Throw = function (fn, errt, errs, msg) {
new Assertion(fn, msg).to.not.Throw(errt, errs);
};
should.not.exist = function (val, msg) {
new Assertion(val, msg).to.not.exist;
};
should['throw'] = should['Throw'];
should.not['throw'] = should.not['Throw'];
return should;
}
;
chai.should = loadShould;
chai.Should = loadShould;
};
return module.exports;
},
"node_modules/chai/lib/chai/interface/assert.js": function (require, module, exports) {
module.exports = function (chai, util) {
var Assertion = chai.Assertion, flag = util.flag;
var assert = chai.assert = function (express, errmsg) {
var test = new Assertion(null, null, chai.assert, true);
test.assert(express, errmsg, '[ negation message unavailable ]');
};
assert.fail = function (actual, expected, message, operator) {
if (arguments.length < 2) {
message = actual;
actual = undefined;
}
message = message || 'assert.fail()';
throw new chai.AssertionError(message, {
actual: actual,
expected: expected,
operator: operator
}, assert.fail);
};
assert.isOk = function (val, msg) {
new Assertion(val, msg, assert.isOk, true).is.ok;
};
assert.isNotOk = function (val, msg) {
new Assertion(val, msg, assert.isNotOk, true).is.not.ok;
};
assert.equal = function (act, exp, msg) {
var test = new Assertion(act, msg, assert.equal, true);
test.assert(exp == flag(test, 'object'), 'expected #{this} to equal #{exp}', 'expected #{this} to not equal #{act}', exp, act, true);
};
assert.notEqual = function (act, exp, msg) {
var test = new Assertion(act, msg, assert.notEqual, true);
test.assert(exp != flag(test, 'object'), 'expected #{this} to not equal #{exp}', 'expected #{this} to equal #{act}', exp, act, true);
};
assert.strictEqual = function (act, exp, msg) {
new Assertion(act, msg, assert.strictEqual, true).to.equal(exp);
};
assert.notStrictEqual = function (act, exp, msg) {
new Assertion(act, msg, assert.notStrictEqual, true).to.not.equal(exp);
};
assert.deepEqual = assert.deepStrictEqual = function (act, exp, msg) {
new Assertion(act, msg, assert.deepEqual, true).to.eql(exp);
};
assert.notDeepEqual = function (act, exp, msg) {
new Assertion(act, msg, assert.notDeepEqual, true).to.not.eql(exp);
};
assert.isAbove = function (val, abv, msg) {
new Assertion(val, msg, assert.isAbove, true).to.be.above(abv);
};
assert.isAtLeast = function (val, atlst, msg) {
new Assertion(val, msg, assert.isAtLeast, true).to.be.least(atlst);
};
assert.isBelow = function (val, blw, msg) {
new Assertion(val, msg, assert.isBelow, true).to.be.below(blw);
};
assert.isAtMost = function (val, atmst, msg) {
new Assertion(val, msg, assert.isAtMost, true).to.be.most(atmst);
};
assert.isTrue = function (val, msg) {
new Assertion(val, msg, assert.isTrue, true).is['true'];
};
assert.isNotTrue = function (val, msg) {
new Assertion(val, msg, assert.isNotTrue, true).to.not.equal(true);
};
assert.isFalse = function (val, msg) {
new Assertion(val, msg, assert.isFalse, true).is['false'];
};
assert.isNotFalse = function (val, msg) {
new Assertion(val, msg, assert.isNotFalse, true).to.not.equal(false);
};
assert.isNull = function (val, msg) {
new Assertion(val, msg, assert.isNull, true).to.equal(null);
};
assert.isNotNull = function (val, msg) {
new Assertion(val, msg, assert.isNotNull, true).to.not.equal(null);
};
assert.isNaN = function (val, msg) {
new Assertion(val, msg, assert.isNaN, true).to.be.NaN;
};
assert.isNotNaN = function (val, msg) {
new Assertion(val, msg, assert.isNotNaN, true).not.to.be.NaN;
};
assert.exists = function (val, msg) {
new Assertion(val, msg, assert.exists, true).to.exist;
};
assert.notExists = function (val, msg) {
new Assertion(val, msg, assert.notExists, true).to.not.exist;
};
assert.isUndefined = function (val, msg) {
new Assertion(val, msg, assert.isUndefined, true).to.equal(undefined);
};
assert.isDefined = function (val, msg) {
new Assertion(val, msg, assert.isDefined, true).to.not.equal(undefined);
};
assert.isFunction = function (val, msg) {
new Assertion(val, msg, assert.isFunction, true).to.be.a('function');
};
assert.isNotFunction = function (val, msg) {
new Assertion(val, msg, assert.isNotFunction, true).to.not.be.a('function');
};
assert.isObject = function (val, msg) {
new Assertion(val, msg, assert.isObject, true).to.be.a('object');
};
assert.isNotObject = function (val, msg) {
new Assertion(val, msg, assert.isNotObject, true).to.not.be.a('object');
};
assert.isArray = function (val, msg) {
new Assertion(val, msg, assert.isArray, true).to.be.an('array');
};
assert.isNotArray = function (val, msg) {
new Assertion(val, msg, assert.isNotArray, true).to.not.be.an('array');
};
assert.isString = function (val, msg) {
new Assertion(val, msg, assert.isString, true).to.be.a('string');
};
assert.isNotString = function (val, msg) {
new Assertion(val, msg, assert.isNotString, true).to.not.be.a('string');
};
assert.isNumber = function (val, msg) {
new Assertion(val, msg, assert.isNumber, true).to.be.a('number');
};
assert.isNotNumber = function (val, msg) {
new Assertion(val, msg, assert.isNotNumber, true).to.not.be.a('number');
};
assert.isFinite = function (val, msg) {
new Assertion(val, msg, assert.isFinite, true).to.be.finite;
};
assert.isBoolean = function (val, msg) {
new Assertion(val, msg, assert.isBoolean, true).to.be.a('boolean');
};
assert.isNotBoolean = function (val, msg) {
new Assertion(val, msg, assert.isNotBoolean, true).to.not.be.a('boolean');
};
assert.typeOf = function (val, type, msg) {
new Assertion(val, msg, assert.typeOf, true).to.be.a(type);
};
assert.notTypeOf = function (val, type, msg) {
new Assertion(val, msg, assert.notTypeOf, true).to.not.be.a(type);
};
assert.instanceOf = function (val, type, msg) {
new Assertion(val, msg, assert.instanceOf, true).to.be.instanceOf(type);
};
assert.notInstanceOf = function (val, type, msg) {
new Assertion(val, msg, assert.notInstanceOf, true).to.not.be.instanceOf(type);
};
assert.include = function (exp, inc, msg) {
new Assertion(exp, msg, assert.include, true).include(inc);
};
assert.notInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.notInclude, true).not.include(inc);
};
assert.deepInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.deepInclude, true).deep.include(inc);
};
assert.notDeepInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.notDeepInclude, true).not.deep.include(inc);
};
assert.nestedInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.nestedInclude, true).nested.include(inc);
};
assert.notNestedInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.notNestedInclude, true).not.nested.include(inc);
};
assert.deepNestedInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.deepNestedInclude, true).deep.nested.include(inc);
};
assert.notDeepNestedInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.notDeepNestedInclude, true).not.deep.nested.include(inc);
};
assert.ownInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.ownInclude, true).own.include(inc);
};
assert.notOwnInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.notOwnInclude, true).not.own.include(inc);
};
assert.deepOwnInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.deepOwnInclude, true).deep.own.include(inc);
};
assert.notDeepOwnInclude = function (exp, inc, msg) {
new Assertion(exp, msg, assert.notDeepOwnInclude, true).not.deep.own.include(inc);
};
assert.match = function (exp, re, msg) {
new Assertion(exp, msg, assert.match, true).to.match(re);
};
assert.notMatch = function (exp, re, msg) {
new Assertion(exp, msg, assert.notMatch, true).to.not.match(re);
};
assert.property = function (obj, prop, msg) {
new Assertion(obj, msg, assert.property, true).to.have.property(prop);
};
assert.notProperty = function (obj, prop, msg) {
new Assertion(obj, msg, assert.notProperty, true).to.not.have.property(prop);
};
assert.propertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.propertyVal, true).to.have.property(prop, val);
};
assert.notPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.notPropertyVal, true).to.not.have.property(prop, val);
};
assert.deepPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.deepPropertyVal, true).to.have.deep.property(prop, val);
};
assert.notDeepPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.notDeepPropertyVal, true).to.not.have.deep.property(prop, val);
};
assert.ownProperty = function (obj, prop, msg) {
new Assertion(obj, msg, assert.ownProperty, true).to.have.own.property(prop);
};
assert.notOwnProperty = function (obj, prop, msg) {
new Assertion(obj, msg, assert.notOwnProperty, true).to.not.have.own.property(prop);
};
assert.ownPropertyVal = function (obj, prop, value, msg) {
new Assertion(obj, msg, assert.ownPropertyVal, true).to.have.own.property(prop, value);
};
assert.notOwnPropertyVal = function (obj, prop, value, msg) {
new Assertion(obj, msg, assert.notOwnPropertyVal, true).to.not.have.own.property(prop, value);
};
assert.deepOwnPropertyVal = function (obj, prop, value, msg) {
new Assertion(obj, msg, assert.deepOwnPropertyVal, true).to.have.deep.own.property(prop, value);
};
assert.notDeepOwnPropertyVal = function (obj, prop, value, msg) {
new Assertion(obj, msg, assert.notDeepOwnPropertyVal, true).to.not.have.deep.own.property(prop, value);
};
assert.nestedProperty = function (obj, prop, msg) {
new Assertion(obj, msg, assert.nestedProperty, true).to.have.nested.property(prop);
};
assert.notNestedProperty = function (obj, prop, msg) {
new Assertion(obj, msg, assert.notNestedProperty, true).to.not.have.nested.property(prop);
};
assert.nestedPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.nestedPropertyVal, true).to.have.nested.property(prop, val);
};
assert.notNestedPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.notNestedPropertyVal, true).to.not.have.nested.property(prop, val);
};
assert.deepNestedPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.deepNestedPropertyVal, true).to.have.deep.nested.property(prop, val);
};
assert.notDeepNestedPropertyVal = function (obj, prop, val, msg) {
new Assertion(obj, msg, assert.notDeepNestedPropertyVal, true).to.not.have.deep.nested.property(prop, val);
};
assert.lengthOf = function (exp, len, msg) {
new Assertion(exp, msg, assert.lengthOf, true).to.have.lengthOf(len);
};
assert.hasAnyKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.hasAnyKeys, true).to.have.any.keys(keys);
};
assert.hasAllKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.hasAllKeys, true).to.have.all.keys(keys);
};
assert.containsAllKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.containsAllKeys, true).to.contain.all.keys(keys);
};
assert.doesNotHaveAnyKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.doesNotHaveAnyKeys, true).to.not.have.any.keys(keys);
};
assert.doesNotHaveAllKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.doesNotHaveAllKeys, true).to.not.have.all.keys(keys);
};
assert.hasAnyDeepKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.hasAnyDeepKeys, true).to.have.any.deep.keys(keys);
};
assert.hasAllDeepKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.hasAllDeepKeys, true).to.have.all.deep.keys(keys);
};
assert.containsAllDeepKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.containsAllDeepKeys, true).to.contain.all.deep.keys(keys);
};
assert.doesNotHaveAnyDeepKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.doesNotHaveAnyDeepKeys, true).to.not.have.any.deep.keys(keys);
};
assert.doesNotHaveAllDeepKeys = function (obj, keys, msg) {
new Assertion(obj, msg, assert.doesNotHaveAllDeepKeys, true).to.not.have.all.deep.keys(keys);
};
assert.throws = function (fn, errorLike, errMsgMatcher, msg) {
if ('string' === typeof errorLike || errorLike instanceof RegExp) {
errMsgMatcher = errorLike;
errorLike = null;
}
var assertErr = new Assertion(fn, msg, assert.throws, true).to.throw(errorLike, errMsgMatcher);
return flag(assertErr, 'object');
};
assert.doesNotThrow = function (fn, errorLike, errMsgMatcher, msg) {
if ('string' === typeof errorLike || errorLike instanceof RegExp) {
errMsgMatcher = errorLike;
errorLike = null;
}
new Assertion(fn, msg, assert.doesNotThrow, true).to.not.throw(errorLike, errMsgMatcher);
};
assert.operator = function (val, operator, val2, msg) {
var ok;
switch (operator) {
case '==':
ok = val == val2;
break;
case '===':
ok = val === val2;
break;
case '>':
ok = val > val2;
break;
case '>=':
ok = val >= val2;
break;
case '<':
ok = val < val2;
break;
case '<=':
ok = val <= val2;
break;
case '!=':
ok = val != val2;
break;
case '!==':
ok = val !== val2;
break;
default:
msg = msg ? msg + ': ' : msg;
throw new chai.AssertionError(msg + 'Invalid operator "' + operator + '"', undefined, assert.operator);
}
var test = new Assertion(ok, msg, assert.operator, true);
test.assert(true === flag(test, 'object'), 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2), 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2));
};
assert.closeTo = function (act, exp, delta, msg) {
new Assertion(act, msg, assert.closeTo, true).to.be.closeTo(exp, delta);
};
assert.approximately = function (act, exp, delta, msg) {
new Assertion(act, msg, assert.approximately, true).to.be.approximately(exp, delta);
};
assert.sameMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.sameMembers, true).to.have.same.members(set2);
};
assert.notSameMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.notSameMembers, true).to.not.have.same.members(set2);
};
assert.sameDeepMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.sameDeepMembers, true).to.have.same.deep.members(set2);
};
assert.notSameDeepMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.notSameDeepMembers, true).to.not.have.same.deep.members(set2);
};
assert.sameOrderedMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.sameOrderedMembers, true).to.have.same.ordered.members(set2);
};
assert.notSameOrderedMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.notSameOrderedMembers, true).to.not.have.same.ordered.members(set2);
};
assert.sameDeepOrderedMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.sameDeepOrderedMembers, true).to.have.same.deep.ordered.members(set2);
};
assert.notSameDeepOrderedMembers = function (set1, set2, msg) {
new Assertion(set1, msg, assert.notSameDeepOrderedMembers, true).to.not.have.same.deep.ordered.members(set2);
};
assert.includeMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.includeMembers, true).to.include.members(subset);
};
assert.notIncludeMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.notIncludeMembers, true).to.not.include.members(subset);
};
assert.includeDeepMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.includeDeepMembers, true).to.include.deep.members(subset);
};
assert.notIncludeDeepMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.notIncludeDeepMembers, true).to.not.include.deep.members(subset);
};
assert.includeOrderedMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.includeOrderedMembers, true).to.include.ordered.members(subset);
};
assert.notIncludeOrderedMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.notIncludeOrderedMembers, true).to.not.include.ordered.members(subset);
};
assert.includeDeepOrderedMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.includeDeepOrderedMembers, true).to.include.deep.ordered.members(subset);
};
assert.notIncludeDeepOrderedMembers = function (superset, subset, msg) {
new Assertion(superset, msg, assert.notIncludeDeepOrderedMembers, true).to.not.include.deep.ordered.members(subset);
};
assert.oneOf = function (inList, list, msg) {
new Assertion(inList, msg, assert.oneOf, true).to.be.oneOf(list);
};
assert.changes = function (fn, obj, prop, msg) {
if (arguments.length === 3 && typeof obj === 'function') {
msg = prop;
prop = null;
}
new Assertion(fn, msg, assert.changes, true).to.change(obj, prop);
};
assert.changesBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
new Assertion(fn, msg, assert.changesBy, true).to.change(obj, prop).by(delta);
};
assert.doesNotChange = function (fn, obj, prop, msg) {
if (arguments.length === 3 && typeof obj === 'function') {
msg = prop;
prop = null;
}
return new Assertion(fn, msg, assert.doesNotChange, true).to.not.change(obj, prop);
};
assert.changesButNotBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
new Assertion(fn, msg, assert.changesButNotBy, true).to.change(obj, prop).but.not.by(delta);
};
assert.increases = function (fn, obj, prop, msg) {
if (arguments.length === 3 && typeof obj === 'function') {
msg = prop;
prop = null;
}
return new Assertion(fn, msg, assert.increases, true).to.increase(obj, prop);
};
assert.increasesBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
new Assertion(fn, msg, assert.increasesBy, true).to.increase(obj, prop).by(delta);
};
assert.doesNotIncrease = function (fn, obj, prop, msg) {
if (arguments.length === 3 && typeof obj === 'function') {
msg = prop;
prop = null;
}
return new Assertion(fn, msg, assert.doesNotIncrease, true).to.not.increase(obj, prop);
};
assert.increasesButNotBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
new Assertion(fn, msg, assert.increasesButNotBy, true).to.increase(obj, prop).but.not.by(delta);
};
assert.decreases = function (fn, obj, prop, msg) {
if (arguments.length === 3 && typeof obj === 'function') {
msg = prop;
prop = null;
}
return new Assertion(fn, msg, assert.decreases, true).to.decrease(obj, prop);
};
assert.decreasesBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
new Assertion(fn, msg, assert.decreasesBy, true).to.decrease(obj, prop).by(delta);
};
assert.doesNotDecrease = function (fn, obj, prop, msg) {
if (arguments.length === 3 && typeof obj === 'function') {
msg = prop;
prop = null;
}
return new Assertion(fn, msg, assert.doesNotDecrease, true).to.not.decrease(obj, prop);
};
assert.doesNotDecreaseBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
return new Assertion(fn, msg, assert.doesNotDecreaseBy, true).to.not.decrease(obj, prop).by(delta);
};
assert.decreasesButNotBy = function (fn, obj, prop, delta, msg) {
if (arguments.length === 4 && typeof obj === 'function') {
var tmpMsg = delta;
delta = prop;
msg = tmpMsg;
} else if (arguments.length === 3) {
delta = prop;
prop = null;
}
new Assertion(fn, msg, assert.decreasesButNotBy, true).to.decrease(obj, prop).but.not.by(delta);
};
assert.ifError = function (val) {
if (val) {
throw (val);
}
};
assert.isExtensible = function (obj, msg) {
new Assertion(obj, msg, assert.isExtensible, true).to.be.extensible;
};
assert.isNotExtensible = function (obj, msg) {
new Assertion(obj, msg, assert.isNotExtensible, true).to.not.be.extensible;
};
assert.isSealed = function (obj, msg) {
new Assertion(obj, msg, assert.isSealed, true).to.be.sealed;
};
assert.isNotSealed = function (obj, msg) {
new Assertion(obj, msg, assert.isNotSealed, true).to.not.be.sealed;
};
assert.isFrozen = function (obj, msg) {
new Assertion(obj, msg, assert.isFrozen, true).to.be.frozen;
};
assert.isNotFrozen = function (obj, msg) {
new Assertion(obj, msg, assert.isNotFrozen, true).to.not.be.frozen;
};
assert.isEmpty = function (val, msg) {
new Assertion(val, msg, assert.isEmpty, true).to.be.empty;
};
assert.isNotEmpty = function (val, msg) {
new Assertion(val, msg, assert.isNotEmpty, true).to.not.be.empty;
};
(function alias(name, as) {
assert[as] = assert[name];
return alias;
})('isOk', 'ok')('isNotOk', 'notOk')('throws', 'throw')('throws', 'Throw')('isExtensible', 'extensible')('isNotExtensible', 'notExtensible')('isSealed', 'sealed')('isNotSealed', 'notSealed')('isFrozen', 'frozen')('isNotFrozen', 'notFrozen')('isEmpty', 'empty')('isNotEmpty', 'notEmpty');
};
return module.exports;
},
"node_modules/chai-almost/node_modules/deep-eql/node_modules/type-detect/index.js": function (require, module, exports) {
'use strict';
var getPrototypeOfExists = typeof Object.getPrototypeOf === 'function';
var promiseExists = typeof Promise === 'function';
var globalObject = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : self;
var isDom = ('location' in globalObject) && ('document' in globalObject);
var htmlElementExists = typeof HTMLElement !== 'undefined';
var isArrayExists = typeof Array.isArray === 'function';
var symbolExists = typeof Symbol !== 'undefined';
var mapExists = typeof Map !== 'undefined';
var setExists = typeof Set !== 'undefined';
var weakMapExists = typeof WeakMap !== 'undefined';
var weakSetExists = typeof WeakSet !== 'undefined';
var dataViewExists = typeof DataView !== 'undefined';
var symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';
var symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';
var setEntriesExists = setExists && typeof Set.prototype.entries === 'function';
var mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';
var setIteratorPrototype = getPrototypeOfExists && setEntriesExists && Object.getPrototypeOf(new Set().entries());
var mapIteratorPrototype = getPrototypeOfExists && mapEntriesExists && Object.getPrototypeOf(new Map().entries());
var arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';
var arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());
var stringIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';
var stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(('')[Symbol.iterator]());
var toStringLeftSliceLength = 8;
var toStringRightSliceLength = -1;
module.exports = function typeDetect(obj) {
var typeofObj = typeof obj;
if (typeofObj !== 'object') {
return typeofObj;
}
if (obj === null) {
return 'null';
}
if (obj === globalObject) {
return 'global';
}
if (isArrayExists && Array.isArray(obj)) {
return 'Array';
}
if (isDom) {
if (obj === globalObject.location) {
return 'Location';
}
if (obj === globalObject.document) {
return 'Document';
}
if (obj === (globalObject.navigator || ({})).mimeTypes) {
return 'MimeTypeArray';
}
if (obj === (globalObject.navigator || ({})).plugins) {
return 'PluginArray';
}
if (htmlElementExists && obj instanceof HTMLElement && obj.tagName === 'BLOCKQUOTE') {
return 'HTMLQuoteElement';
}
if (htmlElementExists && obj instanceof HTMLElement && obj.tagName === 'TD') {
return 'HTMLTableDataCellElement';
}
if (htmlElementExists && obj instanceof HTMLElement && obj.tagName === 'TH') {
return 'HTMLTableHeaderCellElement';
}
}
var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);
if (typeof stringTag === 'string') {
return stringTag;
}
if (getPrototypeOfExists) {
var objPrototype = Object.getPrototypeOf(obj);
if (objPrototype === RegExp.prototype) {
return 'RegExp';
}
if (objPrototype === Date.prototype) {
return 'Date';
}
if (promiseExists && objPrototype === Promise.prototype) {
return 'Promise';
}
if (setExists && objPrototype === Set.prototype) {
return 'Set';
}
if (mapExists && objPrototype === Map.prototype) {
return 'Map';
}
if (weakSetExists && objPrototype === WeakSet.prototype) {
return 'WeakSet';
}
if (weakMapExists && objPrototype === WeakMap.prototype) {
return 'WeakMap';
}
if (dataViewExists && objPrototype === DataView.prototype) {
return 'DataView';
}
if (mapExists && objPrototype === mapIteratorPrototype) {
return 'Map Iterator';
}
if (setExists && objPrototype === setIteratorPrototype) {
return 'Set Iterator';
}
if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {
return 'Array Iterator';
}
if (stringIteratorExists && objPrototype === stringIteratorPrototype) {
return 'String Iterator';
}
if (objPrototype === null) {
return 'Object';
}
}
return Object.prototype.toString.call(obj).slice(toStringLeftSliceLength, toStringRightSliceLength);
};
module.exports.typeDetect = module.exports;
return module.exports;
},
"node_modules/@danielkalen/is/src/natives.coffee": function (require, module, exports) {
var exports;
module.exports = exports = {
defined: function (subject) {
return subject !== void 0;
},
array: function (subject) {
return subject instanceof Array;
},
object: function (subject) {
return typeof subject === 'object' && subject;
},
objectPlain: function (subject) {
return exports.object(subject) && Object.prototype.toString.call(subject) === '[object Object]' && subject.constructor === Object;
},
string: function (subject) {
return typeof subject === 'string';
},
number: function (subject) {
return typeof subject === 'number' && !isNaN(subject);
},
numberLoose: function (subject) {
return exports.number(subject) || exports.string(subject) && exports.number(Number(subject));
},
function: function (subject) {
return typeof subject === 'function';
},
iterable: function (subject) {
return exports.object(subject) && exports.number(subject.length);
}
};
return module.exports;
},
"node_modules/@danielkalen/is/src/dom.coffee": function (require, module, exports) {
var exports;
module.exports = exports = {
domDoc: function (subject) {
return subject && subject.nodeType === 9;
},
domEl: function (subject) {
return subject && subject.nodeType === 1;
},
domText: function (subject) {
return subject && subject.nodeType === 3;
},
domNode: function (subject) {
return exports.domEl(subject) || exports.domText(subject);
},
domTextarea: function (subject) {
return subject && subject.nodeName === 'TEXTAREA';
},
domInput: function (subject) {
return subject && subject.nodeName === 'INPUT';
},
domSelect: function (subject) {
return subject && subject.nodeName === 'SELECT';
},
domField: function (subject) {
return exports.domInput(subject) || exports.domTextarea(subject) || exports.domSelect(subject);
}
};
return module.exports;
},
"node_modules/quickdom/src/parts/element/stateChain.coffee": function (require, module, exports) {
var StateChain;
module.exports = StateChain = class StateChain {
constructor(states) {
this.string = states.join('+');
this.array = states.slice();
this.length = states.length;
}
includes(target) {
var i, len, ref, state;
ref = this.array;
for ((i = 0, len = ref.length); i < len; i++) {
state = ref[i];
if (state === target) {
return true;
}
}
return false;
}
without(target) {
return this.array.filter(function (state) {
return state !== target;
}).join('+');
}
isApplicable(target, otherActive) {
var active;
active = this.array.filter(function (state) {
return state === target || otherActive.indexOf(state) !== -1;
});
return active.length === this.array.length;
}
};
return module.exports;
},
"node_modules/pathval/index.js": function (require, module, exports) {
'use strict';
function hasProperty(obj, name) {
if (typeof obj === 'undefined' || obj === null) {
return false;
}
return (name in Object(obj));
}
function parsePath(path) {
var str = path.replace(/([^\\])\[/g, '$1.[');
var parts = str.match(/(\\\.|[^.]+?)+/g);
return parts.map(function mapMatches(value) {
var regexp = /^\[(\d+)\]$/;
var mArr = regexp.exec(value);
var parsed = null;
if (mArr) {
parsed = {
i: parseFloat(mArr[1])
};
} else {
parsed = {
p: value.replace(/\\([.\[\]])/g, '$1')
};
}
return parsed;
});
}
function internalGetPathValue(obj, parsed, pathDepth) {
var temporaryValue = obj;
var res = null;
pathDepth = (typeof pathDepth === 'undefined' ? parsed.length : pathDepth);
for (var i = 0; i < pathDepth; i++) {
var part = parsed[i];
if (temporaryValue) {
if (typeof part.p === 'undefined') {
temporaryValue = temporaryValue[part.i];
} else {
temporaryValue = temporaryValue[part.p];
}
if (i === (pathDepth - 1)) {
res = temporaryValue;
}
}
}
return res;
}
function internalSetPathValue(obj, val, parsed) {
var tempObj = obj;
var pathDepth = parsed.length;
var part = null;
for (var i = 0; i < pathDepth; i++) {
var propName = null;
var propVal = null;
part = parsed[i];
if (i === (pathDepth - 1)) {
propName = typeof part.p === 'undefined' ? part.i : part.p;
tempObj[propName] = val;
} else if (typeof part.p !== 'undefined' && tempObj[part.p]) {
tempObj = tempObj[part.p];
} else if (typeof part.i !== 'undefined' && tempObj[part.i]) {
tempObj = tempObj[part.i];
} else {
var next = parsed[i + 1];
propName = typeof part.p === 'undefined' ? part.i : part.p;
propVal = typeof next.p === 'undefined' ? [] : {};
tempObj[propName] = propVal;
tempObj = tempObj[propName];
}
}
}
function getPathInfo(obj, path) {
var parsed = parsePath(path);
var last = parsed[parsed.length - 1];
var info = {
parent: parsed.length > 1 ? internalGetPathValue(obj, parsed, parsed.length - 1) : obj,
name: last.p || last.i,
value: internalGetPathValue(obj, parsed)
};
info.exists = hasProperty(info.parent, info.name);
return info;
}
function getPathValue(obj, path) {
var info = getPathInfo(obj, path);
return info.value;
}
function setPathValue(obj, path, val) {
var parsed = parsePath(path);
internalSetPathValue(obj, val, parsed);
return obj;
}
module.exports = {
hasProperty: hasProperty,
getPathInfo: getPathInfo,
getPathValue: getPathValue,
setPathValue: setPathValue
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/test.js": function (require, module, exports) {
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
module.exports = function test(obj, args) {
var negate = flag(obj, 'negate'), expr = args[0];
return negate ? !expr : expr;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/expectTypes.js": function (require, module, exports) {
var AssertionError = require("node_modules/assertion-error/index.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var type = require("node_modules/type-detect/type-detect.js");
module.exports = function expectTypes(obj, types) {
var flagMsg = flag(obj, 'message');
var ssfi = flag(obj, 'ssfi');
flagMsg = flagMsg ? flagMsg + ': ' : '';
obj = flag(obj, 'object');
types = types.map(function (t) {
return t.toLowerCase();
});
types.sort();
var str = types.map(function (t, index) {
var art = ~['a', 'e', 'i', 'o', 'u'].indexOf(t.charAt(0)) ? 'an' : 'a';
var or = types.length > 1 && index === types.length - 1 ? 'or ' : '';
return or + art + ' ' + t;
}).join(', ');
var objType = type(obj).toLowerCase();
if (!types.some(function (expected) {
return objType === expected;
})) {
throw new AssertionError(flagMsg + 'object tested must be ' + str + ', but ' + objType + ' given', undefined, ssfi);
}
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/getMessage.js": function (require, module, exports) {
var flag = require("node_modules/chai/lib/chai/utils/flag.js"), getActual = require("node_modules/chai/lib/chai/utils/getActual.js"), objDisplay = require("node_modules/chai/lib/chai/utils/objDisplay.js");
module.exports = function getMessage(obj, args) {
var negate = flag(obj, 'negate'), val = flag(obj, 'object'), expected = args[3], actual = getActual(obj, args), msg = negate ? args[2] : args[1], flagMsg = flag(obj, 'message');
if (typeof msg === "function") msg = msg();
msg = msg || '';
msg = msg.replace(/#\{this\}/g, function () {
return objDisplay(val);
}).replace(/#\{act\}/g, function () {
return objDisplay(actual);
}).replace(/#\{exp\}/g, function () {
return objDisplay(expected);
});
return flagMsg ? flagMsg + ': ' + msg : msg;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/getActual.js": function (require, module, exports) {
module.exports = function getActual(obj, args) {
return args.length > 4 ? args[4] : obj._obj;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/inspect.js": function (require, module, exports) {
var getName = require("node_modules/get-func-name/index.js");
var getProperties = require("node_modules/chai/lib/chai/utils/getProperties.js");
var getEnumerableProperties = require("node_modules/chai/lib/chai/utils/getEnumerableProperties.js");
var config = require("node_modules/chai/lib/chai/config.js");
module.exports = inspect;
function inspect(obj, showHidden, depth, colors) {
var ctx = {
showHidden: showHidden,
seen: [],
stylize: function (str) {
return str;
}
};
return formatValue(ctx, obj, (typeof depth === 'undefined' ? 2 : depth));
}
var isDOMElement = function (object) {
if (typeof HTMLElement === 'object') {
return object instanceof HTMLElement;
} else {
return object && typeof object === 'object' && ('nodeType' in object) && object.nodeType === 1 && typeof object.nodeName === 'string';
}
};
function formatValue(ctx, value, recurseTimes) {
if (value && typeof value.inspect === 'function' && value.inspect !== exports.inspect && !(value.constructor && value.constructor.prototype === value)) {
var ret = value.inspect(recurseTimes, ctx);
if (typeof ret !== 'string') {
ret = formatValue(ctx, ret, recurseTimes);
}
return ret;
}
var primitive = formatPrimitive(ctx, value);
if (primitive) {
return primitive;
}
if (isDOMElement(value)) {
if (('outerHTML' in value)) {
return value.outerHTML;
} else {
try {
if (document.xmlVersion) {
var xmlSerializer = new XMLSerializer();
return xmlSerializer.serializeToString(value);
} else {
var ns = "http://www.w3.org/1999/xhtml";
var container = document.createElementNS(ns, '_');
container.appendChild(value.cloneNode(false));
var html = container.innerHTML.replace('><', '>' + value.innerHTML + '<');
container.innerHTML = '';
return html;
}
} catch (err) {}
}
}
var visibleKeys = getEnumerableProperties(value);
var keys = ctx.showHidden ? getProperties(value) : visibleKeys;
var name, nameSuffix;
if (keys.length === 0 || (isError(value) && ((keys.length === 1 && keys[0] === 'stack') || (keys.length === 2 && keys[0] === 'description' && keys[1] === 'stack')))) {
if (typeof value === 'function') {
name = getName(value);
nameSuffix = name ? ': ' + name : '';
return ctx.stylize('[Function' + nameSuffix + ']', 'special');
}
if (isRegExp(value)) {
return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
}
if (isDate(value)) {
return ctx.stylize(Date.prototype.toUTCString.call(value), 'date');
}
if (isError(value)) {
return formatError(value);
}
}
var base = '', array = false, typedArray = false, braces = ['{', '}'];
if (isTypedArray(value)) {
typedArray = true;
braces = ['[', ']'];
}
if (isArray(value)) {
array = true;
braces = ['[', ']'];
}
if (typeof value === 'function') {
name = getName(value);
nameSuffix = name ? ': ' + name : '';
base = ' [Function' + nameSuffix + ']';
}
if (isRegExp(value)) {
base = ' ' + RegExp.prototype.toString.call(value);
}
if (isDate(value)) {
base = ' ' + Date.prototype.toUTCString.call(value);
}
if (isError(value)) {
return formatError(value);
}
if (keys.length === 0 && (!array || value.length == 0)) {
return braces[0] + base + braces[1];
}
if (recurseTimes < 0) {
if (isRegExp(value)) {
return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
} else {
return ctx.stylize('[Object]', 'special');
}
}
ctx.seen.push(value);
var output;
if (array) {
output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
} else if (typedArray) {
return formatTypedArray(value);
} else {
output = keys.map(function (key) {
return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
});
}
ctx.seen.pop();
return reduceToSingleString(output, base, braces);
}
function formatPrimitive(ctx, value) {
switch (typeof value) {
case 'undefined':
return ctx.stylize('undefined', 'undefined');
case 'string':
var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '').replace(/'/g, "\\'").replace(/\\"/g, '"') + '\'';
return ctx.stylize(simple, 'string');
case 'number':
if (value === 0 && (1 / value) === -Infinity) {
return ctx.stylize('-0', 'number');
}
return ctx.stylize('' + value, 'number');
case 'boolean':
return ctx.stylize('' + value, 'boolean');
case 'symbol':
return ctx.stylize(value.toString(), 'symbol');
}
if (value === null) {
return ctx.stylize('null', 'null');
}
}
function formatError(value) {
return '[' + Error.prototype.toString.call(value) + ']';
}
function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
var output = [];
for (var i = 0, l = value.length; i < l; ++i) {
if (Object.prototype.hasOwnProperty.call(value, String(i))) {
output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));
} else {
output.push('');
}
}
keys.forEach(function (key) {
if (!key.match(/^\d+$/)) {
output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));
}
});
return output;
}
function formatTypedArray(value) {
var str = '[ ';
for (var i = 0; i < value.length; ++i) {
if (str.length >= config.truncateThreshold - 7) {
str += '...';
break;
}
str += value[i] + ', ';
}
str += ' ]';
if (str.indexOf(',  ]') !== -1) {
str = str.replace(',  ]', ' ]');
}
return str;
}
function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
var name;
var propDescriptor = Object.getOwnPropertyDescriptor(value, key);
var str;
if (propDescriptor) {
if (propDescriptor.get) {
if (propDescriptor.set) {
str = ctx.stylize('[Getter/Setter]', 'special');
} else {
str = ctx.stylize('[Getter]', 'special');
}
} else {
if (propDescriptor.set) {
str = ctx.stylize('[Setter]', 'special');
}
}
}
if (visibleKeys.indexOf(key) < 0) {
name = '[' + key + ']';
}
if (!str) {
if (ctx.seen.indexOf(value[key]) < 0) {
if (recurseTimes === null) {
str = formatValue(ctx, value[key], null);
} else {
str = formatValue(ctx, value[key], recurseTimes - 1);
}
if (str.indexOf('\n') > -1) {
if (array) {
str = str.split('\n').map(function (line) {
return '  ' + line;
}).join('\n').substr(2);
} else {
str = '\n' + str.split('\n').map(function (line) {
return '   ' + line;
}).join('\n');
}
}
} else {
str = ctx.stylize('[Circular]', 'special');
}
}
if (typeof name === 'undefined') {
if (array && key.match(/^\d+$/)) {
return str;
}
name = JSON.stringify('' + key);
if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
name = name.substr(1, name.length - 2);
name = ctx.stylize(name, 'name');
} else {
name = name.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'");
name = ctx.stylize(name, 'string');
}
}
return name + ': ' + str;
}
function reduceToSingleString(output, base, braces) {
var length = output.reduce(function (prev, cur) {
return prev + cur.length + 1;
}, 0);
if (length > 60) {
return braces[0] + (base === '' ? '' : base + '\n ') + ' ' + output.join(',\n  ') + ' ' + braces[1];
}
return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}
function isTypedArray(ar) {
return (typeof ar === 'object' && (/\w+Array]$/).test(objectToString(ar)));
}
function isArray(ar) {
return Array.isArray(ar) || (typeof ar === 'object' && objectToString(ar) === '[object Array]');
}
function isRegExp(re) {
return typeof re === 'object' && objectToString(re) === '[object RegExp]';
}
function isDate(d) {
return typeof d === 'object' && objectToString(d) === '[object Date]';
}
function isError(e) {
return typeof e === 'object' && objectToString(e) === '[object Error]';
}
function objectToString(o) {
return Object.prototype.toString.call(o);
}
return module.exports;
},
"node_modules/chai/lib/chai/utils/objDisplay.js": function (require, module, exports) {
var inspect = require("node_modules/chai/lib/chai/utils/inspect.js");
var config = require("node_modules/chai/lib/chai/config.js");
module.exports = function objDisplay(obj) {
var str = inspect(obj), type = Object.prototype.toString.call(obj);
if (config.truncateThreshold && str.length >= config.truncateThreshold) {
if (type === '[object Function]') {
return !obj.name || obj.name === '' ? '[Function]' : '[Function: ' + obj.name + ']';
} else if (type === '[object Array]') {
return '[ Array(' + obj.length + ') ]';
} else if (type === '[object Object]') {
var keys = Object.keys(obj), kstr = keys.length > 2 ? keys.splice(0, 2).join(', ') + ', ...' : keys.join(', ');
return '{ Object (' + kstr + ') }';
} else {
return str;
}
} else {
return str;
}
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/flag.js": function (require, module, exports) {
module.exports = function flag(obj, key, value) {
var flags = obj.__flags || (obj.__flags = Object.create(null));
if (arguments.length === 3) {
flags[key] = value;
} else {
return flags[key];
}
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/transferFlags.js": function (require, module, exports) {
module.exports = function transferFlags(assertion, object, includeAll) {
var flags = assertion.__flags || (assertion.__flags = Object.create(null));
if (!object.__flags) {
object.__flags = Object.create(null);
}
includeAll = arguments.length === 3 ? includeAll : true;
for (var flag in flags) {
if (includeAll || (flag !== 'object' && flag !== 'ssfi' && flag !== 'lockSsfi' && flag != 'message')) {
object.__flags[flag] = flags[flag];
}
}
};
return module.exports;
},
"node_modules/deep-eql/index.js": function (require, module, exports) {
'use strict';
var type = require("node_modules/type-detect/type-detect.js");
function FakeMap() {
this._key = 'chai/deep-eql__' + Math.random() + Date.now();
}
FakeMap.prototype = {
get: function getMap(key) {
return key[this._key];
},
set: function setMap(key, value) {
if (Object.isExtensible(key)) {
Object.defineProperty(key, this._key, {
value: value,
configurable: true
});
}
}
};
var MemoizeMap = typeof WeakMap === 'function' ? WeakMap : FakeMap;
function memoizeCompare(leftHandOperand, rightHandOperand, memoizeMap) {
if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
return null;
}
var leftHandMap = memoizeMap.get(leftHandOperand);
if (leftHandMap) {
var result = leftHandMap.get(rightHandOperand);
if (typeof result === 'boolean') {
return result;
}
}
return null;
}
function memoizeSet(leftHandOperand, rightHandOperand, memoizeMap, result) {
if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
return;
}
var leftHandMap = memoizeMap.get(leftHandOperand);
if (leftHandMap) {
leftHandMap.set(rightHandOperand, result);
} else {
leftHandMap = new MemoizeMap();
leftHandMap.set(rightHandOperand, result);
memoizeMap.set(leftHandOperand, leftHandMap);
}
}
module.exports = deepEqual;
module.exports.MemoizeMap = MemoizeMap;
function deepEqual(leftHandOperand, rightHandOperand, options) {
if (options && options.comparator) {
return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);
}
var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);
if (simpleResult !== null) {
return simpleResult;
}
return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);
}
function simpleEqual(leftHandOperand, rightHandOperand) {
if (leftHandOperand === rightHandOperand) {
return leftHandOperand !== 0 || 1 / leftHandOperand === 1 / rightHandOperand;
}
if (leftHandOperand !== leftHandOperand && rightHandOperand !== rightHandOperand) {
return true;
}
if (isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
return false;
}
return null;
}
function extensiveDeepEqual(leftHandOperand, rightHandOperand, options) {
options = options || ({});
options.memoize = options.memoize === false ? false : options.memoize || new MemoizeMap();
var comparator = options && options.comparator;
var memoizeResultLeft = memoizeCompare(leftHandOperand, rightHandOperand, options.memoize);
if (memoizeResultLeft !== null) {
return memoizeResultLeft;
}
var memoizeResultRight = memoizeCompare(rightHandOperand, leftHandOperand, options.memoize);
if (memoizeResultRight !== null) {
return memoizeResultRight;
}
if (comparator) {
var comparatorResult = comparator(leftHandOperand, rightHandOperand);
if (comparatorResult === false || comparatorResult === true) {
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, comparatorResult);
return comparatorResult;
}
var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);
if (simpleResult !== null) {
return simpleResult;
}
}
var leftHandType = type(leftHandOperand);
if (leftHandType !== type(rightHandOperand)) {
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, false);
return false;
}
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, true);
var result = extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options);
memoizeSet(leftHandOperand, rightHandOperand, options.memoize, result);
return result;
}
function extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options) {
switch (leftHandType) {
case 'String':
case 'Number':
case 'Boolean':
case 'Date':
return deepEqual(leftHandOperand.valueOf(), rightHandOperand.valueOf());
case 'Promise':
case 'Symbol':
case 'function':
case 'WeakMap':
case 'WeakSet':
case 'Error':
return leftHandOperand === rightHandOperand;
case 'Arguments':
case 'Int8Array':
case 'Uint8Array':
case 'Uint8ClampedArray':
case 'Int16Array':
case 'Uint16Array':
case 'Int32Array':
case 'Uint32Array':
case 'Float32Array':
case 'Float64Array':
case 'Array':
return iterableEqual(leftHandOperand, rightHandOperand, options);
case 'RegExp':
return regexpEqual(leftHandOperand, rightHandOperand);
case 'Generator':
return generatorEqual(leftHandOperand, rightHandOperand, options);
case 'DataView':
return iterableEqual(new Uint8Array(leftHandOperand.buffer), new Uint8Array(rightHandOperand.buffer), options);
case 'ArrayBuffer':
return iterableEqual(new Uint8Array(leftHandOperand), new Uint8Array(rightHandOperand), options);
case 'Set':
return entriesEqual(leftHandOperand, rightHandOperand, options);
case 'Map':
return entriesEqual(leftHandOperand, rightHandOperand, options);
default:
return objectEqual(leftHandOperand, rightHandOperand, options);
}
}
function regexpEqual(leftHandOperand, rightHandOperand) {
return leftHandOperand.toString() === rightHandOperand.toString();
}
function entriesEqual(leftHandOperand, rightHandOperand, options) {
if (leftHandOperand.size !== rightHandOperand.size) {
return false;
}
if (leftHandOperand.size === 0) {
return true;
}
var leftHandItems = [];
var rightHandItems = [];
leftHandOperand.forEach(function gatherEntries(key, value) {
leftHandItems.push([key, value]);
});
rightHandOperand.forEach(function gatherEntries(key, value) {
rightHandItems.push([key, value]);
});
return iterableEqual(leftHandItems.sort(), rightHandItems.sort(), options);
}
function iterableEqual(leftHandOperand, rightHandOperand, options) {
var length = leftHandOperand.length;
if (length !== rightHandOperand.length) {
return false;
}
if (length === 0) {
return true;
}
var index = -1;
while (++index < length) {
if (deepEqual(leftHandOperand[index], rightHandOperand[index], options) === false) {
return false;
}
}
return true;
}
function generatorEqual(leftHandOperand, rightHandOperand, options) {
return iterableEqual(getGeneratorEntries(leftHandOperand), getGeneratorEntries(rightHandOperand), options);
}
function hasIteratorFunction(target) {
return typeof Symbol !== 'undefined' && typeof target === 'object' && typeof Symbol.iterator !== 'undefined' && typeof target[Symbol.iterator] === 'function';
}
function getIteratorEntries(target) {
if (hasIteratorFunction(target)) {
try {
return getGeneratorEntries(target[Symbol.iterator]());
} catch (iteratorError) {
return [];
}
}
return [];
}
function getGeneratorEntries(generator) {
var generatorResult = generator.next();
var accumulator = [generatorResult.value];
while (generatorResult.done === false) {
generatorResult = generator.next();
accumulator.push(generatorResult.value);
}
return accumulator;
}
function getEnumerableKeys(target) {
var keys = [];
for (var key in target) {
keys.push(key);
}
return keys;
}
function keysEqual(leftHandOperand, rightHandOperand, keys, options) {
var length = keys.length;
if (length === 0) {
return true;
}
for (var i = 0; i < length; i += 1) {
if (deepEqual(leftHandOperand[keys[i]], rightHandOperand[keys[i]], options) === false) {
return false;
}
}
return true;
}
function objectEqual(leftHandOperand, rightHandOperand, options) {
var leftHandKeys = getEnumerableKeys(leftHandOperand);
var rightHandKeys = getEnumerableKeys(rightHandOperand);
if (leftHandKeys.length && leftHandKeys.length === rightHandKeys.length) {
leftHandKeys.sort();
rightHandKeys.sort();
if (iterableEqual(leftHandKeys, rightHandKeys) === false) {
return false;
}
return keysEqual(leftHandOperand, rightHandOperand, leftHandKeys, options);
}
var leftHandEntries = getIteratorEntries(leftHandOperand);
var rightHandEntries = getIteratorEntries(rightHandOperand);
if (leftHandEntries.length && leftHandEntries.length === rightHandEntries.length) {
leftHandEntries.sort();
rightHandEntries.sort();
return iterableEqual(leftHandEntries, rightHandEntries, options);
}
if (leftHandKeys.length === 0 && leftHandEntries.length === 0 && rightHandKeys.length === 0 && rightHandEntries.length === 0) {
return true;
}
return false;
}
function isPrimitive(value) {
return value === null || typeof value !== 'object';
}
return module.exports;
},
"node_modules/get-func-name/index.js": function (require, module, exports) {
'use strict';
var toString = Function.prototype.toString;
var functionNameMatch = /\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;
function getFuncName(aFunc) {
if (typeof aFunc !== 'function') {
return null;
}
var name = '';
if (typeof Function.prototype.name === 'undefined' && typeof aFunc.name === 'undefined') {
var match = toString.call(aFunc).match(functionNameMatch);
if (match) {
name = match[1];
}
} else {
name = aFunc.name;
}
return name;
}
module.exports = getFuncName;
return module.exports;
},
"node_modules/chai/lib/chai/utils/addProperty.js": function (require, module, exports) {
var chai = require("node_modules/chai/lib/chai.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var isProxyEnabled = require("node_modules/chai/lib/chai/utils/isProxyEnabled.js");
var transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
module.exports = function addProperty(ctx, name, getter) {
getter = getter === undefined ? function () {} : getter;
Object.defineProperty(ctx, name, {
get: function propertyGetter() {
if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {
flag(this, 'ssfi', propertyGetter);
}
var result = getter.call(this);
if (result !== undefined) return result;
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
},
configurable: true
});
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/addMethod.js": function (require, module, exports) {
var addLengthGuard = require("node_modules/chai/lib/chai/utils/addLengthGuard.js");
var chai = require("node_modules/chai/lib/chai.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var proxify = require("node_modules/chai/lib/chai/utils/proxify.js");
var transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
module.exports = function addMethod(ctx, name, method) {
var methodWrapper = function () {
if (!flag(this, 'lockSsfi')) {
flag(this, 'ssfi', methodWrapper);
}
var result = method.apply(this, arguments);
if (result !== undefined) return result;
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
};
addLengthGuard(methodWrapper, name, false);
ctx[name] = proxify(methodWrapper, name);
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/overwriteProperty.js": function (require, module, exports) {
var chai = require("node_modules/chai/lib/chai.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var isProxyEnabled = require("node_modules/chai/lib/chai/utils/isProxyEnabled.js");
var transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
module.exports = function overwriteProperty(ctx, name, getter) {
var _get = Object.getOwnPropertyDescriptor(ctx, name), _super = function () {};
if (_get && 'function' === typeof _get.get) _super = _get.get;
Object.defineProperty(ctx, name, {
get: function overwritingPropertyGetter() {
if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {
flag(this, 'ssfi', overwritingPropertyGetter);
}
var origLockSsfi = flag(this, 'lockSsfi');
flag(this, 'lockSsfi', true);
var result = getter(_super).call(this);
flag(this, 'lockSsfi', origLockSsfi);
if (result !== undefined) {
return result;
}
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
},
configurable: true
});
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/overwriteMethod.js": function (require, module, exports) {
var addLengthGuard = require("node_modules/chai/lib/chai/utils/addLengthGuard.js");
var chai = require("node_modules/chai/lib/chai.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var proxify = require("node_modules/chai/lib/chai/utils/proxify.js");
var transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
module.exports = function overwriteMethod(ctx, name, method) {
var _method = ctx[name], _super = function () {
throw new Error(name + ' is not a function');
};
if (_method && 'function' === typeof _method) _super = _method;
var overwritingMethodWrapper = function () {
if (!flag(this, 'lockSsfi')) {
flag(this, 'ssfi', overwritingMethodWrapper);
}
var origLockSsfi = flag(this, 'lockSsfi');
flag(this, 'lockSsfi', true);
var result = method(_super).apply(this, arguments);
flag(this, 'lockSsfi', origLockSsfi);
if (result !== undefined) {
return result;
}
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
};
addLengthGuard(overwritingMethodWrapper, name, false);
ctx[name] = proxify(overwritingMethodWrapper, name);
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/addChainableMethod.js": function (require, module, exports) {
var addLengthGuard = require("node_modules/chai/lib/chai/utils/addLengthGuard.js");
var chai = require("node_modules/chai/lib/chai.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var proxify = require("node_modules/chai/lib/chai/utils/proxify.js");
var transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
var canSetPrototype = typeof Object.setPrototypeOf === 'function';
var testFn = function () {};
var excludeNames = Object.getOwnPropertyNames(testFn).filter(function (name) {
var propDesc = Object.getOwnPropertyDescriptor(testFn, name);
if (typeof propDesc !== 'object') return true;
return !propDesc.configurable;
});
var call = Function.prototype.call, apply = Function.prototype.apply;
module.exports = function addChainableMethod(ctx, name, method, chainingBehavior) {
if (typeof chainingBehavior !== 'function') {
chainingBehavior = function () {};
}
var chainableBehavior = {
method: method,
chainingBehavior: chainingBehavior
};
if (!ctx.__methods) {
ctx.__methods = {};
}
ctx.__methods[name] = chainableBehavior;
Object.defineProperty(ctx, name, {
get: function chainableMethodGetter() {
chainableBehavior.chainingBehavior.call(this);
var chainableMethodWrapper = function () {
if (!flag(this, 'lockSsfi')) {
flag(this, 'ssfi', chainableMethodWrapper);
}
var result = chainableBehavior.method.apply(this, arguments);
if (result !== undefined) {
return result;
}
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
};
addLengthGuard(chainableMethodWrapper, name, true);
if (canSetPrototype) {
var prototype = Object.create(this);
prototype.call = call;
prototype.apply = apply;
Object.setPrototypeOf(chainableMethodWrapper, prototype);
} else {
var asserterNames = Object.getOwnPropertyNames(ctx);
asserterNames.forEach(function (asserterName) {
if (excludeNames.indexOf(asserterName) !== -1) {
return;
}
var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);
Object.defineProperty(chainableMethodWrapper, asserterName, pd);
});
}
transferFlags(this, chainableMethodWrapper);
return proxify(chainableMethodWrapper);
},
configurable: true
});
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/overwriteChainableMethod.js": function (require, module, exports) {
var chai = require("node_modules/chai/lib/chai.js");
var transferFlags = require("node_modules/chai/lib/chai/utils/transferFlags.js");
module.exports = function overwriteChainableMethod(ctx, name, method, chainingBehavior) {
var chainableBehavior = ctx.__methods[name];
var _chainingBehavior = chainableBehavior.chainingBehavior;
chainableBehavior.chainingBehavior = function overwritingChainableMethodGetter() {
var result = chainingBehavior(_chainingBehavior).call(this);
if (result !== undefined) {
return result;
}
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
};
var _method = chainableBehavior.method;
chainableBehavior.method = function overwritingChainableMethodWrapper() {
var result = method(_method).apply(this, arguments);
if (result !== undefined) {
return result;
}
var newAssertion = new chai.Assertion();
transferFlags(this, newAssertion);
return newAssertion;
};
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/compareByInspect.js": function (require, module, exports) {
var inspect = require("node_modules/chai/lib/chai/utils/inspect.js");
module.exports = function compareByInspect(a, b) {
return inspect(a) < inspect(b) ? -1 : 1;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js": function (require, module, exports) {
module.exports = function getOwnEnumerablePropertySymbols(obj) {
if (typeof Object.getOwnPropertySymbols !== 'function') return [];
return Object.getOwnPropertySymbols(obj).filter(function (sym) {
return Object.getOwnPropertyDescriptor(obj, sym).enumerable;
});
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js": function (require, module, exports) {
var getOwnEnumerablePropertySymbols = require("node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js");
module.exports = function getOwnEnumerableProperties(obj) {
return Object.keys(obj).concat(getOwnEnumerablePropertySymbols(obj));
};
return module.exports;
},
"node_modules/check-error/index.js": function (require, module, exports) {
'use strict';
function compatibleInstance(thrown, errorLike) {
return errorLike instanceof Error && thrown === errorLike;
}
function compatibleConstructor(thrown, errorLike) {
if (errorLike instanceof Error) {
return thrown.constructor === errorLike.constructor || thrown instanceof errorLike.constructor;
} else if (errorLike.prototype instanceof Error || errorLike === Error) {
return thrown.constructor === errorLike || thrown instanceof errorLike;
}
return false;
}
function compatibleMessage(thrown, errMatcher) {
var comparisonString = typeof thrown === 'string' ? thrown : thrown.message;
if (errMatcher instanceof RegExp) {
return errMatcher.test(comparisonString);
} else if (typeof errMatcher === 'string') {
return comparisonString.indexOf(errMatcher) !== -1;
}
return false;
}
var functionNameMatch = /\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;
function getFunctionName(constructorFn) {
var name = '';
if (typeof constructorFn.name === 'undefined') {
var match = String(constructorFn).match(functionNameMatch);
if (match) {
name = match[1];
}
} else {
name = constructorFn.name;
}
return name;
}
function getConstructorName(errorLike) {
var constructorName = errorLike;
if (errorLike instanceof Error) {
constructorName = getFunctionName(errorLike.constructor);
} else if (typeof errorLike === 'function') {
constructorName = getFunctionName(errorLike).trim() || getFunctionName(new errorLike());
}
return constructorName;
}
function getMessage(errorLike) {
var msg = '';
if (errorLike && errorLike.message) {
msg = errorLike.message;
} else if (typeof errorLike === 'string') {
msg = errorLike;
}
return msg;
}
module.exports = {
compatibleInstance: compatibleInstance,
compatibleConstructor: compatibleConstructor,
compatibleMessage: compatibleMessage,
getMessage: getMessage,
getConstructorName: getConstructorName
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/proxify.js": function (require, module, exports) {
var config = require("node_modules/chai/lib/chai/config.js");
var flag = require("node_modules/chai/lib/chai/utils/flag.js");
var getProperties = require("node_modules/chai/lib/chai/utils/getProperties.js");
var isProxyEnabled = require("node_modules/chai/lib/chai/utils/isProxyEnabled.js");
var builtins = ['__flags', '__methods', '_obj', 'assert'];
module.exports = function proxify(obj, nonChainableMethodName) {
if (!isProxyEnabled()) return obj;
return new Proxy(obj, {
get: function proxyGetter(target, property) {
if (typeof property === 'string' && config.proxyExcludedKeys.indexOf(property) === -1 && !Reflect.has(target, property)) {
if (nonChainableMethodName) {
throw Error('Invalid Chai property: ' + nonChainableMethodName + '.' + property + '. See docs for proper usage of "' + nonChainableMethodName + '".');
}
var suggestion = null;
var suggestionDistance = 4;
getProperties(target).forEach(function (prop) {
if (!Object.prototype.hasOwnProperty(prop) && builtins.indexOf(prop) === -1) {
var dist = stringDistanceCapped(property, prop, suggestionDistance);
if (dist < suggestionDistance) {
suggestion = prop;
suggestionDistance = dist;
}
}
});
if (suggestion !== null) {
throw Error('Invalid Chai property: ' + property + '. Did you mean "' + suggestion + '"?');
} else {
throw Error('Invalid Chai property: ' + property);
}
}
if (builtins.indexOf(property) === -1 && !flag(target, 'lockSsfi')) {
flag(target, 'ssfi', proxyGetter);
}
return Reflect.get(target, property);
}
});
};
function stringDistanceCapped(strA, strB, cap) {
if (Math.abs(strA.length - strB.length) >= cap) {
return cap;
}
var memo = [];
for (var i = 0; i <= strA.length; i++) {
memo[i] = Array(strB.length + 1).fill(0);
memo[i][0] = i;
}
for (var j = 0; j < strB.length; j++) {
memo[0][j] = j;
}
for (var i = 1; i <= strA.length; i++) {
var ch = strA.charCodeAt(i - 1);
for (var j = 1; j <= strB.length; j++) {
if (Math.abs(i - j) >= cap) {
memo[i][j] = cap;
continue;
}
memo[i][j] = Math.min(memo[i - 1][j] + 1, memo[i][j - 1] + 1, memo[i - 1][j - 1] + (ch === strB.charCodeAt(j - 1) ? 0 : 1));
}
}
return memo[strA.length][strB.length];
}
return module.exports;
},
"node_modules/chai/lib/chai/utils/addLengthGuard.js": function (require, module, exports) {
var fnLengthDesc = Object.getOwnPropertyDescriptor(function () {}, 'length');
module.exports = function addLengthGuard(fn, assertionName, isChainable) {
if (!fnLengthDesc.configurable) return fn;
Object.defineProperty(fn, 'length', {
get: function () {
if (isChainable) {
throw Error('Invalid Chai property: ' + assertionName + '.length. Due' + ' to a compatibility issue, "length" cannot directly follow "' + assertionName + '". Use "' + assertionName + '.lengthOf" instead.');
}
throw Error('Invalid Chai property: ' + assertionName + '.length. See' + ' docs for proper usage of "' + assertionName + '".');
}
});
return fn;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/isProxyEnabled.js": function (require, module, exports) {
var config = require("node_modules/chai/lib/chai/config.js");
module.exports = function isProxyEnabled() {
return config.useProxy && typeof Proxy !== 'undefined' && typeof Reflect !== 'undefined';
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/isNaN.js": function (require, module, exports) {
function isNaN(value) {
return value !== value;
}
module.exports = Number.isNaN || isNaN;
return module.exports;
},
"node_modules/chai/lib/chai/utils/getProperties.js": function (require, module, exports) {
module.exports = function getProperties(object) {
var result = Object.getOwnPropertyNames(object);
function addProperty(property) {
if (result.indexOf(property) === -1) {
result.push(property);
}
}
var proto = Object.getPrototypeOf(object);
while (proto !== null) {
Object.getOwnPropertyNames(proto).forEach(addProperty);
proto = Object.getPrototypeOf(proto);
}
return result;
};
return module.exports;
},
"node_modules/chai/lib/chai/utils/getEnumerableProperties.js": function (require, module, exports) {
module.exports = function getEnumerableProperties(object) {
var result = [];
for (var name in object) {
result.push(name);
}
return result;
};
return module.exports;
}
}, this);
return require("entry.js");
}).call(this, null, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : this);


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuY29mZmVlIiwiLi4vcGFja2FnZS5qc29uIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9pbmRleC5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL2FsbG93ZWRPcHRpb25zLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvaGVscGVycy5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL2NoZWNrcy5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL2VsZW1lbnQvaW5kZXguY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy9lbGVtZW50L2FsaWFzZXMuY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy9lbGVtZW50L3RyYXZlcnNpbmcuY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy9lbGVtZW50L2luaXQuY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy9lbGVtZW50L2V2ZW50cy5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL2VsZW1lbnQvc3RhdGUuY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy9lbGVtZW50L3N0eWxlLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvZWxlbWVudC9hdHRyaWJ1dGVzLWFuZC1wcm9wZXJ0aWVzLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvZWxlbWVudC9tYW5pcHVsYXRpb24uY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy9lbGVtZW50L2FwcGxpY2F0aW9uLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvd2luZG93LmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvbWVkaWFRdWVyeS5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL2JhdGNoLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvdGVtcGxhdGUvaW5kZXguY29mZmVlIiwibm9kZV9tb2R1bGVzL3F1aWNrZG9tL3NyYy9wYXJ0cy90ZW1wbGF0ZS9leHRlbmRUZW1wbGF0ZS5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL3RlbXBsYXRlL3BhcnNlVHJlZS5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL3RlbXBsYXRlL3NjaGVtYS5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vc3JjL3BhcnRzL3Nob3J0Y3V0cy5jb2ZmZWUiLCJub2RlX21vZHVsZXMvcXVpY2tkb20vcGFja2FnZS5qc29uIiwiaGVscGVycy5jb2ZmZWUiLCJub2RlX21vZHVsZXMvY2hhaS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpLWRvbS9jaGFpLWRvbS5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpLXN0eWxlL3NvdXJjZXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2hhaS1hbG1vc3QvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2hhaS1hc3NlcnR0eXBlL2Fzc2VydHR5cGUuanMiLCJub2RlX21vZHVsZXMvY2hhaS1ldmVudHMvY2hhaS1ldmVudHMuanMiLCJub2RlX21vZHVsZXMvcXVpY2tjc3Mvc3JjL2luZGV4LmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2Nzcy9wYWNrYWdlLmpzb24iLCJub2RlX21vZHVsZXMvc21hcnQtZXh0ZW5kL3NyYy9pbmRleC5jb2ZmZWUiLCJub2RlX21vZHVsZXMvc21hcnQtZXh0ZW5kL3BhY2thZ2UuanNvbiIsIm5vZGVfbW9kdWxlcy9kZXRlY3QtYW5pbWF0aW9uLWVuZC1oZWxwZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpLWFsbW9zdC9ub2RlX21vZHVsZXMvZGVlcC1lcWwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvdHlwZS1kZXRlY3QvdHlwZS1kZXRlY3QuanMiLCJub2RlX21vZHVsZXMvY2hlY2stdHlwZXMvc3JjL2NoZWNrLXR5cGVzLmpzIiwibm9kZV9tb2R1bGVzL3F1aWNrY3NzL3NyYy9oZWxwZXJzLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2Nzcy9zcmMvY29uc3RhbnRzLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2V4dGVuZC5jb2ZmZWUiLCJub2RlX21vZHVsZXMvQGRhbmllbGthbGVuL2lzL3NyYy9pbmRleC5jb2ZmZWUiLCJub2RlX21vZHVsZXMvYXNzZXJ0aW9uLWVycm9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS9jb25maWcuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS9hc3NlcnRpb24uanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS9jb3JlL2Fzc2VydGlvbnMuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS9pbnRlcmZhY2UvZXhwZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvaW50ZXJmYWNlL3Nob3VsZC5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL2ludGVyZmFjZS9hc3NlcnQuanMiLCJub2RlX21vZHVsZXMvY2hhaS1hbG1vc3Qvbm9kZV9tb2R1bGVzL2RlZXAtZXFsL25vZGVfbW9kdWxlcy90eXBlLWRldGVjdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9AZGFuaWVsa2FsZW4vaXMvc3JjL25hdGl2ZXMuY29mZmVlIiwibm9kZV9tb2R1bGVzL0BkYW5pZWxrYWxlbi9pcy9zcmMvZG9tLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9xdWlja2RvbS9zcmMvcGFydHMvZWxlbWVudC9zdGF0ZUNoYWluLmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9wYXRodmFsL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvdGVzdC5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2V4cGVjdFR5cGVzLmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvZ2V0TWVzc2FnZS5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2dldEFjdHVhbC5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2luc3BlY3QuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9vYmpEaXNwbGF5LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvZmxhZy5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL3RyYW5zZmVyRmxhZ3MuanMiLCJub2RlX21vZHVsZXMvZGVlcC1lcWwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZ2V0LWZ1bmMtbmFtZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2FkZFByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvYWRkTWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvb3ZlcndyaXRlUHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9vdmVyd3JpdGVNZXRob2QuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9hZGRDaGFpbmFibGVNZXRob2QuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9vdmVyd3JpdGVDaGFpbmFibGVNZXRob2QuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9jb21wYXJlQnlJbnNwZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvZ2V0T3duRW51bWVyYWJsZVByb3BlcnR5U3ltYm9scy5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2dldE93bkVudW1lcmFibGVQcm9wZXJ0aWVzLmpzIiwibm9kZV9tb2R1bGVzL2NoZWNrLWVycm9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvcHJveGlmeS5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2FkZExlbmd0aEd1YXJkLmpzIiwibm9kZV9tb2R1bGVzL2NoYWkvbGliL2NoYWkvdXRpbHMvaXNQcm94eUVuYWJsZWQuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9pc05hTi5qcyIsIm5vZGVfbW9kdWxlcy9jaGFpL2xpYi9jaGFpL3V0aWxzL2dldFByb3BlcnRpZXMuanMiLCJub2RlX21vZHVsZXMvY2hhaS9saWIvY2hhaS91dGlscy9nZXRFbnVtZXJhYmxlUHJvcGVydGllcy5qcyJdLCJuYW1lcyI6WyJhc3NlcnQiLCJQb3B1cCIsIndpbmRvdyIsInF1aWNrcG9wdXAiLCJET00iLCJoZWxwZXJzIiwiY2hhaSIsInVzZSIsIm1vY2hhIiwic2V0dXAiLCJzbG93IiwidGltZW91dCIsIl9fa2FybWFfXyIsImJhaWwiLCJleHBlY3QiLCJzYW5kYm94Iiwic3VpdGUiLCJyZXN0YXJ0U2FuZGJveCIsInRlYXJkb3duIiwiZGVzdHJveUFsbCIsInRlc3QiLCJwYWNrYWdlVmVyc2lvbiIsInZlcnNpb24iLCJ0byIsImVxdWFsIiwicG9wdXAiLCJvbiIsIm9mZiIsImVtaXQiLCJQcm9taXNlIiwiZGVsYXkiLCJ0aGVuIiwib3BlbiIsImVsIiwidGV4dCIsImNvbnRlbnRzIiwiY2hpbGQiLCJjb250ZW50IiwibGFzdENoaWxkIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJ0eXBlIiwicmF3IiwiY2xhc3NOYW1lIiwic3BhbiIsImNsYXNzIiwiZGl2IiwicG9wdXBBIiwicG9wdXBCIiwicGxhY2VtZW50Iiwic2V0dGluZ3MiLCJib2R5Q2hpbGRyZW4iLCJxdWVyeSIsImRvY3VtZW50IiwiYm9keSIsInNsaWNlIiwicGFyZW50IiwidW53cmFwQm9keSIsImRlc3Ryb3kiLCJQb3B1cDIiLCJjb25maWciLCJhbmltYXRpb24iLCJub3RFcXVhbCIsImRlZmF1bHRzIiwic3VpdGVTZXR1cCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJvcGVuVGltZSIsInN0YXRlIiwib3BlblByb21pc2UiLCJvayIsImlzUGVuZGluZyIsImJpbmQiLCJpc0F0TGVhc3QiLCJjbG9zZSIsImNvdW50IiwiZXZlbnRzIiwiZm9yRWFjaCIsImV2ZW50IiwicmVzb2x2ZSIsImRlZXBFcXVhbCIsImJlZm9yZW9wZW4iLCJmaW5pc2hvcGVuIiwiYmVmb3JlY2xvc2UiLCJmaW5pc2hjbG9zZSIsImZvcmNlT3BlbiIsIlF1aWNrRG9tIiwiYWxsb3dlZE9wdGlvbnMiLCJpbmNsdWRlcyIsInRhcmdldCIsIml0ZW0iLCJpbmRleE9mIiwicmVtb3ZlSXRlbSIsIml0ZW1JbmRleCIsInNwbGljZSIsIm5vcm1hbGl6ZUdpdmVuRWwiLCJ0YXJnZXRFbCIsIklTIiwic3RyaW5nIiwiZG9tTm9kZSIsInRlbXBsYXRlIiwic3Bhd24iLCJpc1N0YXRlU3R5bGUiLCJyZWdpc3RlclN0eWxlIiwicnVsZSIsImxldmVsIiwiaW1wb3J0YW50IiwiY2FjaGVkIiwic3R5bGVDYWNoZSIsImdldCIsIm91dHB1dCIsIkNTUyIsInJlZ2lzdGVyIiwiZm5zIiwicHJvcHMiLCJPYmplY3QiLCJrZXlzIiwiaSIsInByb3AiLCJwdXNoIiwic2V0IiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJ2YWx1ZXMiLCJrZXkiLCJpbmRleCIsInZhbHVlIiwibG9hZCIsInF1aWNrRG9tRWwiLCJzdWJqZWN0IiwibmFtZSIsIlF1aWNrRWxlbWVudCIsIlF1aWNrVGVtcGxhdGUiLCJvcHRpb25zIiwic3ZnIiwiZXhpc3RpbmciLCJjcmVhdGVUZXh0Tm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsInN2Z05hbWVzcGFjZSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiYXR0ciIsIl9wYXJlbnQiLCJfc3R5bGVzIiwiX3N0YXRlIiwiX2NoaWxkcmVuIiwiX25vcm1hbGl6ZU9wdGlvbnMiLCJfYXBwbHlPcHRpb25zIiwiX2F0dGFjaFN0YXRlRXZlbnRzIiwiX3Byb3h5UGFyZW50IiwiX3JlZnJlc2hQYXJlbnQiLCJfcXVpY2tFbGVtZW50IiwidG9KU09OIiwiZXh0ZW5kIiwiY2xvbmUiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvdG90eXBlIiwic3R5bGUiLCJyZXBsYWNlIiwiX2ZpbHRlckVsZW1lbnRzIiwicGFyZW50c1VudGlsIiwiZmlsdGVyIiwiX2dldFBhcmVudHMiLCJwYXJlbnRNYXRjaGluZyIsImlzUmVmIiwiZnVuY3Rpb24iLCJuZXh0UGFyZW50IiwicmVmIiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlBbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiUXVpY2tCYXRjaCIsImNoaWxkTm9kZXMiLCJyZWYxIiwibm9kZVR5cGUiLCJwYXJlbnROb2RlIiwiZG9tRG9jIiwibmV4dFNpYmxpbmciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJuZXh0QWxsIiwic2libGluZ3MiLCJuZXh0IiwicHJldmlvdXNTaWJsaW5nIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInByZXZBbGwiLCJwcmV2U2libGluZyIsInByZXYiLCJyZXZlcnNlIiwiY29uY2F0IiwiX2NoaWxkUmVmcyIsIl9nZXRDaGlsZFJlZnMiLCJfZ2V0SW5kZXhCeVByb3AiLCJwYXJlbnRzIiwiZnJlc2hDb3B5IiwicmVmcyIsImNoaWxkUmVmcyIsIm1haW4iLCJhcnJheSIsIkNBQ0hFRF9GTl9JTlNFUlRFRCIsImJ1YmJsZXMiLCJiYXNlMSIsInJlbGF0ZWRJbnN0YW5jZSIsInJlbGF0ZWQiLCJiYXNlMiIsInVybCIsImhyZWYiLCJ1bnBhc3NhYmxlU3RhdGVzIiwicGFzc1N0YXRlVG9DaGlsZHJlbiIsInBhc3NEYXRhVG9DaGlsZHJlbiIsInN0YXRlVHJpZ2dlcnMiLCJkZWVwIiwiYmFzZVN0YXRlVHJpZ2dlcnMiLCJfcGFyc2VUZXh0cyIsIl90ZXh0cyIsIl9wYXJzZVN0eWxlcyIsInN0eWxlcyIsInN0b3JlIiwiX21lZGlhU3RhdGVzIiwib2JqZWN0UGxhaW4iLCJzdGF0ZXMiLCJzcGVjaWFsU3RhdGVzIiwibWFwIiwiX3Byb3ZpZGVkU3RhdGVzIiwiX3N0YXRlU2hhcmVkIiwiX3Byb3ZpZGVkU3RhdGVzU2hhcmVkIiwiYmFzZSIsIiRiYXNlIiwiZm9yY2VTdHlsZSIsImZsYXR0ZW5OZXN0ZWRTdGF0ZXMiLCJzdHlsZU9iamVjdCIsImNoYWluIiwiaGFzTm9uU3RhdGVQcm9wcyIsInN0YXRlXyIsInN0YXRlQ2hhaW4iLCJzdGF0ZVN0eWxlcyIsInRleHRzIiwiaWQiLCJzcmMiLCJzZWxlY3RlZCIsImNoZWNrZWQiLCJhdHRycyIsIl9hcHBseVJlZ2lzdGVyZWRTdHlsZSIsInN0eWxlQWZ0ZXJJbnNlcnQiLCJpbnZva2VDb21wdXRlcnNPbmNlIiwiX2ludm9rZWRDb21wdXRlcnMiLCJyZWNhbGNPblJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWNhbGNTdHlsZSIsImhhbmRsZXIiLCJtZXRob2RzIiwicmVmMiIsIm1ldGhvZCIsIm9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiX3Bvc3RDcmVhdGlvbiIsImRhdGEiLCJjb21wdXRlcnMiLCJhcHBseURhdGEiLCJfaW5pdCIsIl9ydW5Db21wdXRlciIsImZvcmNlIiwiZGlzYWJsZXIiLCJ0cmlnZ2VyIiwiZW5hYmxlciIsIl9saXN0ZW5UbyIsIm5ld1BhcmVudCIsImxhc3RQYXJlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJfdW5wcm94eVBhcmVudCIsImVtaXRQcml2YXRlIiwiX2luc2VydGVkIiwibWVkaWFTdGF0ZXMiLCJyZXN1bHRzIiwicXVlcnlTdHJpbmciLCJNZWRpYVF1ZXJ5IiwicmVnZXhXaGl0ZXNwYWNlIiwiZXZlbnROYW1lcyIsImNhbGxiYWNrIiwidXNlQ2FwdHVyZSIsImlzUHJpdmF0ZSIsImNhbGxiYWNrUmVmIiwiX2V2ZW50Q2FsbGJhY2tzIiwiX19yZWZzIiwic3BsaXQiLCJjYWxsIiwiZXZlbnROYW1lIiwiX2ludm9rZUhhbmRsZXJzIiwib25jZSIsIm9uY2VDYWxsYmFjayIsImNhbmNlbGFibGUiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJhcmciLCJjYWxsYmFja3MiLCJjYiIsImV2ZW50TmFtZVRvTGlzdGVuRm9yIiwibGlzdGVuTWV0aG9kIiwiRFVNTVlfQVJSQVkiLCJ0YXJnZXRTdGF0ZSIsInNvdXJjZSIsImFjdGl2ZVN0YXRlcyIsImFyZ3VtZW50cyIsIl9zdGF0ZVBpcGVUYXJnZXQiLCJkZXNpcmVkVmFsdWUiLCJfZ2V0QWN0aXZlU3RhdGVzIiwidG9nZ2xlIiwidG9nZ2xlU3RhdGUiLCJyZXNldFN0YXRlIiwiYWN0aXZlU3RhdGUiLCJwaXBlU3RhdGUiLCJ0YXJnZXRTdHlsZSIsInN1cGVyaW9yU3RhdGVzIiwiaW5jbHVkZUJhc2UiLCJza2lwRm5zIiwiYWRkQ2xhc3MiLCJzdXBlcmlvclN0eWxlcyIsIl9yZXNvbHZlRm5TdHlsZXMiLCJlbnRyeSIsIl9yZW1vdmVSZWdpc3RlcmVkU3R5bGUiLCJyZW1vdmVDbGFzcyIsInJlc2V0VmFsdWUiLCJfdHVyblN0eWxlT04iLCJqIiwiX2dldFN1cGVyaW9yU3RhdGVzIiwic2hhcmVkU3RhdGVzIiwiX2dldFNoYXJlZFN0YXRlcyIsIl90dXJuU3R5bGVPRkYiLCJhY3RpdmVTaGFyZWRTdGF0ZXMiLCJfdHVyblRleHRPTiIsInRhcmdldFRleHQiLCJfdHVyblRleHRPRkYiLCJzdGF0ZVRvRXhjbHVkZSIsImluY2x1ZGVTaGFyZWRTdGF0ZXMiLCJwbGFpblN0YXRlcyIsImNhbmRpZGF0ZSIsInRhcmdldFN0YXRlSW5kZXgiLCJzdXBlcmlvciIsImlzQXBwbGljYWJsZSIsImFzcGVjdFJhdGlvR2V0dGVyIiwicHJvcGVydHkiLCJhcmdzIiwiZGVmaW5lZCIsImN1cnJlbnRTdGF0ZVN0eWxlIiwiVU5TRVQiLCJyZXN1bHQiLCJzdHlsZVNhZmUiLCJza2lwQ29tcHV0ZWQiLCJjb21wdXRlZCIsInNhbXBsZSIsIm51bWJlciIsInN0eWxlUGFyc2VkIiwicGFyc2VGbG9hdCIsInJlY2FsY0NoaWxkcmVuIiwidGFyZ2V0U3R5bGVzIiwiaGlkZSIsInNob3ciLCJkaXNwbGF5Iiwib3JpZW50YXRpb25HZXR0ZXIiLCJ3aWR0aCIsImhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm5ld1ZhbHVlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidG9UZW1wbGF0ZSIsImNsb25lTm9kZSIsImVsQ2xvbmUiLCJuZXdFbCIsImsiLCJwcmV2UGFyZW50IiwiX3JlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJhcHBlbmRUbyIsInVuc2hpZnQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwicHJlcGVuZFRvIiwiYWZ0ZXIiLCJteUluZGV4IiwiaW5zZXJ0QWZ0ZXIiLCJiZWZvcmUiLCJkZXRhY2giLCJyZW1vdmUiLCJlbXB0eSIsIndyYXAiLCJjdXJyZW50UGFyZW50IiwidW53cmFwIiwiZ3JhbmRQYXJlbnQiLCJwYXJlbnRDaGlsZHJlbiIsImJhdGNoIiwicGFyZW50U2libGluZyIsImhhc0NsYXNzIiwiY2xhc3NMaXN0IiwidGFyZ2V0SW5kZXgiLCJqb2luIiwidG9nZ2xlQ2xhc3MiLCJzZXRSZWYiLCJ0YXJnZXRDaGlsZCIsInJlcGxhY2VtZW50Q2hpbGQiLCJpbmRleE9mQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiLCJyZW1vdmVDaGlsZCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwibGlzdCIsInBvcCIsInNoaWZ0IiwidXBkYXRlT3B0aW9ucyIsInVwZGF0ZVN0YXRlU3R5bGVzIiwicGFyc2VkIiwidXBkYXRlZFN0YXRlcyIsInVwZGF0ZVN0YXRlVGV4dHMiLCJwYXNzVGhyb3VnaCIsImhhc093blByb3BlcnR5IiwiY29tcHV0ZXIiLCJRdWlja1dpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBhcnNlUXVlcnkiLCJxdWVyeVNwbGl0IiwicnVsZXMiLCJydWxlRGVsaW1pdGVyIiwiZ2V0dGVyIiwiaXNOYU4iLCJrZXlQcmVmaXgiLCJtYXgiLCJtaW4iLCJvcmllbnRhdGlvbiIsImFzcGVjdFJhdGlvIiwicGFyc2VkVmFsdWUiLCJzdHJpbmdWYWx1ZSIsInRlc3RSdWxlIiwiY3VycmVudFZhbHVlIiwicGFzc2VkIiwiQXJyYXkiLCJwcmV2Q291bnQiLCJlbGVtZW50IiwiYXJnc0xlbmd0aCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJ0cmVlIiwiaHRtbCIsImNvbnRhaW5lciIsImlzVGVtcGxhdGUiLCJpc1F1aWNrRWwiLCJpc0VsIiwiZG9tRWwiLCJlbGVtZW50cyIsInJldHVyblJlc3VsdHMxIiwicmV0dXJuUmVzdWx0cyIsInJldHVybiIsInJldHVybk5leHQiLCJsYXN0UmVzdWx0cyIsIml0ZXJhYmxlIiwiRXJyb3IiLCJTdHJpbmciLCJub3RLZXlzIiwiZXh0ZW5kVGVtcGxhdGUiLCJjdXJyZW50T3B0cyIsIm5ld09wdHMiLCJnbG9iYWxPcHRzIiwiY3VycmVudENoaWxkIiwiZ2xvYmFsT3B0c1RyYW5zZm9ybSIsIm9wdHMiLCJwYXJzZVRyZWUiLCJtYXRjaGVzU2NoZW1hIiwibnVsbERlbGV0ZXMiLCJub3REZWVwIiwibm90RGVlcEtleXMiLCJ0cmFuc2Zvcm0iLCJjdXJyZW50Q2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsIm1heExlbmd0aCIsIk1hdGgiLCJuZWVkc1RlbXBsYXRlV3JhcCIsIm5vQ2hhbmdlcyIsIm5ld0NoaWxkIiwibmV3Q2hpbGRQcm9jZXNzZWQiLCJzY2hlbWEiLCJhbGxvd051bGwiLCJleHRlbmRCeVJlZiIsInJlbWFpbmluZ05ld0NoaWxkcmVuIiwibmV3Q2hpbGRyZW5SZWZzIiwicGFyc2VFcnJvclByZWZpeCIsInBhcnNlQ2hpbGRyZW4iLCJkb21UZXh0IiwiYWxsb3dlZFRlbXBsYXRlT3B0aW9ucyIsImlzVHJlZSIsIm5ld1ZhbHVlcyIsImNoaWxkRGF0YSIsInNob3J0Y3V0IiwibW9kdWxlIiwiZXhwb3J0cyIsImRldGVjdEFuaW1hdGlvbiIsInN1cHBvcnRzQW5pbWF0aW9uIiwidHJhbnNpdGlvbkVuZCIsImJvcmRlciIsInBhZGRpbmciLCJib3hTaXppbmciLCJjaGFpRG9tIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInV0aWxzIiwiZmxhZyIsImVsVG9TdHJpbmciLCJkZXNjIiwiaXNOb2RlTGlzdCIsImlzSFRNTEVsZW1lbnQiLCJ0YWdOYW1lIiwiYXR0cmlidXRlcyIsImF0dHJBc3NlcnQiLCJ2YWwiLCJhY3R1YWwiLCJ1bmRlZmluZWQiLCJpbnNwZWN0Iiwib2JqIiwidG9TdHJpbmciLCJBc3NlcnRpb24iLCJhZGRNZXRob2QiLCJjb250YWlucyIsImFkZENoYWluYWJsZU1ldGhvZCIsInRyaW0iLCJpc0FycmF5IiwidCIsInNvbWUiLCJlcWwiLCJvYmpEZXNjIiwidGV4dE1zZyIsIm92ZXJ3cml0ZVByb3BlcnR5IiwiX3N1cGVyIiwiYXBwbHkiLCJvdmVyd3JpdGVDaGFpbmFibGVNZXRob2QiLCJhY3R1YWxMZW5ndGgiLCJvdmVyd3JpdGVNZXRob2QiLCJtYXRjaGVzIiwiZXZlcnkiLCJzdWJpdGVtIiwiYWRkUHJvcGVydHkiLCJnZXRDb21wdXRlZFN0eWxlIiwidmlzaWJpbGl0eSIsImNoYWlTdHlsZSIsImlzTm9uQ29sb3JzIiwicHJvcGVydHlWYWx1ZSIsImFzc2VydGlvbiIsImNvbXBhcmVDU1NWYWx1ZSIsIkJvb2xlYW4iLCJlbGVtZW50VGFnIiwidGhyb3dNZXNzYWdlIiwidGhyb3dNZXNzYWdlTmVnYXRpdmUiLCJleHBlY3RlZCIsInByb3BlcnR5SGlmZW5DYXNlIiwibWF0Y2giLCJmYWtlIiwiZm9udFNpemUiLCJzZXRQcm9wZXJ0eSIsImlmcmFtZSIsImZha2VTdHlsZSIsImhhc0F1dG9WYWx1ZSIsInJlZyIsIlJlZ0V4cCIsImVzY2FwZVJlZ0V4cCIsImNvbXBhcmlzb25SZXN1bHQiLCJERUZBVUxUX1RPTEVSQU5DRSIsImxlZnQiLCJyaWdodCIsImlzTnVtYmVyIiwidG9sIiwiYWJzIiwidG9sZXJhbmNlIiwiYm90aE51bWJlcnMiLCJhbG1vc3RFcXVhbCIsImN1c3RvbVRvbGVyYW5jZSIsInN0YW5kYXJkVG9sZXJhbmNlIiwibXNnIiwiX29iaiIsImNvbXBhcmF0b3IiLCJ0b2xlcmFuY2VPdmVycmlkZSIsImNoYWluaW5nQmVoYXZpb3IiLCJvdmVycmlkZUFzc2VydEVxdWFsIiwib3ZlcnJpZGVBc3NlcnRFcWwiLCJjaGFpQWxtb3N0IiwiY2hlY2siLCJ0eXBlcyIsIkV2ZW50RW1pdHRlciIsIkV2ZW50VGFyZ2V0Iiwibm9kZSIsImJyb3dzZXIiLCJpc0VtaXR0ZXIiLCJiZSIsImFuIiwiZW1pdHRlciIsImEiLCJfdGhpcyIsInJlamVjdCIsImRvbmUiLCJzZXRUaW1lb3V0IiwicGx1Z2luIiwicXVpY2tjc3MiLCJjb21wdXRlZFN0eWxlIiwiaXNJdGVyYWJsZSIsInN1YkVsIiwic3ViUHJvcGVydHkiLCJzdWJWYWx1ZSIsIm5vcm1hbGl6ZVByb3BlcnR5IiwiX2NvbXB1dGVkU3R5bGUiLCJub3JtYWxpemVWYWx1ZSIsImZyYW1lcyIsImZyYW1lIiwicHJlZml4IiwiZ2V0UHJlZml4IiwiZ2VuZXJhdGVkIiwicnVsZVRvU3RyaW5nIiwiaW5saW5lU3R5bGUiLCJoYXNoIiwiY2xlYXJSZWdpc3RlcmVkIiwiY2xlYXJJbmxpbmVTdHlsZSIsImlzVmFsdWVTdXBwb3J0ZWQiLCJzdXBwb3J0cyIsInN1cHBvcnRzUHJvcGVydHkiLCJpc1Byb3BTdXBwb3J0ZWQiLCJub3JtYWxpemVLZXlzIiwibmV3QnVpbGRlciIsImlzQmFzZSIsImJ1aWxkZXIiLCJ0aGVUYXJnZXQiLCIkX2kiLCJzb3VyY2VzIiwibW9kaWZpZXJzIiwiXyIsIm93biIsImRlZXBPbmx5IiwiZ2xvYmFsVHJhbnNmb3JtIiwidHJhbnNmb3JtcyIsImdsb2JhbEZpbHRlciIsImZpbHRlcnMiLCJlbGVtIiwicmVkdWNlIiwidHJhbnMiLCJ1c2VkIiwiQXNzZXJ0aW9uRXJyb3IiLCJ1dGlsIiwiZm4iLCJjb3JlIiwic2hvdWxkIiwiY2xlYXIiLCJGYWtlTWFwIiwiZGVsZXRlIiwiTWVtb2l6ZU1hcCIsIldlYWtNYXAiLCJsZWZ0SGFuZE9wZXJhbmQiLCJyaWdodEhhbmRPcGVyYW5kIiwibWVtb2l6ZU1hcCIsImlzUHJpbWl0aXZlIiwibGVmdEhhbmRNYXAiLCJleHRlbnNpdmVEZWVwRXF1YWwiLCJzaW1wbGVSZXN1bHQiLCJzaW1wbGVFcXVhbCIsIm1lbW9pemUiLCJtZW1vaXplUmVzdWx0TGVmdCIsIm1lbW9pemVDb21wYXJlIiwibWVtb2l6ZVJlc3VsdFJpZ2h0IiwiY29tcGFyYXRvclJlc3VsdCIsIm1lbW9pemVTZXQiLCJsZWZ0SGFuZFR5cGUiLCJleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUiLCJ2YWx1ZU9mIiwiaXRlcmFibGVFcXVhbCIsInJlZ2V4cEVxdWFsIiwiZ2VuZXJhdG9yRXF1YWwiLCJVaW50OEFycmF5IiwiYnVmZmVyIiwiZW50cmllc0VxdWFsIiwib2JqZWN0RXF1YWwiLCJzaXplIiwibGVmdEhhbmRJdGVtcyIsInJpZ2h0SGFuZEl0ZW1zIiwic29ydCIsImdldEdlbmVyYXRvckVudHJpZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsImhhc0l0ZXJhdG9yRnVuY3Rpb24iLCJpdGVyYXRvckVycm9yIiwiZ2VuZXJhdG9yIiwiZ2VuZXJhdG9yUmVzdWx0IiwiYWNjdW11bGF0b3IiLCJsZWZ0SGFuZEtleXMiLCJnZXRFbnVtZXJhYmxlS2V5cyIsInJpZ2h0SGFuZEtleXMiLCJrZXlzRXF1YWwiLCJsZWZ0SGFuZEVudHJpZXMiLCJnZXRJdGVyYXRvckVudHJpZXMiLCJyaWdodEhhbmRFbnRyaWVzIiwiZ2xvYmFsIiwiZmFjdG9yeSIsInR5cGVEZXRlY3QiLCJwcm9taXNlRXhpc3RzIiwiZ2xvYmFsT2JqZWN0Iiwic2VsZiIsInN5bWJvbEV4aXN0cyIsIm1hcEV4aXN0cyIsIk1hcCIsInNldEV4aXN0cyIsIlNldCIsIndlYWtNYXBFeGlzdHMiLCJ3ZWFrU2V0RXhpc3RzIiwiV2Vha1NldCIsImRhdGFWaWV3RXhpc3RzIiwiRGF0YVZpZXciLCJzeW1ib2xJdGVyYXRvckV4aXN0cyIsInN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzIiwidG9TdHJpbmdUYWciLCJzZXRFbnRyaWVzRXhpc3RzIiwiZW50cmllcyIsIm1hcEVudHJpZXNFeGlzdHMiLCJzZXRJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwibWFwSXRlcmF0b3JQcm90b3R5cGUiLCJhcnJheUl0ZXJhdG9yRXhpc3RzIiwiYXJyYXlJdGVyYXRvclByb3RvdHlwZSIsInN0cmluZ0l0ZXJhdG9yRXhpc3RzIiwic3RyaW5nSXRlcmF0b3JQcm90b3R5cGUiLCJ0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCIsInRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCIsInR5cGVvZk9iaiIsImxvY2F0aW9uIiwibmF2aWdhdG9yIiwibWltZVR5cGVzIiwicGx1Z2lucyIsIkhUTUxFbGVtZW50Iiwic3RyaW5nVGFnIiwib2JqUHJvdG90eXBlIiwiZ2xvYmFscyIsInN0cmluZ3MiLCJtZXNzYWdlcyIsInByZWRpY2F0ZXMiLCJmdW5jdGlvbnMiLCJub3QiLCJtYXliZSIsImNvbGxlY3Rpb25zIiwibmVnaW5mIiwicG9zaW5mIiwiaGF2ZVN5bWJvbHMiLCJ2IiwibiIsInMiLCJiIiwibyIsImFsIiwiZCIsImYiLCJsIiwiaXNVbmRlZmluZWQiLCJpc051bGwiLCJhc3NpZ25lZCIsInByaW1pdGl2ZSIsInplcm8iLCJpbmZpbml0eSIsImludGVnZXIiLCJldmVuIiwib2RkIiwiZ3JlYXRlciIsImxlc3MiLCJiZXR3ZWVuIiwiZ3JlYXRlck9yRXF1YWwiLCJsZXNzT3JFcXVhbCIsImluUmFuZ2UiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwiZW1wdHlTdHJpbmciLCJub25FbXB0eVN0cmluZyIsImJvb2xlYW4iLCJlbXB0eU9iamVjdCIsIm5vbkVtcHR5T2JqZWN0IiwiaW5zdGFuY2VTdHJpY3QiLCJpbnN0YW5jZSIsImxpa2UiLCJlbXB0eUFycmF5Iiwibm9uRW1wdHlBcnJheSIsImFycmF5TGlrZSIsImRhdGUiLCJpc0Z1bmN0aW9uIiwiaGFzTGVuZ3RoIiwiYWxsIiwiYW55IiwiTnVtYmVyIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJQT1NJVElWRV9JTkZJTklUWSIsIm1peGluIiwiY3JlYXRlTW9kaWZpZWRQcmVkaWNhdGVzIiwiYXNzZXJ0TW9kaWZpZXIiLCJhc3NlcnRJbXBsIiwibm90TW9kaWZpZXIiLCJub3RJbXBsIiwibWF5YmVNb2RpZmllciIsIm1heWJlSW1wbCIsImNyZWF0ZU1vZGlmaWVkTW9kaWZpZXIiLCJjcmVhdGVPZlByZWRpY2F0ZXMiLCJjcmVhdGVPZk1vZGlmaWVycyIsImNyZWF0ZU1heWJlT2ZNb2RpZmllcnMiLCJleHBvcnRGdW5jdGlvbnMiLCJsaHMiLCJyaHMiLCJ4IiwieSIsInN1YnN0cmluZyIsInJlZ2V4IiwiZXJyb3IiLCJhcmNoZXR5cGUiLCJpdGVyYXRpb24iLCJnZXRUaW1lIiwibWFwU2ltcGxlIiwibWFwQ29tcGxleCIsInByZWRpY2F0ZSIsIm0iLCJ0ZXN0QXJyYXkiLCJ0ZXN0T2JqZWN0IiwiZGVmYXVsdE1lc3NhZ2UiLCJhc3NlcnRQcmVkaWNhdGUiLCJhcmdDb3VudCIsIm1lc3NhZ2UiLCJFcnJvclR5cGUiLCJUeXBlRXJyb3IiLCJtb2RpZmllZFByZWRpY2F0ZSIsImNvbGxlY3Rpb24iLCJjb2VyY2VDb2xsZWN0aW9uIiwiaWdub3JlIiwibW9kaWZpZXIiLCJjcmVhdGVNb2RpZmllZEZ1bmN0aW9ucyIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsIm1vZGlmaWVkIiwib2YiLCJvZk1vZGlmaWVyIiwiU0FNUExFX1NUWUxFIiwidG9LZWJhYkNhc2UiLCJlIiwibGV0dGVyIiwic2tpcEluaXRpYWxDaGVjayIsImxlbjEiLCJncmVhdCIsImxlbiIsInBpdm90IiwiaHNoIiwiY2hhckNvZGVBdCIsImlubGluZVN0eWxlQ29uZmlnIiwic3R5bGVDb25maWciLCJ2YWx1ZVRvU3RvcmUiLCJzdHlsZUVsIiwiaGVhZCIsImNhY2hlIiwiUkVHRVhfTEVOX1ZBTCIsIlJFR0VYX0RJR0lUUyIsIlJFR0VYX1NQQUNFIiwiUkVHRVhfS0VCQUIiLCJJTVBPUlRBTlQiLCJQT1NTSUJMRV9QUkVGSVhFUyIsIlJFUVVJUkVTX1VOSVRfVkFMVUUiLCJRVUFEX1NIT1JUSEFORFMiLCJESVJFQ1RJT05TIiwiZGlyZWN0aW9uIiwiaXNPYmplY3QiLCJzaG91bGREZWVwRXh0ZW5kIiwicGFyZW50S2V5Iiwic291cmNlVmFsdWUiLCJ0YXJnZXRWYWx1ZSIsInN1YlRhcmdldCIsIkNoZWNrcyIsIm5hdGl2ZXMiLCJkb20iLCJzZXRzIiwiYXZhaWxTZXRzIiwiZXhjbHVkZXMiLCJyZXMiLCJleGNsdWRlUHJvcHMiLCJfcHJvcHMiLCJzc2YiLCJleGNsdWRlIiwic2hvd0RpZmYiLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwicGF0aHZhbCIsImV4cGVjdFR5cGVzIiwiZ2V0TWVzc2FnZSIsImdldEFjdHVhbCIsIm9iakRpc3BsYXkiLCJ0cmFuc2ZlckZsYWdzIiwiZ2V0UGF0aEluZm8iLCJoYXNQcm9wZXJ0eSIsImdldE5hbWUiLCJjb21wYXJlQnlJbnNwZWN0IiwiZ2V0T3duRW51bWVyYWJsZVByb3BlcnR5U3ltYm9scyIsImdldE93bkVudW1lcmFibGVQcm9wZXJ0aWVzIiwiY2hlY2tFcnJvciIsInByb3hpZnkiLCJhZGRMZW5ndGhHdWFyZCIsImlzUHJveHlFbmFibGVkIiwiaW5jbHVkZVN0YWNrIiwidHJ1bmNhdGVUaHJlc2hvbGQiLCJ1c2VQcm94eSIsInByb3h5RXhjbHVkZWRLZXlzIiwiX2NoYWkiLCJzc2ZpIiwibG9ja1NzZmkiLCJjb25zb2xlIiwid2FybiIsImV4cHIiLCJuZWdhdGVNc2ciLCJfYWN0dWFsIiwiYXJ0aWNsZSIsImNoYXJBdCIsIm9ialR5cGUiLCJmbGFnTXNnIiwibmVnYXRlIiwiaXNEZWVwIiwiZGVzY3JpcHRvciIsImluY2x1ZGVkIiwiaGFzIiwiaXNFcWwiLCJTYW1lVmFsdWVaZXJvIiwiZmlyc3RFcnIiLCJudW1FcnJzIiwicHJvcEFzc2VydGlvbiIsImVyciIsImNvbXBhdGlibGVDb25zdHJ1Y3RvciIsImluY2x1ZGUiLCJpbmNsdWRlQ2hhaW5pbmdCZWhhdmlvciIsIml0ZW1zQ291bnQiLCJjaGVja0FyZ3VtZW50cyIsInByZXZMb2NrU3NmaSIsImFzc2VydEVxdWFsIiwiYXNzZXJ0RXFsIiwiZG9MZW5ndGgiLCJtc2dQcmVmaXgiLCJuVHlwZSIsImVycm9yTWVzc2FnZSIsInNob3VsZFRocm93IiwiaGF2ZSIsInByaW50T2JqIiwiYXNzZXJ0QWJvdmUiLCJhc3NlcnRMZWFzdCIsImFzc2VydEJlbG93IiwiYXNzZXJ0TW9zdCIsInN0YXJ0IiwiZmluaXNoIiwic3RhcnRUeXBlIiwiZmluaXNoVHlwZSIsInJhbmdlIiwidG9VVENTdHJpbmciLCJpc0luc3RhbmNlT2YiLCJhc3NlcnRJbnN0YW5jZU9mIiwiaXNOZXN0ZWQiLCJpc093biIsIm5hbWVUeXBlIiwicGF0aEluZm8iLCJleGlzdHMiLCJhc3NlcnRQcm9wZXJ0eSIsImFzc2VydE93blByb3BlcnR5IiwiYWN0dWFsRGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImFzc2VydE93blByb3BlcnR5RGVzY3JpcHRvciIsImFzc2VydExlbmd0aCIsImFzc2VydExlbmd0aENoYWluIiwicmUiLCJleGVjIiwiYXNzZXJ0TWF0Y2giLCJzdHIiLCJpcyIsImtleXNUeXBlIiwiZGVlcFN0ciIsIm1peGVkQXJnc01zZyIsImV4cGVjdGVkS2V5IiwiYWN0dWFsS2V5IiwibGFzdCIsImFzc2VydEtleXMiLCJlcnJvckxpa2UiLCJlcnJNc2dNYXRjaGVyIiwiY2F1Z2h0RXJyIiwiZXZlcnlBcmdJc1VuZGVmaW5lZCIsImV2ZXJ5QXJnSXNEZWZpbmVkIiwiZXJyb3JMaWtlRmFpbCIsImVyck1zZ01hdGNoZXJGYWlsIiwiZXJyb3JMaWtlU3RyaW5nIiwiZ2V0Q29uc3RydWN0b3JOYW1lIiwiaXNDb21wYXRpYmxlSW5zdGFuY2UiLCJjb21wYXRpYmxlSW5zdGFuY2UiLCJpc0NvbXBhdGlibGVDb25zdHJ1Y3RvciIsInBsYWNlaG9sZGVyIiwiaXNDb21wYXRpYmxlTWVzc2FnZSIsImNvbXBhdGlibGVNZXNzYWdlIiwiYXNzZXJ0VGhyb3dzIiwiaXRzZWxmIiwiY29udGV4dCIsInJlc3BvbmRUbyIsIm1hdGNoZXIiLCJzYXRpc2Z5IiwiZGVsdGEiLCJjbG9zZVRvIiwic3Vic2V0Iiwic3VwZXJzZXQiLCJjbXAiLCJvcmRlcmVkIiwiaWR4IiwibWF0Y2hJZHgiLCJlbGVtMiIsImZhaWxNc2ciLCJmYWlsTmVnYXRlTXNnIiwiaXNTdWJzZXRPZiIsIm9uZU9mIiwiaW5pdGlhbCIsImZpbmFsIiwibXNnT2JqIiwiYXNzZXJ0Q2hhbmdlcyIsImFzc2VydEluY3JlYXNlcyIsImFzc2VydERlY3JlYXNlcyIsImJlaGF2aW9yIiwicmVhbERlbHRhIiwiZXhwcmVzc2lvbiIsImFzc2VydERlbHRhIiwiaXNFeHRlbnNpYmxlIiwiaXNTZWFsZWQiLCJpc0Zyb3plbiIsImlzRmluaXRlIiwiZmFpbCIsIm9wZXJhdG9yIiwic2hvdWxkR2V0dGVyIiwic2hvdWxkU2V0dGVyIiwidmFsMSIsInZhbDIiLCJUaHJvdyIsImVycnQiLCJlcnJzIiwiZXhpc3QiLCJsb2FkU2hvdWxkIiwiU2hvdWxkIiwiZXhwcmVzcyIsImVycm1zZyIsImlzT2siLCJpc05vdE9rIiwiYWN0IiwiZXhwIiwic3RyaWN0RXF1YWwiLCJub3RTdHJpY3RFcXVhbCIsImRlZXBTdHJpY3RFcXVhbCIsIm5vdERlZXBFcXVhbCIsImlzQWJvdmUiLCJhYnYiLCJhYm92ZSIsImF0bHN0IiwibGVhc3QiLCJpc0JlbG93IiwiYmx3IiwiYmVsb3ciLCJpc0F0TW9zdCIsImF0bXN0IiwibW9zdCIsImlzVHJ1ZSIsImlzTm90VHJ1ZSIsImlzRmFsc2UiLCJpc05vdEZhbHNlIiwiaXNOb3ROdWxsIiwiTmFOIiwiaXNOb3ROYU4iLCJub3RFeGlzdHMiLCJpc0RlZmluZWQiLCJpc05vdEZ1bmN0aW9uIiwiaXNOb3RPYmplY3QiLCJpc05vdEFycmF5IiwiaXNTdHJpbmciLCJpc05vdFN0cmluZyIsImlzTm90TnVtYmVyIiwiZmluaXRlIiwiaXNCb29sZWFuIiwiaXNOb3RCb29sZWFuIiwidHlwZU9mIiwibm90VHlwZU9mIiwiaW5zdGFuY2VPZiIsIm5vdEluc3RhbmNlT2YiLCJpbmMiLCJub3RJbmNsdWRlIiwiZGVlcEluY2x1ZGUiLCJub3REZWVwSW5jbHVkZSIsIm5lc3RlZEluY2x1ZGUiLCJuZXN0ZWQiLCJub3ROZXN0ZWRJbmNsdWRlIiwiZGVlcE5lc3RlZEluY2x1ZGUiLCJub3REZWVwTmVzdGVkSW5jbHVkZSIsIm93bkluY2x1ZGUiLCJub3RPd25JbmNsdWRlIiwiZGVlcE93bkluY2x1ZGUiLCJub3REZWVwT3duSW5jbHVkZSIsIm5vdE1hdGNoIiwibm90UHJvcGVydHkiLCJwcm9wZXJ0eVZhbCIsIm5vdFByb3BlcnR5VmFsIiwiZGVlcFByb3BlcnR5VmFsIiwibm90RGVlcFByb3BlcnR5VmFsIiwib3duUHJvcGVydHkiLCJub3RPd25Qcm9wZXJ0eSIsIm93blByb3BlcnR5VmFsIiwibm90T3duUHJvcGVydHlWYWwiLCJkZWVwT3duUHJvcGVydHlWYWwiLCJub3REZWVwT3duUHJvcGVydHlWYWwiLCJuZXN0ZWRQcm9wZXJ0eSIsIm5vdE5lc3RlZFByb3BlcnR5IiwibmVzdGVkUHJvcGVydHlWYWwiLCJub3ROZXN0ZWRQcm9wZXJ0eVZhbCIsImRlZXBOZXN0ZWRQcm9wZXJ0eVZhbCIsIm5vdERlZXBOZXN0ZWRQcm9wZXJ0eVZhbCIsImxlbmd0aE9mIiwiaGFzQW55S2V5cyIsImhhc0FsbEtleXMiLCJjb250YWluc0FsbEtleXMiLCJjb250YWluIiwiZG9lc05vdEhhdmVBbnlLZXlzIiwiZG9lc05vdEhhdmVBbGxLZXlzIiwiaGFzQW55RGVlcEtleXMiLCJoYXNBbGxEZWVwS2V5cyIsImNvbnRhaW5zQWxsRGVlcEtleXMiLCJkb2VzTm90SGF2ZUFueURlZXBLZXlzIiwiZG9lc05vdEhhdmVBbGxEZWVwS2V5cyIsInRocm93cyIsImFzc2VydEVyciIsInRocm93IiwiZG9lc05vdFRocm93IiwiYXBwcm94aW1hdGVseSIsInNhbWVNZW1iZXJzIiwic2V0MSIsInNldDIiLCJzYW1lIiwibWVtYmVycyIsIm5vdFNhbWVNZW1iZXJzIiwic2FtZURlZXBNZW1iZXJzIiwibm90U2FtZURlZXBNZW1iZXJzIiwic2FtZU9yZGVyZWRNZW1iZXJzIiwibm90U2FtZU9yZGVyZWRNZW1iZXJzIiwic2FtZURlZXBPcmRlcmVkTWVtYmVycyIsIm5vdFNhbWVEZWVwT3JkZXJlZE1lbWJlcnMiLCJpbmNsdWRlTWVtYmVycyIsIm5vdEluY2x1ZGVNZW1iZXJzIiwiaW5jbHVkZURlZXBNZW1iZXJzIiwibm90SW5jbHVkZURlZXBNZW1iZXJzIiwiaW5jbHVkZU9yZGVyZWRNZW1iZXJzIiwibm90SW5jbHVkZU9yZGVyZWRNZW1iZXJzIiwiaW5jbHVkZURlZXBPcmRlcmVkTWVtYmVycyIsIm5vdEluY2x1ZGVEZWVwT3JkZXJlZE1lbWJlcnMiLCJpbkxpc3QiLCJjaGFuZ2VzIiwiY2hhbmdlIiwiY2hhbmdlc0J5IiwidG1wTXNnIiwiYnkiLCJkb2VzTm90Q2hhbmdlIiwiY2hhbmdlc0J1dE5vdEJ5IiwiYnV0IiwiaW5jcmVhc2VzIiwiaW5jcmVhc2UiLCJpbmNyZWFzZXNCeSIsImRvZXNOb3RJbmNyZWFzZSIsImluY3JlYXNlc0J1dE5vdEJ5IiwiZGVjcmVhc2VzIiwiZGVjcmVhc2UiLCJkZWNyZWFzZXNCeSIsImRvZXNOb3REZWNyZWFzZSIsImRvZXNOb3REZWNyZWFzZUJ5IiwiZGVjcmVhc2VzQnV0Tm90QnkiLCJpZkVycm9yIiwiZXh0ZW5zaWJsZSIsImlzTm90RXh0ZW5zaWJsZSIsInNlYWxlZCIsImlzTm90U2VhbGVkIiwiZnJvemVuIiwiaXNOb3RGcm96ZW4iLCJpc0VtcHR5IiwiaXNOb3RFbXB0eSIsImFzIiwiYWxpYXMiLCJnZXRQcm90b3R5cGVPZkV4aXN0cyIsImlzRG9tIiwiaHRtbEVsZW1lbnRFeGlzdHMiLCJpc0FycmF5RXhpc3RzIiwibnVtYmVyTG9vc2UiLCJkb21UZXh0YXJlYSIsImRvbUlucHV0IiwiZG9tU2VsZWN0IiwiZG9tRmllbGQiLCJTdGF0ZUNoYWluIiwid2l0aG91dCIsIm90aGVyQWN0aXZlIiwiYWN0aXZlIiwicGF0aCIsInBhcnRzIiwicmVnZXhwIiwibUFyciIsInAiLCJwYXRoRGVwdGgiLCJ0ZW1wb3JhcnlWYWx1ZSIsInBhcnQiLCJ0ZW1wT2JqIiwicHJvcE5hbWUiLCJwcm9wVmFsIiwicGFyc2VQYXRoIiwiaW5mbyIsImludGVybmFsR2V0UGF0aFZhbHVlIiwiaW50ZXJuYWxTZXRQYXRoVmFsdWUiLCJnZXRQYXRoVmFsdWUiLCJzZXRQYXRoVmFsdWUiLCJhcnQiLCJvciIsImdldFByb3BlcnRpZXMiLCJnZXRFbnVtZXJhYmxlUHJvcGVydGllcyIsInNob3dIaWRkZW4iLCJkZXB0aCIsImNvbG9ycyIsImN0eCIsInNlZW4iLCJzdHlsaXplIiwiZm9ybWF0VmFsdWUiLCJpc0RPTUVsZW1lbnQiLCJyZWN1cnNlVGltZXMiLCJyZXQiLCJmb3JtYXRQcmltaXRpdmUiLCJvdXRlckhUTUwiLCJ4bWxWZXJzaW9uIiwieG1sU2VyaWFsaXplciIsIlhNTFNlcmlhbGl6ZXIiLCJzZXJpYWxpemVUb1N0cmluZyIsIm5zIiwidmlzaWJsZUtleXMiLCJuYW1lU3VmZml4IiwiaXNFcnJvciIsImlzUmVnRXhwIiwiaXNEYXRlIiwiZm9ybWF0RXJyb3IiLCJ0eXBlZEFycmF5IiwiYnJhY2VzIiwiaXNUeXBlZEFycmF5IiwiZm9ybWF0QXJyYXkiLCJmb3JtYXRUeXBlZEFycmF5IiwiZm9ybWF0UHJvcGVydHkiLCJyZWR1Y2VUb1NpbmdsZVN0cmluZyIsInNpbXBsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJJbmZpbml0eSIsInByb3BEZXNjcmlwdG9yIiwibGluZSIsInN1YnN0ciIsImN1ciIsImFyIiwib2JqZWN0VG9TdHJpbmciLCJrc3RyIiwiZmxhZ3MiLCJfX2ZsYWdzIiwiaW5jbHVkZUFsbCIsIl9rZXkiLCJyYW5kb20iLCJGdW5jdGlvbiIsImZ1bmN0aW9uTmFtZU1hdGNoIiwiYUZ1bmMiLCJnZXRGdW5jTmFtZSIsInByb3BlcnR5R2V0dGVyIiwibmV3QXNzZXJ0aW9uIiwibWV0aG9kV3JhcHBlciIsIl9nZXQiLCJvdmVyd3JpdGluZ1Byb3BlcnR5R2V0dGVyIiwib3JpZ0xvY2tTc2ZpIiwiX21ldGhvZCIsIm92ZXJ3cml0aW5nTWV0aG9kV3JhcHBlciIsImNhblNldFByb3RvdHlwZSIsInNldFByb3RvdHlwZU9mIiwidGVzdEZuIiwiZXhjbHVkZU5hbWVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInByb3BEZXNjIiwiY2hhaW5hYmxlQmVoYXZpb3IiLCJfX21ldGhvZHMiLCJjaGFpbmFibGVNZXRob2RXcmFwcGVyIiwiYXNzZXJ0ZXJOYW1lcyIsImFzc2VydGVyTmFtZSIsInBkIiwiX2NoYWluaW5nQmVoYXZpb3IiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW0iLCJ0aHJvd24iLCJlcnJNYXRjaGVyIiwiY29tcGFyaXNvblN0cmluZyIsImNvbnN0cnVjdG9yRm4iLCJjb25zdHJ1Y3Rvck5hbWUiLCJnZXRGdW5jdGlvbk5hbWUiLCJidWlsdGlucyIsIm5vbkNoYWluYWJsZU1ldGhvZE5hbWUiLCJQcm94eSIsIlJlZmxlY3QiLCJzdWdnZXN0aW9uIiwic3VnZ2VzdGlvbkRpc3RhbmNlIiwiZGlzdCIsInN0cmluZ0Rpc3RhbmNlQ2FwcGVkIiwicHJveHlHZXR0ZXIiLCJzdHJBIiwic3RyQiIsImNhcCIsIm1lbW8iLCJmaWxsIiwiY2giLCJmbkxlbmd0aERlc2MiLCJhc3NlcnRpb25OYW1lIiwiaXNDaGFpbmFibGUiLCJwcm90byJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7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QkFBNEJvMUIsZ0JBQWdCLGlCQUN0RCxnQ0FBZ0NBLGdCQUFnQjs7O0FBSXRELE9BQU94cEI7Ozs7O0FDMURULElBQUk1a0IsU0FBUztBQW1CYnFiLE9BQU9DLFVBQVUsMEJBQTBCO0FBQ3pDLE9BQU90YixPQUFPNjBCLFlBQ1osT0FBT3lZLFVBQVUsZUFDakIsT0FBT0MsWUFBWTs7Ozs7QUNKdkIsZUFBZXBwQyxPQUFPO0FBR3BCLE9BQU9BLFVBQVVBOztBQUluQmtYLE9BQU9DLFVBQVVxUyxPQUFPMVcsU0FBU0E7Ozs7QUNOakNvRSxPQUFPQyxVQUFVLHVCQUF1Qm5QLFFBQVE7QUFDOUMsSUFBSThGLFNBQVN6TyxPQUFPMm9DLG9CQUFvQmhnQztBQUV4QyxxQkFBcUJ5RixVQUFVO0FBQzdCLElBQUlLLE9BQU9qUSxRQUFRNFAsY0FBYyxDQUFDLEdBQUc7QUFDbkNLLE9BQU9yTyxLQUFLZ087OztBQUloQixJQUFJMDhCLFFBQVE5cUMsT0FBTzhsQixlQUFlbmQ7QUFDbEMsT0FBT21pQyxVQUFVLE1BQU07QUFDckI5cUMsT0FBTzJvQyxvQkFBb0JtQyxPQUFPcHRDLFFBQVFrZDtBQUMxQ2t3QixRQUFROXFDLE9BQU84bEIsZUFBZWdsQjs7QUFHaEMsT0FBT3I4Qjs7Ozs7QUNmVG9KLE9BQU9DLFVBQVUsaUNBQWlDblAsUUFBUTtBQUN4RCxJQUFJOEYsU0FBUztBQUNiLFNBQVMxTixRQUFRNEgsUUFBUTtBQUN2QjhGLE9BQU9yTyxLQUFLVzs7QUFFZCxPQUFPME4iLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiQFBvcHVwID0gd2luZG93LnF1aWNrcG9wdXBcbkBET00gPSBpbXBvcnQgJ3F1aWNrZG9tJ1xuaGVscGVycyA9IGltcG9ydCAnLi9oZWxwZXJzJ1xuY2hhaSA9IGltcG9ydCAnY2hhaSdcbmNoYWkudXNlKGltcG9ydCAnY2hhaS1kb20nKVxuY2hhaS51c2UoaW1wb3J0ICdjaGFpLXN0eWxlJylcbmNoYWkudXNlKGltcG9ydCAnY2hhaS1hbG1vc3QnKVxuY2hhaS51c2UoaW1wb3J0ICdjaGFpLWFzc2VydHR5cGUnKVxuY2hhaS51c2UoaW1wb3J0ICdjaGFpLWV2ZW50cycpXG5tb2NoYS5zZXR1cCgndGRkJylcbm1vY2hhLnNsb3coNDAwKVxubW9jaGEudGltZW91dCg2MDAwKVxubW9jaGEuYmFpbCgpIHVubGVzcyB3aW5kb3cuX19rYXJtYV9fXG5leHBlY3QgPSBjaGFpLmV4cGVjdFxuYXNzZXJ0ID0gY2hhaS5hc3NlcnRcbkBzYW5kYm94ID0gbnVsbFxuXG5cblxuc3VpdGUgXCJRdWlja1BvcHVwXCIsICgpLT5cblx0c2V0dXAoaGVscGVycy5yZXN0YXJ0U2FuZGJveClcblx0dGVhcmRvd24oUG9wdXAuZGVzdHJveUFsbClcblxuXHR0ZXN0IFwiVmVyc2lvbiBQcm9wZXJ0eVwiLCAoKS0+XG5cdFx0cGFja2FnZVZlcnNpb24gPSAoaW1wb3J0ICcuLi9wYWNrYWdlICQgdmVyc2lvbicpXG5cdFx0ZXhwZWN0KFBvcHVwLnZlcnNpb24pLnRvLmVxdWFsKHBhY2thZ2VWZXJzaW9uKVxuXG5cblx0c3VpdGUgXCJpbnN0YW5jZVwiLCAoKS0+XG5cdFx0dGVzdCBcInNob3VsZCBiZSBhbiBldmVudCBlbWl0dGVyXCIsICgpLT5cblx0XHRcdHBvcHVwID0gUG9wdXAoKVxuXHRcdFx0YXNzZXJ0LmVxdWFsIHR5cGVvZiBwb3B1cC5vbiwgJ2Z1bmN0aW9uJ1xuXHRcdFx0YXNzZXJ0LmVxdWFsIHR5cGVvZiBwb3B1cC5vZmYsICdmdW5jdGlvbidcblx0XHRcdGFzc2VydC5lcXVhbCB0eXBlb2YgcG9wdXAuZW1pdCwgJ2Z1bmN0aW9uJ1xuXHRcdFx0UHJvbWlzZS5kZWxheSgpLnRoZW4gKCktPiBwb3B1cC5lbWl0ICdzb21lRXZlbnQnXG5cdFx0XHRleHBlY3QocG9wdXApLnRvLmVtaXQgJ3NvbWVFdmVudCdcblxuXG5cdFx0c3VpdGUgXCJhcmdzXCIsICgpLT5cblx0XHRcdHRlc3QgXCJ1c2luZyBubyBhcmdzXCIsICgpLT5cblx0XHRcdFx0cG9wdXAgPSBQb3B1cCgpXG5cdFx0XHRcdHBvcHVwID0gbmV3IFBvcHVwKClcblx0XHRcdFx0YXNzZXJ0IHBvcHVwIG5vdCBpbnN0YW5jZW9mIFBvcHVwXG5cdFx0XHRcdGFzc2VydC5lcXVhbCB0eXBlb2YgcG9wdXAsICdvYmplY3QnXG5cdFx0XHRcdGFzc2VydC5lcXVhbCB0eXBlb2YgcG9wdXAub3BlbiwgJ2Z1bmN0aW9uJ1xuXHRcdFx0XHRhc3NlcnQuZXF1YWwgcG9wdXAuZWwudGV4dCwgJydcblxuXG5cdFx0XHR0ZXN0IFwid2l0aCBzdHJpbmcgYXJnXCIsICgpLT5cblx0XHRcdFx0cG9wdXAgPSBQb3B1cCgncHJvdmlkZWQgc3RyaW5nJylcblx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwLmVsLnRleHQsICdwcm92aWRlZCBzdHJpbmcnXG5cblxuXHRcdFx0dGVzdCBcIndpdGggaHRtbCBzdHJpbmcgYXJnXCIsICgpLT5cblx0XHRcdFx0cG9wdXAgPSBQb3B1cCgnPGIgY2xhc3M9XCJ0aGVCb2xkT25lXCI+cHJvdmlkZWQgc3RyaW5nPC9iPjxpIGNsYXNzPVwidGhlU2xhbnRlZE9uZVwiPiBpcyBzbGFudGVkPC9iPicpXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cC5lbC50ZXh0LCAncHJvdmlkZWQgc3RyaW5nIGlzIHNsYW50ZWQnXG5cdFx0XHRcdFxuXHRcdFx0XHRjb250ZW50cyA9IHBvcHVwLmVsLmNoaWxkLmNvbnRlbnQubGFzdENoaWxkLmNoaWxkcmVuXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBjb250ZW50cy5sZW5ndGgsIDJcblx0XHRcdFx0YXNzZXJ0LmVxdWFsIGNvbnRlbnRzWzBdLnR5cGUsICdiJ1xuXHRcdFx0XHRhc3NlcnQuZXF1YWwgY29udGVudHNbMV0udHlwZSwgJ2knXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBjb250ZW50c1swXS5yYXcuY2xhc3NOYW1lLCAndGhlQm9sZE9uZSdcblx0XHRcdFx0YXNzZXJ0LmVxdWFsIGNvbnRlbnRzWzFdLnJhdy5jbGFzc05hbWUsICd0aGVTbGFudGVkT25lJ1xuXG5cblx0XHRcdHRlc3QgXCJ3aXRoIERPTSBlbGVtZW50IGFyZ1wiLCAoKS0+XG5cdFx0XHRcdHNwYW4gPSBET00uc3BhbihjbGFzczonYWJjMTIzLWNoaWxkJywgJ3Byb3ZpZGVkIGVsJylcblx0XHRcdFx0ZGl2ID0gRE9NLmRpdihjbGFzczonYWJjMTIzJywgc3Bhbilcblx0XHRcdFx0cG9wdXAgPSBQb3B1cChkaXYucmF3KVxuXHRcdFx0XHRhc3NlcnQuZXF1YWwgcG9wdXAuZWwudGV4dCwgJ3Byb3ZpZGVkIGVsJ1xuXHRcdFx0XHRcblx0XHRcdFx0Y29udGVudHMgPSBwb3B1cC5lbC5jaGlsZC5jb250ZW50LmNoaWxkcmVuXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBjb250ZW50cy5sZW5ndGgsIDFcblx0XHRcdFx0YXNzZXJ0LmVxdWFsIGNvbnRlbnRzWzBdLnR5cGUsICdkaXYnXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBjb250ZW50c1swXS5yYXcuY2xhc3NOYW1lLCAnYWJjMTIzJ1xuXHRcdFx0XHRhc3NlcnQuZXF1YWwgY29udGVudHNbMF0sIGRpdlxuXHRcdFx0XHRhc3NlcnQuZXF1YWwgY29udGVudHNbMF0uY2hpbGRyZW5bMF0sIHNwYW5cblxuXG5cdFx0XHR0ZXN0IFwid2l0aCBRdWlja0RPTSBlbGVtZW50IGFyZ1wiLCAoKS0+XG5cdFx0XHRcdHNwYW4gPSBET00uc3BhbihjbGFzczonYWJjMTIzLWNoaWxkJywgJ3Byb3ZpZGVkIGVsJylcblx0XHRcdFx0ZGl2ID0gRE9NLmRpdihjbGFzczonYWJjMTIzJywgc3Bhbilcblx0XHRcdFx0cG9wdXAgPSBQb3B1cChkaXYpXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cC5lbC50ZXh0LCAncHJvdmlkZWQgZWwnXG5cdFx0XHRcdFxuXHRcdFx0XHRjb250ZW50cyA9IHBvcHVwLmVsLmNoaWxkLmNvbnRlbnQuY2hpbGRyZW5cblx0XHRcdFx0YXNzZXJ0LmVxdWFsIGNvbnRlbnRzLmxlbmd0aCwgMVxuXHRcdFx0XHRhc3NlcnQuZXF1YWwgY29udGVudHNbMF0udHlwZSwgJ2Rpdidcblx0XHRcdFx0YXNzZXJ0LmVxdWFsIGNvbnRlbnRzWzBdLnJhdy5jbGFzc05hbWUsICdhYmMxMjMnXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBjb250ZW50c1swXSwgZGl2XG5cdFx0XHRcdGFzc2VydC5lcXVhbCBjb250ZW50c1swXS5jaGlsZHJlblswXSwgc3BhblxuXG5cblx0XHRcdHRlc3QgXCJ3aXRoIHNldHRpbmdzIGFyZ1wiLCAoKS0+XG5cdFx0XHRcdHBvcHVwQSA9IFBvcHVwKHt9KVxuXHRcdFx0XHRwb3B1cEIgPSBQb3B1cCh7cGxhY2VtZW50Oidib3R0b20nfSlcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwQS5zZXR0aW5ncy5wbGFjZW1lbnQsICdjZW50ZXInXG5cdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEIuc2V0dGluZ3MucGxhY2VtZW50LCAnYm90dG9tJ1xuXG5cblx0c3VpdGUgXCJiZWhhdmlvclwiLCAoKS0+XG5cdFx0dGVzdCBcInNob3VsZCBjcmVhdGUgYSB3cmFwcGVyIGVsZW1lbnQgYXJvdW5kIGJvZHkgY29udGVudHNcIiwgKCktPlxuXHRcdFx0YXNzZXJ0LmVxdWFsIHR5cGVvZiBET00ucXVlcnkoJyNib2R5V3JhcHBlcicpLCAndW5kZWZpbmVkJ1xuXHRcdFx0Ym9keUNoaWxkcmVuID0gRE9NKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuLnNsaWNlKClcblxuXHRcdFx0cG9wdXAgPSBQb3B1cCgpXG5cdFx0XHRhc3NlcnQuZXF1YWwgdHlwZW9mIERPTS5xdWVyeSgnI2JvZHlXcmFwcGVyJyksICdvYmplY3QnXG5cdFx0XHRhc3NlcnQuZXF1YWwgRE9NLnF1ZXJ5KCcjYm9keVdyYXBwZXInKS5wYXJlbnQsIERPTShkb2N1bWVudC5ib2R5KVxuXHRcdFx0YXNzZXJ0LmVxdWFsIERPTShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbi5sZW5ndGgsIDJcblx0XHRcdGFzc2VydC5lcXVhbCBET00ucXVlcnkoJyNib2R5V3JhcHBlcicpLmNoaWxkcmVuLmxlbmd0aCwgYm9keUNoaWxkcmVuLmxlbmd0aFxuXHRcdFx0XG5cdFx0XHRQb3B1cC51bndyYXBCb2R5KClcblx0XHRcdGFzc2VydC5lcXVhbCB0eXBlb2YgRE9NLnF1ZXJ5KCcjYm9keVdyYXBwZXInKSwgJ3VuZGVmaW5lZCdcblx0XHRcdGFzc2VydC5lcXVhbCBET00oZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4ubGVuZ3RoLCBib2R5Q2hpbGRyZW4ubGVuZ3RoKzFcblxuXHRcdFx0cG9wdXAuZGVzdHJveSgpXG5cdFx0XHRhc3NlcnQuZXF1YWwgRE9NKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuLmxlbmd0aCwgYm9keUNoaWxkcmVuLmxlbmd0aFxuXHRcdFx0XG5cdFx0XHRwb3B1cCA9IFBvcHVwKClcblx0XHRcdGFzc2VydC5lcXVhbCBET00oZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4ubGVuZ3RoLCAyXG5cdFx0XHRhc3NlcnQuZXF1YWwgRE9NLnF1ZXJ5KCcjYm9keVdyYXBwZXInKS5jaGlsZHJlbi5sZW5ndGgsIGJvZHlDaGlsZHJlbi5sZW5ndGhcblxuXHRcdHRlc3QgXCJQb3B1cC5jb25maWcoKSB3aWxsIHJldHVybiBhIG5ldyBjb25zdHJ1Y3RvciB3aXRoIGN1c3RvbWl6ZWQgc2V0dGluZyBkZWZhdWx0cyAmIHRlbXBsYXRlc1wiLCAoKS0+XG5cdFx0XHRQb3B1cDIgPSBQb3B1cC5jb25maWcoe2FuaW1hdGlvbjoxMDB9KVxuXHRcdFx0YXNzZXJ0Lm5vdEVxdWFsIFBvcHVwMiwgUG9wdXBcblx0XHRcdGFzc2VydC5lcXVhbCBQb3B1cDIuZGVmYXVsdHMuYW5pbWF0aW9uLCAxMDBcblx0XHRcdGFzc2VydC5ub3RFcXVhbCBQb3B1cC5kZWZhdWx0cy5hbmltYXRpb24sIDEwMFxuXHRcdFx0UG9wdXAoKVxuXHRcdFx0UG9wdXAyKClcblxuXG5cdHN1aXRlIFwib3Blbi9jbG9zZVwiLCAoKS0+XG5cdFx0c3VpdGVTZXR1cCAoKS0+IEBQb3B1cCA9IFBvcHVwLmNvbmZpZyh7YW5pbWF0aW9uOjUwfSlcblx0XHR0ZXN0IFwid2lsbCByZXR1cm4gcHJvbWlzZXMgdGhhdCByZXNvbHZlIHdoZW4gYW5pbWF0aW9uIGVuZHNcIiwgKCktPlxuXHRcdFx0Y29udGVudCA9IERPTS5kaXYobnVsbCwgJ2FiYzEyMycpXG5cdFx0XHRwb3B1cCA9IEBQb3B1cChjb250ZW50KVxuXHRcdFx0c3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuXHRcdFx0b3BlblRpbWUgPSBudWxsXG5cblx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cC5zdGF0ZS5vcGVuLCBmYWxzZVxuXG5cdFx0XHRvcGVuUHJvbWlzZSA9IHBvcHVwLm9wZW4oKVxuXHRcdFx0YXNzZXJ0Lm9rIG9wZW5Qcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZVxuXHRcdFx0YXNzZXJ0Lm9rIG9wZW5Qcm9taXNlLmlzUGVuZGluZygpXG5cblx0XHRcdFByb21pc2UuYmluZChAKVxuXHRcdFx0XHQudGhlbiAoKS0+IG9wZW5Qcm9taXNlXG5cdFx0XHRcdC50aGVuICgpLT5cblx0XHRcdFx0XHRvcGVuVGltZSA9IERhdGUubm93KClcblx0XHRcdFx0XHRhc3NlcnQuaXNBdExlYXN0IG9wZW5UaW1lLXN0YXJ0VGltZSwgQFBvcHVwLmRlZmF1bHRzLmFuaW1hdGlvbi8yXG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwLnN0YXRlLm9wZW4sIHRydWVcblxuXHRcdFx0XHQudGhlbiAoKS0+IHBvcHVwLmNsb3NlKClcblx0XHRcdFx0LnRoZW4gKCktPlxuXHRcdFx0XHRcdGFzc2VydC5pc0F0TGVhc3QgRGF0ZS5ub3coKS1vcGVuVGltZSwgQFBvcHVwLmRlZmF1bHRzLmFuaW1hdGlvbi8yXG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwLnN0YXRlLm9wZW4sIGZhbHNlXG5cblxuXHRcdHRlc3QgXCJ3aWxsIGVtaXQgZXZlbnRzIGJlZm9yZS9wcmVzZW50L2ZpbmlzaCBmb3Igb3Blbi9jbG9zZVwiLCAoKS0+XG5cdFx0XHRwb3B1cCA9IEBQb3B1cCgpXG5cdFx0XHRldmVudHMgPSBbJ2JlZm9yZW9wZW4nLCdvcGVuJywnZmluaXNob3BlbicsJ2JlZm9yZWNsb3NlJywnY2xvc2UnLCdmaW5pc2hjbG9zZSddXG5cdFx0XHRjb3VudCA9IHt9XG5cdFx0XHRldmVudHMuZm9yRWFjaCAoZXZlbnQpLT5cblx0XHRcdFx0Y291bnRbZXZlbnRdID0gMFxuXHRcdFx0XHRwb3B1cC5vbiBldmVudCwgKCktPiBjb3VudFtldmVudF0rK1xuXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0XHQudGhlbiAoKS0+IGFzc2VydC5kZWVwRXF1YWwgY291bnQsIHtiZWZvcmVvcGVuOjAsIG9wZW46MCwgZmluaXNob3BlbjowLCBiZWZvcmVjbG9zZTowLCBjbG9zZTowLCBmaW5pc2hjbG9zZTowfVxuXHRcdFx0XHQudGhlbiAoKS0+IHBvcHVwLm9wZW4oKVxuXHRcdFx0XHQudGhlbiAoKS0+IGFzc2VydC5kZWVwRXF1YWwgY291bnQsIHtiZWZvcmVvcGVuOjEsIG9wZW46MSwgZmluaXNob3BlbjoxLCBiZWZvcmVjbG9zZTowLCBjbG9zZTowLCBmaW5pc2hjbG9zZTowfVxuXHRcdFx0XHQudGhlbiAoKS0+IHBvcHVwLmNsb3NlKClcblx0XHRcdFx0LnRoZW4gKCktPiBhc3NlcnQuZGVlcEVxdWFsIGNvdW50LCB7YmVmb3Jlb3BlbjoxLCBvcGVuOjEsIGZpbmlzaG9wZW46MSwgYmVmb3JlY2xvc2U6MSwgY2xvc2U6MSwgZmluaXNoY2xvc2U6MX1cblxuXG5cdFx0dGVzdCBcIndpbGwgZmFpbCB0byBvcGVuIGlmIGFub3RoZXIgcG9wdXAgaXMgb3BlblwiLCAoKS0+XG5cdFx0XHRwb3B1cEEgPSBAUG9wdXAoKVxuXHRcdFx0cG9wdXBCID0gQFBvcHVwKClcblxuXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcblx0XHRcdFx0LnRoZW4gKCktPlxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEEuc3RhdGUub3BlbiwgZmFsc2Vcblx0XHRcdFx0XHRhc3NlcnQuZXF1YWwgcG9wdXBCLnN0YXRlLm9wZW4sIGZhbHNlXG5cdFx0XHRcdFxuXHRcdFx0XHQudGhlbiAoKS0+IHBvcHVwQS5vcGVuKClcblx0XHRcdFx0LnRoZW4gKCktPlxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEEuc3RhdGUub3BlbiwgdHJ1ZVxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEIuc3RhdGUub3BlbiwgZmFsc2VcblxuXHRcdFx0XHQudGhlbiAoKS0+IHBvcHVwQi5vcGVuKClcblx0XHRcdFx0LnRoZW4gKCktPlxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEEuc3RhdGUub3BlbiwgdHJ1ZVxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEIuc3RhdGUub3BlbiwgZmFsc2VcblxuXG5cdFx0dGVzdCBcIndpbGwgY2xvc2UgYWxsIG90aGVyIG9wZW4gcG9wdXBzIGFuZCB3aWxsIGZvcmNlIG9wZW4gd2hlbiBvcHRpb25zLmZvcmNlT3BlblwiLCAoKS0+XG5cdFx0XHRwb3B1cEEgPSBAUG9wdXAoKVxuXHRcdFx0cG9wdXBCID0gQFBvcHVwKGZvcmNlT3Blbjp0cnVlKVxuXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0XHQudGhlbiAoKS0+XG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwQS5zdGF0ZS5vcGVuLCBmYWxzZVxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEIuc3RhdGUub3BlbiwgZmFsc2Vcblx0XHRcdFx0XG5cdFx0XHRcdC50aGVuICgpLT4gcG9wdXBBLm9wZW4oKVxuXHRcdFx0XHQudGhlbiAoKS0+XG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwQS5zdGF0ZS5vcGVuLCB0cnVlXG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwQi5zdGF0ZS5vcGVuLCBmYWxzZVxuXG5cdFx0XHRcdC50aGVuICgpLT4gcG9wdXBCLm9wZW4oKVxuXHRcdFx0XHQudGhlbiAoKS0+XG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwQS5zdGF0ZS5vcGVuLCBmYWxzZVxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEIuc3RhdGUub3BlbiwgdHJ1ZVxuXG5cdFx0XHRcdC50aGVuICgpLT4gcG9wdXBBLm9wZW4oKVxuXHRcdFx0XHQudGhlbiAoKS0+XG5cdFx0XHRcdFx0YXNzZXJ0LmVxdWFsIHBvcHVwQS5zdGF0ZS5vcGVuLCBmYWxzZVxuXHRcdFx0XHRcdGFzc2VydC5lcXVhbCBwb3B1cEIuc3RhdGUub3BlbiwgdHJ1ZVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwie1xuICBcIm5hbWVcIjogXCJxdWlja3BvcHVwXCIsXG4gIFwidmVyc2lvblwiOiBcIjEuMC4wXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJGYXN0ICYgbGlnaHQgbW9kYWwgcG9wdXAgY3JlYXRvciBwcm92aWRpbmcgcmljaCBjb25maWd1cmF0aW9uIGFuZCBzdHlsaW5nXCIsXG4gIFwibWFpblwiOiBcImRpc3QvcXVpY2twb3B1cC5qc1wiLFxuICBcImJyb3dzZXJcIjoge1xuICAgIFwiLi9kZWJ1Z1wiOiBcImRpc3QvcXVpY2twb3B1cC5kZWJ1Zy5qc1wiLFxuICAgIFwiLi9kaXN0L3F1aWNrcG9wdXAuanNcIjogXCJzcmMvaW5kZXguY29mZmVlXCJcbiAgfSxcbiAgXCJicm93c2VyaWZ5XCI6IHtcbiAgICBcInRyYW5zZm9ybVwiOiBbXG4gICAgICBcInNpbXBseWltcG9ydC9jb21wYXRcIlxuICAgIF1cbiAgfSxcbiAgXCJzaW1wbHlpbXBvcnRcIjoge1xuICAgIFwiZmluYWxUcmFuc2Zvcm1cIjogW1xuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXN1cGVyXCIsXG4gICAgICBcIi5jb25maWcvdHJhbnNmb3Jtcy9taW5pZnktcmVuYW1lXCIsXG4gICAgICBcIi5jb25maWcvdHJhbnNmb3Jtcy9taW5pZnktc2ltcGxlXCJcbiAgICBdXG4gIH0sXG4gIFwiZGlyZWN0b3JpZXNcIjoge1xuICAgIFwidGVzdFwiOiBcInRlc3RcIlxuICB9LFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwicG9zdHZlcnNpb25cIjogXCJucG0gcnVuIGJ1aWxkICYmIGdpdCBhZGQgLiAmJiBnaXQgY29tbWl0IC1hIC1tICdbQnVpbGRdJ1wiLFxuICAgIFwicHJlcHVibGlzaE9ubHlcIjogXCJucG0gcnVuIHRlc3RcIixcbiAgICBcInBvc3RwdWJsaXNoXCI6IFwiZ2l0IHB1c2hcIixcbiAgICBcIndhdGNoXCI6IFwiY2FrZSAtZCB3YXRjaFwiLFxuICAgIFwiYnVpbGRcIjogXCJjYWtlIC1kIGJ1aWxkICYmIGNha2UgYnVpbGQgJiYgY2FrZSBtZWFzdXJlICYmIGNwIC1yIGJ1aWxkLyogZGlzdC9cIixcbiAgICBcInRlc3RcIjogXCJucG0gcnVuIHRlc3Q6YnJvd3NlciAtcyB8fCB0cnVlXCIsXG4gICAgXCJ0ZXN0OnRyYXZpc1wiOiBcIm5wbSBydW4gdGVzdDpicm93c2VyIC1zICYmIG5wbSBydW4gdGVzdDptaW5pZmllZCAtc1wiLFxuICAgIFwidGVzdDpsb2NhbFwiOiBcIm9wZW4gdGVzdC90ZXN0cnVubmVyLmh0bWxcIixcbiAgICBcInRlc3Q6bWluaWZpZWRcIjogXCJtaW5pZmllZD0xIG5wbSBydW4gdGVzdDpicm93c2VyIC1zIHx8IHRydWVcIixcbiAgICBcInRlc3Q6a2FybWFcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsgICBrYXJtYSBzdGFydCAuY29uZmlnL2thcm1hLmNvbmYuY29mZmVlXCIsXG4gICAgXCJ0ZXN0OmJyb3dzZXJcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsga2FybWEgc3RhcnQgLS1zaW5nbGUtcnVuIC0tYnJvd3NlcnMgRWxlY3Ryb24gLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDpjaHJvbWVcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsgIGthcm1hIHN0YXJ0IC0tc2luZ2xlLXJ1biAtLWJyb3dzZXJzIENocm9tZSAuY29uZmlnL2thcm1hLmNvbmYuY29mZmVlXCIsXG4gICAgXCJ0ZXN0OmZpcmVmb3hcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsga2FybWEgc3RhcnQgLS1zaW5nbGUtcnVuIC0tYnJvd3NlcnMgRmlyZWZveCAuY29uZmlnL2thcm1hLmNvbmYuY29mZmVlXCIsXG4gICAgXCJ0ZXN0OnNhZmFyaVwiOiBcImNha2UgaW5zdGFsbDp0ZXN0OyAga2FybWEgc3RhcnQgLS1zaW5nbGUtcnVuIC0tYnJvd3NlcnMgU2FmYXJpIC5jb25maWcva2FybWEuY29uZi5jb2ZmZWVcIixcbiAgICBcInRlc3Q6c2F1Y2VcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsgICBzYXVjZT0xIGthcm1hIHN0YXJ0IC5jb25maWcva2FybWEuY29uZi5jb2ZmZWVcIixcbiAgICBcImNvdmVyYWdlXCI6IFwiY2FrZSBpbnN0YWxsOmNvdmVyYWdlOyBucG0gcnVuIGNvdmVyYWdlOnJ1biAmJiBucG0gcnVuIGNvdmVyYWdlOmJhZGdlXCIsXG4gICAgXCJjb3ZlcmFnZTpydW5cIjogXCJjb3ZlcmFnZT10cnVlIG5wbSBydW4gdGVzdDplbGVjdHJvblwiLFxuICAgIFwiY292ZXJhZ2U6YmFkZ2VcIjogXCJiYWRnZS1nZW4gLWQgLi8uY29uZmlnL2JhZGdlcy9jb3ZlcmFnZVwiLFxuICAgIFwiY292ZXJhZ2U6c2hvd1wiOiBcIm9wZW4gY292ZXJhZ2UvbGNvdi1yZXBvcnQvaW5kZXguaHRtbFwiXG4gIH0sXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3F1aWNrcG9wdXAuZ2l0XCJcbiAgfSxcbiAgXCJhdXRob3JcIjogXCJkYW5pZWxrYWxlblwiLFxuICBcImxpY2Vuc2VcIjogXCJJU0NcIixcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9xdWlja3BvcHVwL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vcXVpY2twb3B1cCNyZWFkbWVcIixcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQGRhbmllbGthbGVuL2lzXCI6IFwiXjIuMC4wXCIsXG4gICAgXCJkZXRlY3QtYW5pbWF0aW9uLWVuZC1oZWxwZXJcIjogXCJeMC4xLjBcIixcbiAgICBcImV2ZW50LWxpdGVcIjogXCJeMC4xLjFcIixcbiAgICBcInAtZXZlbnRcIjogXCJeMS4zLjBcIixcbiAgICBcInByb21pc2UtYnJlYWtcIjogXCJeMC4xLjJcIixcbiAgICBcInF1aWNrZG9tXCI6IFwiXjEuMC43N1wiLFxuICAgIFwic21hcnQtZXh0ZW5kXCI6IFwiXjEuNy4zXCJcbiAgfSxcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYmx1ZWJpcmRcIjogXCJeMy41LjBcIixcbiAgICBcImNoYWxrXCI6IFwiXjIuMC4xXCIsXG4gICAgXCJjb2ZmZWUtc2NyaXB0XCI6IFwiXjEuMTIuNlwiLFxuICAgIFwiZnMtamV0cGFja1wiOiBcIl4wLjEzLjNcIixcbiAgICBcInBhY2thZ2UtaW5zdGFsbFwiOiBcIl4xLjAuMFwiXG4gIH1cbn1cbiIsIiMjIyBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAjIyNcbmltcG9ydCAqIGFzIENTUyBmcm9tICdxdWlja2NzcydcbiMjIyBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAjIyNcbmltcG9ydCAqIGFzIGV4dGVuZCBmcm9tICdzbWFydC1leHRlbmQnXG5pbXBvcnQgJy4vcGFydHMvYWxsb3dlZE9wdGlvbnMnXG5pbXBvcnQgJy4vcGFydHMvaGVscGVycydcbmltcG9ydCAnLi9wYXJ0cy9jaGVja3MnXG5pbXBvcnQgJy4vcGFydHMvZWxlbWVudCdcbmltcG9ydCAnLi9wYXJ0cy93aW5kb3cnXG5pbXBvcnQgJy4vcGFydHMvbWVkaWFRdWVyeSdcblxuUXVpY2tEb20gPSAoKS0+XG5cdGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aClcblx0YXJnc1tpXSA9IGFyZyBmb3IgYXJnLGkgaW4gYXJndW1lbnRzXG5cdHByZXZDb3VudCA9IFF1aWNrRWxlbWVudC5jb3VudFxuXHRlbGVtZW50ID0gUXVpY2tEb20uY3JlYXRlKGFyZ3MpXG5cdGVsZW1lbnQuX3Bvc3RDcmVhdGlvbigpIGlmIGVsZW1lbnQgYW5kIGVsZW1lbnQuX3Bvc3RDcmVhdGlvbiBhbmQgUXVpY2tFbGVtZW50LmNvdW50IGlzbnQgcHJldkNvdW50XG5cdHJldHVybiBlbGVtZW50XG5cblF1aWNrRG9tLmNyZWF0ZSA9IChhcmdzKS0+IHN3aXRjaFxuXHR3aGVuIElTLmFycmF5KGFyZ3NbMF0pXG5cdFx0cmV0dXJuIFF1aWNrRG9tKGFyZ3NbMF0uLi4pXG5cdFxuXHR3aGVuIElTLnRlbXBsYXRlKGFyZ3NbMF0pXG5cdFx0cmV0dXJuIGFyZ3NbMF0uc3Bhd24oKVxuXHRcblx0d2hlbiBJUy5xdWlja0RvbUVsKGFyZ3NbMF0pXG5cdFx0cmV0dXJuIGlmIGFyZ3NbMV0gdGhlbiBhcmdzWzBdLnVwZGF0ZU9wdGlvbnMoYXJnc1sxXSkgZWxzZSBhcmdzWzBdXG5cdFxuXHR3aGVuIElTLmRvbU5vZGUoYXJnc1swXSkgb3IgSVMuZG9tRG9jKGFyZ3NbMF0pXG5cdFx0aWYgYXJnc1swXS5fcXVpY2tFbGVtZW50XG5cdFx0XHRyZXR1cm4gYXJnc1swXS5fcXVpY2tFbGVtZW50XG5cdFx0XG5cdFx0dHlwZSA9IGFyZ3NbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCcjJywgJycpXG5cdFx0b3B0aW9ucyA9IGFyZ3NbMV0gb3Ige31cblx0XHRvcHRpb25zLmV4aXN0aW5nID0gYXJnc1swXVxuXHRcdHJldHVybiBuZXcgUXVpY2tFbGVtZW50KHR5cGUsIG9wdGlvbnMpXG5cblx0d2hlbiBhcmdzWzBdIGlzIHdpbmRvd1xuXHRcdHJldHVybiBRdWlja1dpbmRvd1xuXG5cdHdoZW4gSVMuc3RyaW5nKGFyZ3NbMF0pXHRcdFx0XG5cdFx0dHlwZSA9IGFyZ3NbMF0udG9Mb3dlckNhc2UoKVxuXHRcdGlmIHR5cGUgaXMgJ3RleHQnXG5cdFx0XHRvcHRpb25zID0gaWYgSVMub2JqZWN0KGFyZ3NbMV0pIHRoZW4gYXJnc1sxXSBlbHNlIHt0ZXh0OmFyZ3NbMV0gb3IgJyd9XG5cdFx0ZWxzZVxuXHRcdFx0b3B0aW9ucyA9IGlmIElTLm9iamVjdChhcmdzWzFdKSB0aGVuIGFyZ3NbMV0gZWxzZSB7fVxuXHRcdFxuXHRcdGVsZW1lbnQgPSBuZXcgUXVpY2tFbGVtZW50KHR5cGUsIG9wdGlvbnMpXG5cdFx0aWYgYXJncy5sZW5ndGggPiAyXG5cdFx0XHRjaGlsZHJlbiA9IG5ldyBBcnJheShhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgpOyBpID0gMTtcblx0XHRcdGNoaWxkcmVuW2krMV0gPSBhcmdzW2ldIHdoaWxlICsraSA8IGFyZ3NMZW5ndGhcblxuXHRcdFx0Zm9yIGNoaWxkIGluIGNoaWxkcmVuXG5cdFx0XHRcdGNoaWxkID0gUXVpY2tEb20udGV4dChjaGlsZCkgaWYgSVMuc3RyaW5nKGNoaWxkKVxuXHRcdFx0XHRjaGlsZCA9IFF1aWNrRG9tKGNoaWxkLi4uKSBpZiBJUy5hcnJheShjaGlsZClcblx0XHRcdFx0ZWxlbWVudC5hcHBlbmQoY2hpbGQpIGlmIElTLnF1aWNrRG9tRWwoY2hpbGQpXG5cblx0XHRyZXR1cm4gZWxlbWVudFxuXG5cdHdoZW4gYXJnc1swXSBhbmQgKElTLmRvbU5vZGUoYXJnc1swXVswXSkgb3IgSVMuZG9tRG9jKGFyZ3NbMF1bMF0pKVxuXHRcdHJldHVybiBRdWlja0RvbShhcmdzWzBdWzBdKVxuXG5cblF1aWNrRG9tLnRlbXBsYXRlID0gKHRyZWUpLT5cblx0bmV3IFF1aWNrVGVtcGxhdGUodHJlZSwgdHJ1ZSlcblxuXG5RdWlja0RvbS5odG1sID0gKGlubmVySFRNTCktPlxuXHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXHRjb250YWluZXIuaW5uZXJIVE1MID0gaW5uZXJIVE1MXG5cdGNoaWxkcmVuID0gQXJyYXk6OnNsaWNlLmNhbGwgY29udGFpbmVyLmNoaWxkTm9kZXNcblxuXHRyZXR1cm4gUXVpY2tEb20uYmF0Y2goY2hpbGRyZW4pXG5cblF1aWNrRG9tLnF1ZXJ5ID0gKHRhcmdldCktPlxuXHRRdWlja0RvbShkb2N1bWVudCkucXVlcnkodGFyZ2V0KVxuXG5RdWlja0RvbS5xdWVyeUFsbCA9ICh0YXJnZXQpLT5cblx0UXVpY2tEb20oZG9jdW1lbnQpLnF1ZXJ5QWxsKHRhcmdldClcblxuUXVpY2tEb20uaXNUZW1wbGF0ZSA9ICh0YXJnZXQpLT5cblx0SVMudGVtcGxhdGUodGFyZ2V0KVxuXG5RdWlja0RvbS5pc1F1aWNrRWwgPSAodGFyZ2V0KS0+XG5cdElTLnF1aWNrRG9tRWwodGFyZ2V0KVxuXG5RdWlja0RvbS5pc0VsID0gKHRhcmdldCktPlxuXHRJUy5kb21FbCh0YXJnZXQpXG5cblxuXG5cbmltcG9ydCAnLi9wYXJ0cy9iYXRjaCdcbmltcG9ydCAnLi9wYXJ0cy90ZW1wbGF0ZSdcbmltcG9ydCAnLi9wYXJ0cy9zaG9ydGN1dHMnXG5RdWlja0RvbS52ZXJzaW9uID0gaW1wb3J0ICcuLi9wYWNrYWdlLmpzb24gJCB2ZXJzaW9uJ1xuUXVpY2tEb20uQ1NTID0gQ1NTXG5tb2R1bGUuZXhwb3J0cyA9IFF1aWNrRG9tXG5cblxuXG4iLCJhbGxvd2VkVGVtcGxhdGVPcHRpb25zID0gWyAjIFRvIGNvcHkgZnJvbSBET00gRWxlbWVudHNcblx0J2lkJ1xuXHQnbmFtZSdcblx0J3R5cGUnXG5cdCdocmVmJ1xuXHQnc2VsZWN0ZWQnXG5cdCdjaGVja2VkJ1xuXHQnY2xhc3NOYW1lJ1xuXVxuXG5hbGxvd2VkT3B0aW9ucyA9IFsgIyBVc2VkIGluIFF1aWNrRWxlbWVudDo6dG9KU09OXG5cdCdpZCdcblx0J3JlZidcblx0J3R5cGUnXG5cdCduYW1lJ1xuXHQndGV4dCdcblx0J3N0eWxlJ1xuXHQnY2xhc3MnXG5cdCdjbGFzc05hbWUnXG5cdCd1cmwnXG5cdCdocmVmJ1xuXHQnc2VsZWN0ZWQnXG5cdCdjaGVja2VkJ1xuXHQncHJvcHMnXG5cdCdhdHRycydcblx0J3Bhc3NTdGF0ZVRvQ2hpbGRyZW4nXG5cdCdzdGF0ZVRyaWdnZXJzJ1xuXHQjICdyZWxhdGVkSW5zdGFuY2UnXG5dIiwiaGVscGVycyA9IHt9XG5cbmhlbHBlcnMuaW5jbHVkZXMgPSAodGFyZ2V0LCBpdGVtKS0+XG5cdHRhcmdldCBhbmQgdGFyZ2V0LmluZGV4T2YoaXRlbSkgaXNudCAtMVxuXG5oZWxwZXJzLnJlbW92ZUl0ZW0gPSAodGFyZ2V0LCBpdGVtKS0+XG5cdGl0ZW1JbmRleCA9IHRhcmdldC5pbmRleE9mKGl0ZW0pXG5cdHRhcmdldC5zcGxpY2UoaXRlbUluZGV4LCAxKSAgaWYgaXRlbUluZGV4IGlzbnQgLTFcblx0cmV0dXJuIHRhcmdldFxuXG5oZWxwZXJzLm5vcm1hbGl6ZUdpdmVuRWwgPSAodGFyZ2V0RWwpLT4gc3dpdGNoXG5cdHdoZW4gSVMuc3RyaW5nKHRhcmdldEVsKSB0aGVuIFF1aWNrRG9tLnRleHQodGFyZ2V0RWwpXG5cdHdoZW4gSVMuZG9tTm9kZSh0YXJnZXRFbCkgdGhlbiBRdWlja0RvbSh0YXJnZXRFbClcblx0d2hlbiBJUy50ZW1wbGF0ZSh0YXJnZXRFbCkgdGhlbiB0YXJnZXRFbC5zcGF3bigpXG5cdGVsc2UgdGFyZ2V0RWxcblxuXG5oZWxwZXJzLmlzU3RhdGVTdHlsZSA9IChzdHJpbmcpLT5cblx0c3RyaW5nWzBdIGlzICckJyBvciBzdHJpbmdbMF0gaXMgJ0AnXG5cblxuaGVscGVycy5yZWdpc3RlclN0eWxlID0gKHJ1bGUsIGxldmVsLCBpbXBvcnRhbnQpLT5cblx0bGV2ZWwgfHw9IDBcblx0Y2FjaGVkID0gc3R5bGVDYWNoZS5nZXQocnVsZSwgbGV2ZWwpXG5cdHJldHVybiBjYWNoZWQgaWYgY2FjaGVkXG5cdG91dHB1dCA9IHtjbGFzc05hbWU6W0NTUy5yZWdpc3RlcihydWxlLCBsZXZlbCwgaW1wb3J0YW50KV0sIGZuczpbXSwgcnVsZX1cblx0cHJvcHMgPSBPYmplY3Qua2V5cyhydWxlKVxuXHRcblx0Zm9yIHByb3AgaW4gcHJvcHMgd2hlbiB0eXBlb2YgcnVsZVtwcm9wXSBpcyAnZnVuY3Rpb24nXG5cdFx0b3V0cHV0LmZucy5wdXNoIFtwcm9wLCBydWxlW3Byb3BdXVxuXG5cdHJldHVybiBzdHlsZUNhY2hlLnNldChydWxlLCBvdXRwdXQsIGxldmVsKVxuXG5cbnN0eWxlQ2FjaGUgPSBuZXcgY2xhc3Ncblx0Y29uc3RydWN0b3I6ICgpLT5cblx0XHRAa2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbClcblx0XHRAdmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG5cdGdldDogKGtleSwgbGV2ZWwpLT4gaWYgQGtleXNbbGV2ZWxdXG5cdFx0aW5kZXggPSBAa2V5c1tsZXZlbF0uaW5kZXhPZihrZXkpXG5cdFx0cmV0dXJuIEB2YWx1ZXNbbGV2ZWxdW2luZGV4XSBpZiBpbmRleCBpc250IC0xXG5cblx0c2V0OiAoa2V5LCB2YWx1ZSwgbGV2ZWwpLT5cblx0XHRpZiBub3QgQGtleXNbbGV2ZWxdXG5cdFx0XHRAa2V5c1tsZXZlbF0gPSBbXVxuXHRcdFx0QHZhbHVlc1tsZXZlbF0gPSBbXVxuXG5cdFx0QGtleXNbbGV2ZWxdLnB1c2gga2V5XG5cdFx0QHZhbHVlc1tsZXZlbF0ucHVzaCB2YWx1ZVxuXHRcdHJldHVybiB2YWx1ZVxuXG4iLCJJUyA9IGltcG9ydCAnQGRhbmllbGthbGVuL2lzJ1xuSVMgPSBJUy5jcmVhdGUoJ25hdGl2ZXMnLCdkb20nKVxuSVMubG9hZFx0XG5cdHF1aWNrRG9tRWw6IChzdWJqZWN0KS0+IHN1YmplY3QgYW5kIHN1YmplY3QuY29uc3RydWN0b3IubmFtZSBpcyBRdWlja0VsZW1lbnQubmFtZVxuXHRcblx0dGVtcGxhdGU6IChzdWJqZWN0KS0+IHN1YmplY3QgYW5kIHN1YmplY3QuY29uc3RydWN0b3IubmFtZSBpcyBRdWlja1RlbXBsYXRlLm5hbWVcblx0XG5cdCMgYmF0Y2g6IChzdWJqZWN0KS0+IHN1YmplY3QgYW5kIHN1YmplY3QuY29uc3RydWN0b3IubmFtZSBpcyAnUXVpY2tCYXRjaCdcblxuIiwic3ZnTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1xuXG5jbGFzcyBRdWlja0VsZW1lbnRcblx0QGNvdW50ID0gMFxuXHRjb25zdHJ1Y3RvcjogKEB0eXBlLCBAb3B0aW9ucyktPlxuXHRcdFF1aWNrRWxlbWVudC5jb3VudCsrXG5cdFx0QHN2ZyA9IHRydWUgaWYgQHR5cGVbMF0gaXMgJyonXG5cdFx0QGVsID0gQG9wdGlvbnMuZXhpc3Rpbmcgb3Jcblx0XHRcdGlmIEB0eXBlIGlzICd0ZXh0JyB0aGVuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGlmIHR5cGVvZiBAb3B0aW9ucy50ZXh0IGlzICdzdHJpbmcnIHRoZW4gQG9wdGlvbnMudGV4dCBlbHNlICcnKVxuXHRcdFx0ZWxzZSBpZiBAc3ZnIHRoZW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05hbWVzcGFjZSwgQHR5cGUuc2xpY2UoMSkpXG5cdFx0XHRlbHNlIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoQHR5cGUpXG5cblx0XHRpZiBAdHlwZSBpcyAndGV4dCdcblx0XHRcdEBhcHBlbmQgPSBAcHJlcGVuZCA9IEBhdHRyID0gKCktPlxuXHRcdFx0IyBAX3RleHRzID0ge30gIyBkZWZpbmVkIGNvbmRpdGlvbmFsbHlcblxuXHRcdEBfcGFyZW50ID0gbnVsbFxuXHRcdEBfc3R5bGVzID0ge31cblx0XHRAX3N0YXRlID0gW11cblx0XHRAX2NoaWxkcmVuID0gW11cblx0XHQjIEBfcHJvdmlkZWRTdGF0ZXMgPSBbXVx0XHRcdFx0IyBkZWZpbmVkIGNvbmRpdGlvbmFsbHlcblx0XHQjIEBfcHJvdmlkZWRTdGF0ZXNTaGFyZWQgPSBbXVx0XHQjIGRlZmluZWQgY29uZGl0aW9uYWxseVxuXHRcdCMgQF9ldmVudENhbGxiYWNrcyA9IHtfX3JlZnM6e319XHQjIGRlZmluZWQgY29uZGl0aW9uYWxseVxuXHRcdFxuXHRcdEBfbm9ybWFsaXplT3B0aW9ucygpXG5cdFx0QF9hcHBseU9wdGlvbnMoKVxuXHRcdEBfYXR0YWNoU3RhdGVFdmVudHMoKVxuXHRcdEBfcHJveHlQYXJlbnQoKVxuXHRcdEBfcmVmcmVzaFBhcmVudCgpIGlmIEBvcHRpb25zLmV4aXN0aW5nXG5cdFx0QGVsLl9xdWlja0VsZW1lbnQgPSBAXG5cblxuXHR0b0pTT046ICgpLT5cblx0XHRvdXRwdXQgPSBbQHR5cGUsIGV4dGVuZC5jbG9uZS5rZXlzKGFsbG93ZWRPcHRpb25zKShAb3B0aW9ucyldXG5cdFx0Y2hpbGRyZW4gPSBAY2hpbGRyZW5cblx0XHRvdXRwdXQucHVzaChjaGlsZC50b0pTT04oKSkgZm9yIGNoaWxkIGluIGNoaWxkcmVuXG5cdFx0cmV0dXJuIG91dHB1dFxuXG4jIyMgaXN0YW5idWwgaWdub3JlIG5leHQgIyMjXG5RdWlja0VsZW1lbnQubmFtZSA/PSAnUXVpY2tFbGVtZW50J1xuXG5pbXBvcnQgJy4vYWxpYXNlcydcbmltcG9ydCAnLi90cmF2ZXJzaW5nJ1xuaW1wb3J0ICcuL2luaXQnXG5pbXBvcnQgJy4vZXZlbnRzJ1xuaW1wb3J0ICcuL3N0YXRlJ1xuaW1wb3J0ICcuL3N0eWxlJ1xuaW1wb3J0ICcuL2F0dHJpYnV0ZXMtYW5kLXByb3BlcnRpZXMnXG5pbXBvcnQgJy4vbWFuaXB1bGF0aW9uJ1xuaW1wb3J0ICcuL2FwcGxpY2F0aW9uJ1xuIiwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgUXVpY2tFbGVtZW50OjosXG5cdCdyYXcnOiBnZXQ6ICgpLT4gQGVsXG5cdCcwJzogZ2V0OiAoKS0+IEBlbFxuXHQnY3NzJzogZ2V0OiAoKS0+IEBzdHlsZVxuXHQncmVwbGFjZVdpdGgnOiBnZXQ6ICgpLT4gQHJlcGxhY2Vcblx0J3JlbW92ZUxpc3RlbmVyJzogZ2V0OiAoKS0+IEBvZmZcblxuIiwiUXVpY2tFbGVtZW50OjpwYXJlbnRzVW50aWwgPSAoZmlsdGVyKS0+XG5cdF9nZXRQYXJlbnRzKEAsIGZpbHRlcilcblxuUXVpY2tFbGVtZW50OjpwYXJlbnRNYXRjaGluZyA9IChmaWx0ZXIpLT5cblx0aWYgSVMuZnVuY3Rpb24oZmlsdGVyKSBvciBpc1JlZj1JUy5zdHJpbmcoZmlsdGVyKVxuXHRcdG5leHRQYXJlbnQgPSBAcGFyZW50XG5cdFx0d2hpbGUgbmV4dFBhcmVudFxuXHRcdFx0aWYgaXNSZWZcblx0XHRcdFx0cmV0dXJuIG5leHRQYXJlbnQgaWYgbmV4dFBhcmVudC5yZWYgaXMgZmlsdGVyXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBuZXh0UGFyZW50IGlmIGZpbHRlcihuZXh0UGFyZW50KVxuXG5cdFx0XHRuZXh0UGFyZW50ID0gbmV4dFBhcmVudC5wYXJlbnRcblx0XHRcblx0cmV0dXJuXG5cblF1aWNrRWxlbWVudDo6cXVlcnkgPSAoc2VsZWN0b3IpLT5cblx0UXVpY2tEb20gQHJhdy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuXG5RdWlja0VsZW1lbnQ6OnF1ZXJ5QWxsID0gKHNlbGVjdG9yKS0+XG5cdHJlc3VsdCA9IEByYXcucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcilcblx0b3V0cHV0ID0gW107IG91dHB1dC5wdXNoKGl0ZW0pIGZvciBpdGVtIGluIHJlc3VsdFxuXHRyZXR1cm4gbmV3IFF1aWNrQmF0Y2gob3V0cHV0KVxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgUXVpY2tFbGVtZW50OjosXG5cdCdjaGlsZHJlbic6IGdldDogKCktPlxuXHRcdGlmIEBlbC5jaGlsZE5vZGVzLmxlbmd0aCBpc250IEBfY2hpbGRyZW4ubGVuZ3RoICMgUmUtY29sbGVjdCBjaGlsZHJlblx0XG5cdFx0XHRAX2NoaWxkcmVuLmxlbmd0aCA9IDAgIyBFbXB0eSBvdXQgY2hpbGRyZW4gYXJyYXlcblx0XHRcdEBfY2hpbGRyZW4ucHVzaChRdWlja0RvbShjaGlsZCkpIGZvciBjaGlsZCBpbiBAZWwuY2hpbGROb2RlcyB3aGVuIGNoaWxkLm5vZGVUeXBlIDwgNFxuXG5cdFx0cmV0dXJuIEBfY2hpbGRyZW5cblxuXHQnZWxlbWVudENoaWxkcmVuJzogZ2V0OiAoKS0+XG5cdFx0X2ZpbHRlckVsZW1lbnRzKEBjaGlsZHJlbilcblxuXHQncGFyZW50JzogZ2V0OiAoKS0+XG5cdFx0aWYgKG5vdCBAX3BhcmVudCBvciBAX3BhcmVudC5lbCBpc250IEBlbC5wYXJlbnROb2RlKSBhbmQgbm90IElTLmRvbURvYyhAZWwucGFyZW50Tm9kZSlcblx0XHRcdEBfcGFyZW50ID0gUXVpY2tEb20oQGVsLnBhcmVudE5vZGUpXG5cblx0XHRyZXR1cm4gQF9wYXJlbnRcblxuXG5cdCdwYXJlbnRzJzogZ2V0OiAoKS0+XG5cdFx0X2dldFBhcmVudHMoQClcblxuXHQnbmV4dCc6IGdldDogKCktPlxuXHRcdFF1aWNrRG9tKEBlbC5uZXh0U2libGluZylcblx0XG5cdCduZXh0RWwnOiBnZXQ6ICgpLT5cblx0XHRRdWlja0RvbShAZWwubmV4dEVsZW1lbnRTaWJsaW5nKVxuXHRcblx0J25leHRFbEFsbCc6IGdldDogKCktPlxuXHRcdF9maWx0ZXJFbGVtZW50cyhAbmV4dEFsbClcblxuXHQnbmV4dEFsbCc6IGdldDogKCktPlxuXHRcdHNpYmxpbmdzID0gW11cblx0XHRuZXh0U2libGluZyA9IFF1aWNrRG9tKEBlbC5uZXh0U2libGluZylcblx0XHR3aGlsZSBuZXh0U2libGluZ1xuXHRcdFx0c2libGluZ3MucHVzaChuZXh0U2libGluZylcblx0XHRcdG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dFxuXG5cdFx0cmV0dXJuIHNpYmxpbmdzXG5cblx0J3ByZXYnOiBnZXQ6ICgpLT5cblx0XHRRdWlja0RvbShAZWwucHJldmlvdXNTaWJsaW5nKVxuXHRcblx0J3ByZXZFbCc6IGdldDogKCktPlxuXHRcdFF1aWNrRG9tKEBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKVxuXHRcblx0J3ByZXZFbEFsbCc6IGdldDogKCktPlxuXHRcdF9maWx0ZXJFbGVtZW50cyhAcHJldkFsbClcblxuXHQncHJldkFsbCc6IGdldDogKCktPlxuXHRcdHNpYmxpbmdzID0gW11cblx0XHRwcmV2U2libGluZyA9IFF1aWNrRG9tKEBlbC5wcmV2aW91c1NpYmxpbmcpXG5cdFx0d2hpbGUgcHJldlNpYmxpbmdcblx0XHRcdHNpYmxpbmdzLnB1c2gocHJldlNpYmxpbmcpXG5cdFx0XHRwcmV2U2libGluZyA9IHByZXZTaWJsaW5nLnByZXZcblxuXHRcdHJldHVybiBzaWJsaW5nc1xuXG5cdCdzaWJsaW5ncyc6IGdldDogKCktPlxuXHRcdEBwcmV2QWxsLnJldmVyc2UoKS5jb25jYXQoQG5leHRBbGwpXG5cblx0J2VsZW1lbnRTaWJsaW5ncyc6IGdldDogKCktPlxuXHRcdF9maWx0ZXJFbGVtZW50cyhAc2libGluZ3MpXG5cdFxuXHQnY2hpbGQnOiBnZXQ6ICgpLT5cblx0XHRAX2NoaWxkUmVmcyBvciBfZ2V0Q2hpbGRSZWZzKEApXG5cblx0J2NoaWxkZic6IGdldDogKCktPlxuXHRcdF9nZXRDaGlsZFJlZnMoQCwgdHJ1ZSlcblxuXHQnZmlyc3RDaGlsZCc6IGdldDogKCktPlxuXHRcdEBjaGlsZHJlblswXVxuXG5cdCdsYXN0Q2hpbGQnOiBnZXQ6ICgpLT5cblx0XHRjaGlsZHJlbiA9IEBjaGlsZHJlblxuXHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aC0xXVxuXG5cdCdpbmRleCc6IGdldDogKCktPlxuXHRcdGlmIG5vdCBwYXJlbnQ9QHBhcmVudFxuXHRcdFx0cmV0dXJuIG51bGxcblx0XHRlbHNlXG5cdFx0XHRwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihAKVxuXG5cdCdpbmRleFR5cGUnOiBnZXQ6ICgpLT5cblx0XHRfZ2V0SW5kZXhCeVByb3AoQCwgJ3R5cGUnKVxuXG5cdCdpbmRleFJlZic6IGdldDogKCktPlxuXHRcdF9nZXRJbmRleEJ5UHJvcChALCAncmVmJylcblxuXG5cbl9nZXRQYXJlbnRzID0gKHRhcmdldEVsLCBmaWx0ZXIpLT5cblx0ZmlsdGVyID0gdW5kZWZpbmVkIGlmIG5vdCBJUy5mdW5jdGlvbihmaWx0ZXIpIGFuZCBub3QgaXNSZWY9SVMuc3RyaW5nKGZpbHRlcilcblx0cGFyZW50cyA9IFtdXG5cdG5leHRQYXJlbnQgPSB0YXJnZXRFbC5wYXJlbnRcblx0d2hpbGUgbmV4dFBhcmVudFxuXHRcdHBhcmVudHMucHVzaChuZXh0UGFyZW50KVxuXHRcdG5leHRQYXJlbnQgPSBuZXh0UGFyZW50LnBhcmVudFxuXHRcdGlmIGlzUmVmXG5cdFx0XHRuZXh0UGFyZW50ID0gbnVsbCBpZiBuZXh0UGFyZW50IGFuZCBuZXh0UGFyZW50LnJlZiBpcyBmaWx0ZXJcblx0XHRlbHNlIGlmIGZpbHRlclxuXHRcdFx0bmV4dFBhcmVudCA9IG51bGwgaWYgZmlsdGVyKG5leHRQYXJlbnQpXG5cblx0cmV0dXJuIHBhcmVudHNcblxuXG5fZ2V0Q2hpbGRSZWZzID0gKHRhcmdldCwgZnJlc2hDb3B5KS0+XG5cdHRhcmdldC5fY2hpbGRSZWZzID0ge30gaWYgZnJlc2hDb3B5IG9yIG5vdCB0YXJnZXQuX2NoaWxkUmVmc1xuXHRyZWZzID0gdGFyZ2V0Ll9jaGlsZFJlZnNcblx0cmVmc1t0YXJnZXQucmVmXSA9IHRhcmdldCBpZiB0YXJnZXQucmVmXG5cdGNoaWxkcmVuID0gdGFyZ2V0LmNoaWxkcmVuXG5cblx0aWYgY2hpbGRyZW4ubGVuZ3RoXG5cdFx0Zm9yIGNoaWxkIGluIGNoaWxkcmVuXG5cdFx0XHRjaGlsZFJlZnMgPSBfZ2V0Q2hpbGRSZWZzKGNoaWxkLCBmcmVzaENvcHkpXG5cdFx0XHRyZWZzW3JlZl0gfHw9IGVsIGZvciByZWYsZWwgb2YgY2hpbGRSZWZzXG5cblx0cmV0dXJuIHJlZnNcblxuXG5fZ2V0SW5kZXhCeVByb3AgPSAobWFpbiwgcHJvcCktPlxuXHRpZiBub3QgcGFyZW50PW1haW4ucGFyZW50XG5cdFx0cmV0dXJuIG51bGxcblx0ZWxzZVxuXHRcdHBhcmVudC5jaGlsZHJlblxuXHRcdFx0LmZpbHRlciAoY2hpbGQpLT4gY2hpbGRbcHJvcF0gaXMgbWFpbltwcm9wXVxuXHRcdFx0LmluZGV4T2YobWFpbilcblxuXG5fZmlsdGVyRWxlbWVudHMgPSAoYXJyYXkpLT5cblx0aWYgbm90IGFycmF5Lmxlbmd0aFxuXHRcdHJldHVybiBhcnJheVxuXHRlbHNlXG5cdFx0b3V0cHV0ID0gW11cblx0XHRvdXRwdXQucHVzaChpdGVtKSBmb3IgaXRlbSBpbiBhcnJheSB3aGVuIGl0ZW0udHlwZSBpc250ICd0ZXh0J1xuXHRcdHJldHVybiBvdXRwdXRcblxuXG5cbiIsImJhc2VTdGF0ZVRyaWdnZXJzID1cblx0J2hvdmVyJzoge29uOidtb3VzZWVudGVyJywgb2ZmOidtb3VzZWxlYXZlJywgYnViYmxlczp0cnVlfVxuXHQnZm9jdXMnOiB7b246J2ZvY3VzJywgb2ZmOidibHVyJywgYnViYmxlczp0cnVlfVxuXG5cblF1aWNrRWxlbWVudDo6X25vcm1hbGl6ZU9wdGlvbnMgPSAoKS0+XG5cdGlmIEBvcHRpb25zLnJlbGF0ZWRJbnN0YW5jZVxuXHRcdEBvcHRpb25zLnJlbGF0ZWQgfHw9IEBvcHRpb25zLnJlbGF0ZWRJbnN0YW5jZVxuXHRcdEBvcHRpb25zLnJlbGF0ZWRJbnN0YW5jZSA9IG51bGxcblx0XG5cdEByZWxhdGVkID0gQG9wdGlvbnMucmVsYXRlZCA/PSBAXG5cdEBvcHRpb25zLmNsYXNzTmFtZSA9IEBvcHRpb25zLmNsYXNzIGlmIEBvcHRpb25zLmNsYXNzXG5cdEBvcHRpb25zLmhyZWYgPSBAb3B0aW9ucy51cmwgaWYgQG9wdGlvbnMudXJsXG5cdEBvcHRpb25zLnVucGFzc2FibGVTdGF0ZXMgPz0gW11cblx0QG9wdGlvbnMucGFzc1N0YXRlVG9DaGlsZHJlbiA/PSB0cnVlXG5cdEBvcHRpb25zLnBhc3NEYXRhVG9DaGlsZHJlbiA/PSB0cnVlXG5cdEBvcHRpb25zLnN0YXRlVHJpZ2dlcnMgPVxuXHRcdGlmIEBvcHRpb25zLnN0YXRlVHJpZ2dlcnNcblx0XHRcdGV4dGVuZC5jbG9uZS5kZWVwKGJhc2VTdGF0ZVRyaWdnZXJzLCBAb3B0aW9ucy5zdGF0ZVRyaWdnZXJzKVxuXHRcdGVsc2Vcblx0XHRcdGJhc2VTdGF0ZVRyaWdnZXJzXG5cdFxuXHRpZiBAdHlwZSBpcyAndGV4dCdcblx0XHRleHRlbmQgQCwgQF9wYXJzZVRleHRzKEBvcHRpb25zLnRleHQsIEBfdGV4dHMpXG5cdGVsc2Vcblx0XHRleHRlbmQgQCwgQF9wYXJzZVN0eWxlcyhAb3B0aW9ucy5zdHlsZSwgQF9zdHlsZXMpXG5cdFxuXHRyZXR1cm5cblxuXG5RdWlja0VsZW1lbnQ6Ol9wYXJzZVN0eWxlcyA9IChzdHlsZXMsIHN0b3JlKS0+XG5cdHJldHVybiBpZiBub3QgSVMub2JqZWN0UGxhaW4oc3R5bGVzKVxuXHRrZXlzID0gT2JqZWN0LmtleXMoc3R5bGVzKVxuXHRzdGF0ZXMgPSBrZXlzLmZpbHRlciAoa2V5KS0+IGhlbHBlcnMuaXNTdGF0ZVN0eWxlKGtleSlcblx0c3BlY2lhbFN0YXRlcyA9IGhlbHBlcnMucmVtb3ZlSXRlbShzdGF0ZXMuc2xpY2UoKSwgJyRiYXNlJylcblx0X21lZGlhU3RhdGVzID0gc3RhdGVzLmZpbHRlcigoa2V5KS0+IGtleVswXSBpcyAnQCcpLm1hcCAoc3RhdGUpLT4gc3RhdGUuc2xpY2UoMSlcblx0X3Byb3ZpZGVkU3RhdGVzID0gc3RhdGVzLm1hcCAoc3RhdGUpLT4gc3RhdGUuc2xpY2UoMSkgIyBSZW1vdmUgJyQnIHByZWZpeFxuXHRfc3R5bGVzID0gc3RvcmUgb3Ige31cblx0X3N0YXRlU2hhcmVkID0gX3Byb3ZpZGVkU3RhdGVzU2hhcmVkID0gdW5kZWZpbmVkXG5cblx0YmFzZSA9IGlmIG5vdCBoZWxwZXJzLmluY2x1ZGVzKHN0YXRlcywgJyRiYXNlJykgdGhlbiBzdHlsZXMgZWxzZSBzdHlsZXMuJGJhc2Vcblx0X3N0eWxlcy5iYXNlID0gaGVscGVycy5yZWdpc3RlclN0eWxlKGJhc2UsIDAsIGZvcmNlU3R5bGU9QG9wdGlvbnMuZm9yY2VTdHlsZSlcblxuXG5cdGlmIHNwZWNpYWxTdGF0ZXMubGVuZ3RoXG5cdFx0ZmxhdHRlbk5lc3RlZFN0YXRlcyA9IChzdHlsZU9iamVjdCwgY2hhaW4sIGxldmVsKS0+XG5cdFx0XHRzdHlsZUtleXMgPSBPYmplY3Qua2V5cyhzdHlsZU9iamVjdClcblx0XHRcdG91dHB1dCA9IHt9XG5cdFx0XHRoYXNOb25TdGF0ZVByb3BzID0gZmFsc2Vcblx0XHRcdFxuXHRcdFx0Zm9yIHN0YXRlIGluIHN0eWxlS2V5c1xuXHRcdFx0XHRpZiBub3QgaGVscGVycy5pc1N0YXRlU3R5bGUoc3RhdGUpXG5cdFx0XHRcdFx0aGFzTm9uU3RhdGVQcm9wcyA9IHRydWVcblx0XHRcdFx0XHRvdXRwdXRbc3RhdGVdID0gc3R5bGVPYmplY3Rbc3RhdGVdXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRjaGFpbi5wdXNoKHN0YXRlXyA9IHN0YXRlLnNsaWNlKDEpKVxuXHRcdFx0XHRcdHN0YXRlQ2hhaW4gPSBuZXcgKGltcG9ydCAnLi9zdGF0ZUNoYWluJykoY2hhaW4pXG5cdFx0XHRcdFx0X3N0YXRlU2hhcmVkID89IFtdXG5cdFx0XHRcdFx0X3Byb3ZpZGVkU3RhdGVzU2hhcmVkID89IFtdXG5cdFx0XHRcdFx0X3Byb3ZpZGVkU3RhdGVzU2hhcmVkLnB1c2goc3RhdGVDaGFpbilcblx0XHRcdFx0XHRfbWVkaWFTdGF0ZXMucHVzaChzdGF0ZV8pIGlmIHN0YXRlWzBdIGlzICdAJ1xuXHRcdFx0XHRcdF9zdHlsZXNbc3RhdGVDaGFpbi5zdHJpbmddID0gaGVscGVycy5yZWdpc3RlclN0eWxlIGZsYXR0ZW5OZXN0ZWRTdGF0ZXMoc3R5bGVPYmplY3Rbc3RhdGVdLCBjaGFpbiwgbGV2ZWwrMSksIGxldmVsKzEsIGZvcmNlU3R5bGVcblx0XHRcdFxuXHRcdFx0cmV0dXJuIGlmIGhhc05vblN0YXRlUHJvcHMgdGhlbiBvdXRwdXRcblxuXHRcdGZvciBzdGF0ZSBpbiBzcGVjaWFsU3RhdGVzXG5cdFx0XHRzdGF0ZV8gPSBzdGF0ZS5zbGljZSgxKVxuXHRcdFx0XG5cdFx0XHRzdGF0ZVN0eWxlcyA9IGZsYXR0ZW5OZXN0ZWRTdGF0ZXMoc3R5bGVzW3N0YXRlXSwgW3N0YXRlX10sIDEpXG5cdFx0XHRfc3R5bGVzW3N0YXRlX10gPSBoZWxwZXJzLnJlZ2lzdGVyU3R5bGUoc3RhdGVTdHlsZXMsIDEpIGlmIHN0YXRlU3R5bGVzXG5cblxuXHRyZXR1cm4ge19zdHlsZXMsIF9tZWRpYVN0YXRlcywgX3N0YXRlU2hhcmVkLCBfcHJvdmlkZWRTdGF0ZXMsIF9wcm92aWRlZFN0YXRlc1NoYXJlZH1cblxuXG5cblF1aWNrRWxlbWVudDo6X3BhcnNlVGV4dHMgPSAodGV4dHMsIHN0b3JlKS0+XG5cdHJldHVybiBpZiBub3QgSVMub2JqZWN0UGxhaW4odGV4dHMpXG5cdHN0YXRlcyA9IE9iamVjdC5rZXlzKHRleHRzKS5tYXAgKHN0YXRlKS0+IHN0YXRlLnNsaWNlKDEpXG5cdF9wcm92aWRlZFN0YXRlcyA9IHN0YXRlcy5maWx0ZXIgKHN0YXRlKS0+IHN0YXRlIGlzbnQgJ2Jhc2UnXG5cdF90ZXh0cyA9IHN0b3JlIG9yIHt9XG5cdF90ZXh0cyA9IGJhc2U6Jydcblx0X3RleHRzW3N0YXRlXSA9IHRleHRzWyckJytzdGF0ZV0gZm9yIHN0YXRlIGluIHN0YXRlc1xuXHRcblx0cmV0dXJuIHtfdGV4dHMsIF9wcm92aWRlZFN0YXRlc31cblxuXG5RdWlja0VsZW1lbnQ6Ol9hcHBseU9wdGlvbnMgPSAoKS0+XG5cdGlmIHJlZj0oQG9wdGlvbnMuaWQgb3IgQG9wdGlvbnMucmVmKSB0aGVuIEBhdHRyKCdkYXRhLXJlZicsIEByZWY9cmVmKVxuXHRpZiBAb3B0aW9ucy5pZCB0aGVuIEBlbC5pZCA9IEBvcHRpb25zLmlkXG5cdGlmIEBvcHRpb25zLmNsYXNzTmFtZSB0aGVuIEBlbC5jbGFzc05hbWUgPSBAb3B0aW9ucy5jbGFzc05hbWVcblx0aWYgQG9wdGlvbnMuc3JjIHRoZW4gQGVsLnNyYyA9IEBvcHRpb25zLnNyY1xuXHRpZiBAb3B0aW9ucy5ocmVmIHRoZW4gQGVsLmhyZWYgPSBAb3B0aW9ucy5ocmVmXG5cdGlmIEBvcHRpb25zLnR5cGUgdGhlbiBAZWwudHlwZSA9IEBvcHRpb25zLnR5cGVcblx0aWYgQG9wdGlvbnMubmFtZSB0aGVuIEBlbC5uYW1lID0gQG9wdGlvbnMubmFtZVxuXHRpZiBAb3B0aW9ucy52YWx1ZSB0aGVuIEBlbC52YWx1ZSA9IEBvcHRpb25zLnZhbHVlXG5cdGlmIEBvcHRpb25zLnNlbGVjdGVkIHRoZW4gQGVsLnNlbGVjdGVkID0gQG9wdGlvbnMuc2VsZWN0ZWRcblx0aWYgQG9wdGlvbnMuY2hlY2tlZCB0aGVuIEBlbC5jaGVja2VkID0gQG9wdGlvbnMuY2hlY2tlZFxuXHRpZiBAb3B0aW9ucy5wcm9wcyB0aGVuIEBwcm9wKEBvcHRpb25zLnByb3BzKVxuXHRpZiBAb3B0aW9ucy5hdHRycyB0aGVuIEBhdHRyKEBvcHRpb25zLmF0dHJzKVxuXHRAX2FwcGx5UmVnaXN0ZXJlZFN0eWxlKEBfc3R5bGVzLmJhc2UsIG51bGwsIG51bGwsIEBvcHRpb25zLnN0eWxlQWZ0ZXJJbnNlcnQpXG5cdEB0ZXh0ID0gQF90ZXh0cy5iYXNlIGlmIEBfdGV4dHNcblxuXHRAb24oJ2luc2VydGVkJywgQ0FDSEVEX0ZOX0lOU0VSVEVELCBmYWxzZSwgdHJ1ZSlcblxuXHRpZiBAb3B0aW9ucy5pbnZva2VDb21wdXRlcnNPbmNlXG5cdFx0QF9pbnZva2VkQ29tcHV0ZXJzID0ge31cblx0XG5cdGlmIEBvcHRpb25zLnJlY2FsY09uUmVzaXplXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJ3Jlc2l6ZScsICgpPT4gQHJlY2FsY1N0eWxlKClcblxuXHRpZiBAb3B0aW9ucy5ldmVudHNcblx0XHRAb24oZXZlbnQsIGhhbmRsZXIpIGZvciBldmVudCxoYW5kbGVyIG9mIEBvcHRpb25zLmV2ZW50c1xuXG5cdGlmIEBvcHRpb25zLm1ldGhvZHNcblx0XHRmb3IgbWV0aG9kLHZhbHVlIG9mIEBvcHRpb25zLm1ldGhvZHMgd2hlbiBub3QgQFttZXRob2RdXG5cdFx0XHRpZiBJUy5mdW5jdGlvbih2YWx1ZSlcblx0XHRcdFx0QFttZXRob2RdID0gdmFsdWVcblx0XHRcdGVsc2UgaWYgSVMub2JqZWN0KHZhbHVlKVxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkgQCwgbWV0aG9kLCB7Y29uZmlndXJhYmxlOnRydWUsIGdldDp2YWx1ZS5nZXQsIHNldDp2YWx1ZS5zZXR9XG5cblx0aWYgQHR5cGUgaXNudCAndGV4dCcgYW5kIElTLm9iamVjdChAb3B0aW9ucy50ZXh0KVxuXHRcdEBhcHBlbmQgUXVpY2tEb20oJ3RleHQnLCB0ZXh0OkBvcHRpb25zLnRleHQpXG5cdHJldHVyblxuXG5cblF1aWNrRWxlbWVudDo6X3Bvc3RDcmVhdGlvbiA9IChkYXRhKS0+XG5cdGlmIEBvcHRpb25zLmNvbXB1dGVyc1xuXHRcdGRhdGEgPSBleHRlbmQuY2xvbmUoQG9wdGlvbnMuZGF0YSwgZGF0YSkgaWYgZGF0YSBhbmQgQG9wdGlvbnMuZGF0YVxuXHRcdGRhdGEgfHw9IEBvcHRpb25zLmRhdGFcblx0XHRAYXBwbHlEYXRhKGRhdGEsIGZhbHNlKVxuXHRcdFxuXHRcdGlmIEBvcHRpb25zLmNvbXB1dGVycy5faW5pdFxuXHRcdFx0QF9ydW5Db21wdXRlcignX2luaXQnLCBkYXRhKVxuXG5cdGlmIEBvcHRpb25zLnN0YXRlXG5cdFx0QHN0YXRlKEBvcHRpb25zLnN0YXRlKVxuXHRcblx0cmV0dXJuXG5cblxuUXVpY2tFbGVtZW50OjpfYXR0YWNoU3RhdGVFdmVudHMgPSAoZm9yY2UpLT5cblx0c3RhdGVzID0gT2JqZWN0LmtleXMoQG9wdGlvbnMuc3RhdGVUcmlnZ2Vycylcblx0c3RhdGVzLmZvckVhY2ggKHN0YXRlKT0+XG5cdFx0dHJpZ2dlciA9IEBvcHRpb25zLnN0YXRlVHJpZ2dlcnNbc3RhdGVdXHRcblx0XHRyZXR1cm4gaWYgbm90IGhlbHBlcnMuaW5jbHVkZXMoQF9wcm92aWRlZFN0YXRlcywgc3RhdGUpIGFuZCBub3QgZm9yY2UgYW5kIG5vdCB0cmlnZ2VyLmZvcmNlXG5cdFx0ZW5hYmxlciA9IGlmIElTLnN0cmluZyh0cmlnZ2VyKSB0aGVuIHRyaWdnZXIgZWxzZSB0cmlnZ2VyLm9uXG5cdFx0ZGlzYWJsZXIgPSB0cmlnZ2VyLm9mZiBpZiBJUy5vYmplY3QodHJpZ2dlcilcblxuXHRcdEBfbGlzdGVuVG8gZW5hYmxlciwgKCk9PiBAc3RhdGUoc3RhdGUsIG9uLCB0cmlnZ2VyLmJ1YmJsZXMpXG5cdFx0aWYgZGlzYWJsZXIgdGhlbiBAX2xpc3RlblRvIGRpc2FibGVyLCAoKT0+IEBzdGF0ZShzdGF0ZSwgb2ZmLCB0cmlnZ2VyLmJ1YmJsZXMpXG5cdFxuXHRyZXR1cm5cblxuXG5cblF1aWNrRWxlbWVudDo6X3Byb3h5UGFyZW50ID0gKCktPlxuXHRwYXJlbnQgPSB1bmRlZmluZWRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5IEAsICdfcGFyZW50Jyxcblx0XHRnZXQ6ICgpLT4gcGFyZW50XG5cdFx0c2V0OiAobmV3UGFyZW50KS0+IGlmIHBhcmVudD1uZXdQYXJlbnRcblx0XHRcdGxhc3RQYXJlbnQgPSBAcGFyZW50cy5zbGljZSgtMSlbMF1cblx0XHRcdGlmIGxhc3RQYXJlbnQucmF3IGlzIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuXHRcdFx0XHRAX3VucHJveHlQYXJlbnQobmV3UGFyZW50KVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRwYXJlbnQub24gJ2luc2VydGVkJywgKCk9PlxuXHRcdFx0XHRcdEBfdW5wcm94eVBhcmVudChuZXdQYXJlbnQpIGlmIHBhcmVudCBpcyBuZXdQYXJlbnRcblx0XHRcdHJldHVyblxuXG5cblF1aWNrRWxlbWVudDo6X3VucHJveHlQYXJlbnQgPSAobmV3UGFyZW50KS0+XG5cdGRlbGV0ZSBAX3BhcmVudFxuXHRAX3BhcmVudCA9IG5ld1BhcmVudFxuXHRAZW1pdFByaXZhdGUoJ2luc2VydGVkJywgbmV3UGFyZW50KVxuXHRyZXR1cm5cblxuXG5cbkNBQ0hFRF9GTl9JTlNFUlRFRCA9ICgpLT5cblx0QF9pbnNlcnRlZCA9IEBcblx0QHJlY2FsY1N0eWxlKCkgaWYgQG9wdGlvbnMuc3R5bGVBZnRlckluc2VydFxuXG5cdGlmIChtZWRpYVN0YXRlcz1AX21lZGlhU3RhdGVzKSBhbmQgQF9tZWRpYVN0YXRlcy5sZW5ndGhcblx0XHRAX21lZGlhU3RhdGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXHRcdFxuXHRcdGZvciBxdWVyeVN0cmluZyBpbiBtZWRpYVN0YXRlc1xuXHRcdFx0QF9tZWRpYVN0YXRlc1txdWVyeVN0cmluZ10gPSBNZWRpYVF1ZXJ5LnJlZ2lzdGVyKEAsIHF1ZXJ5U3RyaW5nKVxuXG5cblxuXG5cblxuXG5cbiIsInJlZ2V4V2hpdGVzcGFjZSA9IC9cXHMrL1xuXG5RdWlja0VsZW1lbnQ6Om9uID0gKGV2ZW50TmFtZXMsIGNhbGxiYWNrLCB1c2VDYXB0dXJlLCBpc1ByaXZhdGUpLT5cblx0QF9ldmVudENhbGxiYWNrcyA/PSB7X19yZWZzOnt9fVxuXHRcblx0aWYgSVMuc3RyaW5nKGV2ZW50TmFtZXMpIGFuZCBJUy5mdW5jdGlvbihjYWxsYmFjaylcblx0XHRzcGxpdCA9IGV2ZW50TmFtZXMuc3BsaXQoJy4nKVxuXHRcdGNhbGxiYWNrUmVmID0gc3BsaXRbMV1cblx0XHRldmVudE5hbWVzID0gc3BsaXRbMF1cblx0XHRcblx0XHRpZiBldmVudE5hbWVzIGlzICdpbnNlcnRlZCcgYW5kIEBfaW5zZXJ0ZWRcblx0XHRcdGNhbGxiYWNrLmNhbGwoQCwgQF9wYXJlbnQpXG5cdFx0XHRyZXR1cm4gQFxuXHRcdFxuXHRcdGV2ZW50TmFtZXMuc3BsaXQocmVnZXhXaGl0ZXNwYWNlKS5mb3JFYWNoIChldmVudE5hbWUpPT5cblx0XHRcdGlmIG5vdCBAX2V2ZW50Q2FsbGJhY2tzW2V2ZW50TmFtZV1cblx0XHRcdFx0QF9ldmVudENhbGxiYWNrc1tldmVudE5hbWVdID0gW11cdFx0XG5cdFx0XHRcdFxuXHRcdFx0XHR1bmxlc3MgaXNQcml2YXRlIHRoZW4gQF9saXN0ZW5UbyBldmVudE5hbWUsIChldmVudCk9PlxuXHRcdFx0XHRcdEBfaW52b2tlSGFuZGxlcnMoZXZlbnROYW1lLCBldmVudClcblx0XHRcdFx0LCB1c2VDYXB0dXJlXG5cblx0XHRcdEBfZXZlbnRDYWxsYmFja3MuX19yZWZzW2NhbGxiYWNrUmVmXSA9IGNhbGxiYWNrIGlmIGNhbGxiYWNrUmVmXG5cdFx0XHRAX2V2ZW50Q2FsbGJhY2tzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjaylcblxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6b25jZSA9IChldmVudE5hbWVzLCBjYWxsYmFjayktPlxuXHRpZiBJUy5zdHJpbmcoZXZlbnROYW1lcykgYW5kIElTLmZ1bmN0aW9uKGNhbGxiYWNrKVxuXHRcdEBvbiBldmVudE5hbWVzLCBvbmNlQ2FsbGJhY2s9KGV2ZW50KT0+XG5cdFx0XHRAb2ZmKGV2ZW50TmFtZXMsIG9uY2VDYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrLmNhbGwoQCwgZXZlbnQpXG5cdFxuXHRyZXR1cm4gQFxuXG5cblxuUXVpY2tFbGVtZW50OjpvZmYgPSAoZXZlbnROYW1lcywgY2FsbGJhY2spLT5cblx0QF9ldmVudENhbGxiYWNrcyA/PSB7X19yZWZzOnt9fVxuXHRpZiBub3QgSVMuc3RyaW5nKGV2ZW50TmFtZXMpXG5cdFx0QG9mZihldmVudE5hbWUpIGZvciBldmVudE5hbWUgb2YgQF9ldmVudENhbGxiYWNrc1xuXHRcblx0ZWxzZVxuXHRcdHNwbGl0ID0gZXZlbnROYW1lcy5zcGxpdCgnLicpXG5cdFx0Y2FsbGJhY2tSZWYgPSBzcGxpdFsxXVxuXHRcdGV2ZW50TmFtZXMgPSBzcGxpdFswXVxuXHRcdGV2ZW50TmFtZXMuc3BsaXQocmVnZXhXaGl0ZXNwYWNlKS5mb3JFYWNoIChldmVudE5hbWUpPT5cblx0XHRcdGlmIEBfZXZlbnRDYWxsYmFja3NbZXZlbnROYW1lXVxuXHRcdFx0XHRjYWxsYmFjayA/PSBAX2V2ZW50Q2FsbGJhY2tzLl9fcmVmc1tjYWxsYmFja1JlZl1cblxuXHRcdFx0XHRpZiBJUy5mdW5jdGlvbihjYWxsYmFjaylcblx0XHRcdFx0XHRoZWxwZXJzLnJlbW92ZUl0ZW0oQF9ldmVudENhbGxiYWNrc1tldmVudE5hbWVdLCBjYWxsYmFjaylcblx0XHRcdFx0ZWxzZSBpZiBub3QgY2FsbGJhY2tSZWZcblx0XHRcdFx0XHRAX2V2ZW50Q2FsbGJhY2tzW2V2ZW50TmFtZV0ubGVuZ3RoID0gMFxuXG5cdHJldHVybiBAXG5cblxuXG5RdWlja0VsZW1lbnQ6OmVtaXQgPSAoZXZlbnROYW1lLCBidWJibGVzPXRydWUsIGNhbmNlbGFibGU9dHJ1ZSwgZGF0YSktPlxuXHRpZiBldmVudE5hbWUgYW5kIElTLnN0cmluZyhldmVudE5hbWUpXG5cdFx0ZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKVxuXHRcdGV2ZW50LmluaXRFdmVudChldmVudE5hbWUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpXG5cdFx0ZXh0ZW5kKGV2ZW50LCBkYXRhKSBpZiBkYXRhIGFuZCB0eXBlb2YgZGF0YSBpcyAnb2JqZWN0J1xuXHRcdEBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KVxuXG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjplbWl0UHJpdmF0ZSA9IChldmVudE5hbWUsIGFyZyktPlxuXHRpZiBldmVudE5hbWUgYW5kIElTLnN0cmluZyhldmVudE5hbWUpIGFuZCBAX2V2ZW50Q2FsbGJhY2tzP1tldmVudE5hbWVdXG5cdFx0QF9pbnZva2VIYW5kbGVycyhldmVudE5hbWUsIGFyZylcblx0XG5cdHJldHVybiBAXG5cblxuXG5RdWlja0VsZW1lbnQ6Ol9pbnZva2VIYW5kbGVycyA9IChldmVudE5hbWUsIGFyZyktPlxuXHRjYWxsYmFja3MgPSBAX2V2ZW50Q2FsbGJhY2tzW2V2ZW50TmFtZV0uc2xpY2UoKVxuXHRjYi5jYWxsKEAsIGFyZykgZm9yIGNiIGluIGNhbGxiYWNrc1xuXHRyZXR1cm5cblxuXG4jIyMgaXN0YW5idWwgaWdub3JlIG5leHQgIyMjXG5RdWlja0VsZW1lbnQ6Ol9saXN0ZW5UbyA9IChldmVudE5hbWUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKS0+XG5cdGxpc3Rlbk1ldGhvZCA9IGlmIEBlbC5hZGRFdmVudExpc3RlbmVyIHRoZW4gJ2FkZEV2ZW50TGlzdGVuZXInIGVsc2UgJ2F0dGFjaEV2ZW50J1xuXHRldmVudE5hbWVUb0xpc3RlbkZvciA9IGlmIEBlbC5hZGRFdmVudExpc3RlbmVyIHRoZW4gZXZlbnROYW1lIGVsc2UgXCJvbiN7ZXZlbnROYW1lfVwiXG5cdFxuXHRAZWxbbGlzdGVuTWV0aG9kXShldmVudE5hbWVUb0xpc3RlbkZvciwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpXG5cdHJldHVybiBAXG5cblxuXG5cbiIsIkRVTU1ZX0FSUkFZID0gW11cblxuXG5RdWlja0VsZW1lbnQ6OnN0YXRlID0gKHRhcmdldFN0YXRlLCB2YWx1ZSwgYnViYmxlcywgc291cmNlKS0+XG5cdGlmIGFyZ3VtZW50cy5sZW5ndGggaXMgMFxuXHRcdHJldHVybiBAX3N0YXRlLnNsaWNlKClcblx0XG5cdGlmIGFyZ3VtZW50cy5sZW5ndGggaXMgMVxuXHRcdGlmIElTLnN0cmluZyh0YXJnZXRTdGF0ZSlcblx0XHRcdHJldHVybiBoZWxwZXJzLmluY2x1ZGVzKEBfc3RhdGUsIHRhcmdldFN0YXRlKVxuXHRcdFxuXHRcdGVsc2UgaWYgSVMub2JqZWN0KHRhcmdldFN0YXRlKVxuXHRcdFx0a2V5cyA9IE9iamVjdC5rZXlzKHRhcmdldFN0YXRlKVxuXHRcdFx0aSA9IC0xXG5cdFx0XHRAc3RhdGUoa2V5LCB0YXJnZXRTdGF0ZVtrZXldKSB3aGlsZSBrZXk9a2V5c1srK2ldXG5cdFx0XHRyZXR1cm4gQFxuXG5cdGVsc2UgaWYgQF9zdGF0ZVBpcGVUYXJnZXQgYW5kIHNvdXJjZSBpc250IEBcblx0XHRAX3N0YXRlUGlwZVRhcmdldC5zdGF0ZSh0YXJnZXRTdGF0ZSwgdmFsdWUsIGJ1YmJsZXMsIEApXG5cdFx0cmV0dXJuIEBcblx0XG5cdGVsc2UgaWYgSVMuc3RyaW5nKHRhcmdldFN0YXRlKVxuXHRcdHRhcmdldFN0YXRlID0gdGFyZ2V0U3RhdGUuc2xpY2UoMSkgaWYgdGFyZ2V0U3RhdGVbMF0gaXMgJyQnXG5cdFx0cmV0dXJuIEAgaWYgdGFyZ2V0U3RhdGUgaXMgJ2Jhc2UnXG5cdFx0ZGVzaXJlZFZhbHVlID0gISF2YWx1ZSAjIENvbnZlcnQgdGhlIHZhbHVlIHRvIGEgYm9vbGVhblxuXHRcdGFjdGl2ZVN0YXRlcyA9IEBfZ2V0QWN0aXZlU3RhdGVzKHRhcmdldFN0YXRlLCBmYWxzZSlcblx0XHRcblx0XHQjID09PT0gVG9nZ2xlIHN0eWxlcyBmb3IgdGhpcyBzdGF0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRpZiBAc3RhdGUodGFyZ2V0U3RhdGUpIGlzbnQgZGVzaXJlZFZhbHVlXG5cdFx0XHRwcm9wID0gaWYgQHR5cGUgaXMgJ3RleHQnIHRoZW4gJ1RleHQnIGVsc2UgJ1N0eWxlJ1xuXHRcdFxuXHRcdFx0aWYgZGVzaXJlZFZhbHVlICNpcyBvblxuXHRcdFx0XHRAX3N0YXRlLnB1c2godGFyZ2V0U3RhdGUpXG5cdFx0XHRcdHRvZ2dsZSA9ICdPTidcblx0XHRcdGVsc2Vcblx0XHRcdFx0aGVscGVycy5yZW1vdmVJdGVtKEBfc3RhdGUsIHRhcmdldFN0YXRlKVxuXHRcdFx0XHR0b2dnbGUgPSAnT0ZGJ1xuXHRcdFx0XG5cdFx0XHRAWydfdHVybicrcHJvcCt0b2dnbGVdKHRhcmdldFN0YXRlLCBhY3RpdmVTdGF0ZXMpXG5cdFx0XHRAZW1pdFByaXZhdGUgXCJzdGF0ZUNoYW5nZToje3RhcmdldFN0YXRlfVwiLCBkZXNpcmVkVmFsdWVcblxuXG5cdFx0IyA9PT09IFBhc3Mgc3RhdGUgdG8gcGFyZW50L2NoaWxkcmVuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdGlmIG5vdCBoZWxwZXJzLmluY2x1ZGVzKEBvcHRpb25zLnVucGFzc2FibGVTdGF0ZXMsIHRhcmdldFN0YXRlKVxuXHRcdFx0aWYgYnViYmxlc1xuXHRcdFx0XHRAX3BhcmVudC5zdGF0ZSh0YXJnZXRTdGF0ZSwgdmFsdWUsIHRydWUsIHNvdXJjZSBvciBAKSBpZiBAcGFyZW50XG5cdFx0XHRlbHNlIGlmIEBvcHRpb25zLnBhc3NTdGF0ZVRvQ2hpbGRyZW5cblx0XHRcdFx0Y2hpbGQuc3RhdGUodGFyZ2V0U3RhdGUsIHZhbHVlLCBmYWxzZSwgc291cmNlIG9yIEApIGZvciBjaGlsZCBpbiBAX2NoaWxkcmVuXG5cdFx0XG5cdFx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6OnRvZ2dsZVN0YXRlID0gKHRhcmdldFN0YXRlKS0+XG5cdEBzdGF0ZSh0YXJnZXRTdGF0ZSwgIUBzdGF0ZSh0YXJnZXRTdGF0ZSkpXG5cblxuUXVpY2tFbGVtZW50OjpyZXNldFN0YXRlID0gKCktPlxuXHRmb3IgYWN0aXZlU3RhdGUgaW4gQF9zdGF0ZS5zbGljZSgpXG5cdFx0QHN0YXRlKGFjdGl2ZVN0YXRlLCBvZmYpXG5cblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6OnBpcGVTdGF0ZSA9ICh0YXJnZXRFbCktPlxuXHRpZiB0YXJnZXRFbFxuXHRcdHRhcmdldEVsID0gaGVscGVycy5ub3JtYWxpemVHaXZlbkVsKHRhcmdldEVsKVxuXG5cdFx0aWYgSVMucXVpY2tEb21FbCh0YXJnZXRFbCkgYW5kIHRhcmdldEVsIGlzbnQgQFxuXHRcdFx0QF9zdGF0ZVBpcGVUYXJnZXQgPSB0YXJnZXRFbFxuXHRcdFx0dGFyZ2V0RWwuc3RhdGUoYWN0aXZlU3RhdGUsIG9uKSBmb3IgYWN0aXZlU3RhdGUgaW4gQF9zdGF0ZVxuXG5cdGVsc2UgaWYgdGFyZ2V0RWwgaXMgZmFsc2Vcblx0XHRkZWxldGUgQF9zdGF0ZVBpcGVUYXJnZXRcblxuXHRyZXR1cm4gQFxuXG5cblxuXG5RdWlja0VsZW1lbnQ6Ol9hcHBseVJlZ2lzdGVyZWRTdHlsZSA9ICh0YXJnZXRTdHlsZSwgc3VwZXJpb3JTdGF0ZXMsIGluY2x1ZGVCYXNlLCBza2lwRm5zKS0+IGlmIHRhcmdldFN0eWxlXG5cdEBhZGRDbGFzcyhjbGFzc05hbWUpIGZvciBjbGFzc05hbWUgaW4gdGFyZ2V0U3R5bGUuY2xhc3NOYW1lXG5cdFxuXHRpZiB0YXJnZXRTdHlsZS5mbnMubGVuZ3RoIGFuZCBub3Qgc2tpcEZuc1xuXHRcdHN1cGVyaW9yU3R5bGVzID0gQF9yZXNvbHZlRm5TdHlsZXMoc3VwZXJpb3JTdGF0ZXMsIGluY2x1ZGVCYXNlKSBpZiBzdXBlcmlvclN0YXRlc1xuXHRcdFxuXHRcdGZvciBlbnRyeSBpbiB0YXJnZXRTdHlsZS5mbnNcblx0XHRcdEBzdHlsZShlbnRyeVswXSwgZW50cnlbMV0pIHVubGVzcyBzdXBlcmlvclN0eWxlcyBhbmQgc3VwZXJpb3JTdHlsZXNbZW50cnlbMF1dXG5cdFxuXHRyZXR1cm5cblxuXG5RdWlja0VsZW1lbnQ6Ol9yZW1vdmVSZWdpc3RlcmVkU3R5bGUgPSAodGFyZ2V0U3R5bGUsIHN1cGVyaW9yU3RhdGVzLCBpbmNsdWRlQmFzZSktPlxuXHRAcmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKSBmb3IgY2xhc3NOYW1lIGluIHRhcmdldFN0eWxlLmNsYXNzTmFtZVxuXG5cdGlmIHRhcmdldFN0eWxlLmZucy5sZW5ndGhcblx0XHRzdXBlcmlvclN0eWxlcyA9IEBfcmVzb2x2ZUZuU3R5bGVzKHN1cGVyaW9yU3RhdGVzLCBpbmNsdWRlQmFzZSkgaWYgc3VwZXJpb3JTdGF0ZXNcblx0XHRcblx0XHRmb3IgZW50cnkgaW4gdGFyZ2V0U3R5bGUuZm5zXG5cdFx0XHRyZXNldFZhbHVlID0gc3VwZXJpb3JTdHlsZXMgYW5kIHN1cGVyaW9yU3R5bGVzW2VudHJ5WzBdXSBvciBudWxsXG5cdFx0XHRAc3R5bGUoZW50cnlbMF0sIHJlc2V0VmFsdWUpXG5cblx0cmV0dXJuXG5cblxuXG5cblF1aWNrRWxlbWVudDo6X3R1cm5TdHlsZU9OID0gKHRhcmdldFN0YXRlLCBhY3RpdmVTdGF0ZXMpLT5cblx0c2tpcEZucyA9IEBvcHRpb25zLnN0eWxlQWZ0ZXJJbnNlcnQgYW5kIG5vdCBAX2luc2VydGVkXG5cdGlmIEBfc3R5bGVzW3RhcmdldFN0YXRlXVxuXHRcdEBfYXBwbHlSZWdpc3RlcmVkU3R5bGUoQF9zdHlsZXNbdGFyZ2V0U3RhdGVdLCBAX2dldFN1cGVyaW9yU3RhdGVzKHRhcmdldFN0YXRlLCBhY3RpdmVTdGF0ZXMpLCBmYWxzZSwgc2tpcEZucylcblxuXG5cdGlmIEBfcHJvdmlkZWRTdGF0ZXNTaGFyZWRcblx0XHRzaGFyZWRTdGF0ZXMgPSBAX2dldFNoYXJlZFN0YXRlcyh0YXJnZXRTdGF0ZSlcblx0XHRcblx0XHRmb3Igc3RhdGVDaGFpbiBpbiBzaGFyZWRTdGF0ZXNcblx0XHRcdEBfc3RhdGVTaGFyZWQucHVzaChzdGF0ZUNoYWluLnN0cmluZykgdW5sZXNzIGhlbHBlcnMuaW5jbHVkZXMoQF9zdGF0ZVNoYXJlZCwgc3RhdGVDaGFpbi5zdHJpbmcpXG5cdFx0XHRAX2FwcGx5UmVnaXN0ZXJlZFN0eWxlKEBfc3R5bGVzW3N0YXRlQ2hhaW4uc3RyaW5nXSwgbnVsbCwgbnVsbCwgc2tpcEZucylcblxuXHRyZXR1cm5cblxuXG5RdWlja0VsZW1lbnQ6Ol90dXJuU3R5bGVPRkYgPSAodGFyZ2V0U3RhdGUsIGFjdGl2ZVN0YXRlcyktPlxuXHRpZiBAX3N0eWxlc1t0YXJnZXRTdGF0ZV1cblx0XHRAX3JlbW92ZVJlZ2lzdGVyZWRTdHlsZShAX3N0eWxlc1t0YXJnZXRTdGF0ZV0sIGFjdGl2ZVN0YXRlcywgdHJ1ZSlcblxuXHRpZiBAX3Byb3ZpZGVkU3RhdGVzU2hhcmVkXG5cdFx0c2hhcmVkU3RhdGVzID0gQF9nZXRTaGFyZWRTdGF0ZXModGFyZ2V0U3RhdGUpXG5cdFx0cmV0dXJuIGlmIHNoYXJlZFN0YXRlcy5sZW5ndGggaXMgMFxuXG5cdFx0Zm9yIHN0YXRlQ2hhaW4gaW4gc2hhcmVkU3RhdGVzXG5cdFx0XHRoZWxwZXJzLnJlbW92ZUl0ZW0oQF9zdGF0ZVNoYXJlZCwgc3RhdGVDaGFpbi5zdHJpbmcpXG5cdFx0XHR0YXJnZXRTdHlsZSA9IEBfc3R5bGVzW3N0YXRlQ2hhaW4uc3RyaW5nXVxuXHRcdFx0XG5cdFx0XHRpZiB0YXJnZXRTdHlsZS5mbnMubGVuZ3RoIGFuZCBAX3N0YXRlU2hhcmVkLmxlbmd0aCBhbmQgbm90IGFjdGl2ZVNoYXJlZFN0YXRlc1xuXHRcdFx0XHRhY3RpdmVTaGFyZWRTdGF0ZXMgPSBAX3N0YXRlU2hhcmVkLmZpbHRlciAoc3RhdGUpLT4gbm90IGhlbHBlcnMuaW5jbHVkZXMoc3RhdGUsIHRhcmdldFN0YXRlKVxuXHRcdFx0XHRhY3RpdmVTdGF0ZXMgPSBhY3RpdmVTdGF0ZXMuY29uY2F0KGFjdGl2ZVNoYXJlZFN0YXRlcylcblx0XHRcdFxuXHRcdFx0QF9yZW1vdmVSZWdpc3RlcmVkU3R5bGUodGFyZ2V0U3R5bGUsIGFjdGl2ZVN0YXRlcywgdHJ1ZSlcblxuXHRyZXR1cm5cblxuXG5cblF1aWNrRWxlbWVudDo6X3R1cm5UZXh0T04gPSAodGFyZ2V0U3RhdGUsIGFjdGl2ZVN0YXRlcyktPlxuXHRpZiBAX3RleHRzIGFuZCBJUy5zdHJpbmcodGFyZ2V0VGV4dCA9IEBfdGV4dHNbdGFyZ2V0U3RhdGVdKVxuXHRcdHN1cGVyaW9yU3RhdGVzID0gQF9nZXRTdXBlcmlvclN0YXRlcyh0YXJnZXRTdGF0ZSwgYWN0aXZlU3RhdGVzKVxuXHRcdFxuXHRcdEB0ZXh0ID0gdGFyZ2V0VGV4dCB1bmxlc3Mgc3VwZXJpb3JTdGF0ZXMubGVuZ3RoXG5cdHJldHVyblxuXG5cblF1aWNrRWxlbWVudDo6X3R1cm5UZXh0T0ZGID0gKHRhcmdldFN0YXRlLCBhY3RpdmVTdGF0ZXMpLT5cblx0aWYgQF90ZXh0cyBhbmQgSVMuc3RyaW5nKHRhcmdldFRleHQgPSBAX3RleHRzW3RhcmdldFN0YXRlXSlcblx0XHRhY3RpdmVTdGF0ZXMgPSBhY3RpdmVTdGF0ZXMuZmlsdGVyIChzdGF0ZSktPiBzdGF0ZSBpc250IHRhcmdldFN0YXRlXG5cdFx0dGFyZ2V0VGV4dCA9IEBfdGV4dHNbYWN0aXZlU3RhdGVzW2FjdGl2ZVN0YXRlcy5sZW5ndGgtMV1dXG5cdFx0dGFyZ2V0VGV4dCA/PSBAX3RleHRzLmJhc2Vcblx0XHRcblx0XHRAdGV4dCA9IHRhcmdldFRleHRcblx0cmV0dXJuXG5cblxuXG5cblx0XG5cblxuXG5cblF1aWNrRWxlbWVudDo6X2dldEFjdGl2ZVN0YXRlcyA9IChzdGF0ZVRvRXhjbHVkZSwgaW5jbHVkZVNoYXJlZFN0YXRlcz10cnVlKS0+XG5cdHJldHVybiBEVU1NWV9BUlJBWSBpZiBub3QgQF9wcm92aWRlZFN0YXRlc1xuXHRhY3RpdmVTdGF0ZXMgPSBwbGFpblN0YXRlcyA9IEBfc3RhdGVcblx0aWYgc3RhdGVUb0V4Y2x1ZGVcblx0XHRwbGFpblN0YXRlcyA9IFtdXG5cdFx0cGxhaW5TdGF0ZXMucHVzaChzdGF0ZSkgZm9yIHN0YXRlIGluIGFjdGl2ZVN0YXRlcyB3aGVuIHN0YXRlIGlzbnQgc3RhdGVUb0V4Y2x1ZGVcblx0XG5cdGlmIG5vdCBpbmNsdWRlU2hhcmVkU3RhdGVzIG9yIG5vdCBAX3Byb3ZpZGVkU3RhdGVzU2hhcmVkXG5cdFx0cmV0dXJuIHBsYWluU3RhdGVzXG5cdGVsc2Vcblx0XHRyZXR1cm4gcGxhaW5TdGF0ZXMuY29uY2F0KEBfc3RhdGVTaGFyZWQpXG5cblxuUXVpY2tFbGVtZW50OjpfZ2V0U3VwZXJpb3JTdGF0ZXMgPSAodGFyZ2V0U3RhdGUsIGFjdGl2ZVN0YXRlcyktPlxuXHR0YXJnZXRTdGF0ZUluZGV4ID0gQF9wcm92aWRlZFN0YXRlcy5pbmRleE9mKHRhcmdldFN0YXRlKVxuXHRyZXR1cm4gRFVNTVlfQVJSQVkgaWYgdGFyZ2V0U3RhdGVJbmRleCBpcyBAX3Byb3ZpZGVkU3RhdGVzLmxlbmd0aCAtIDFcblx0XG5cdHN1cGVyaW9yID0gW11cblx0Zm9yIGNhbmRpZGF0ZSBpbiBhY3RpdmVTdGF0ZXNcblx0XHRzdXBlcmlvci5wdXNoKGNhbmRpZGF0ZSkgaWYgQF9wcm92aWRlZFN0YXRlcy5pbmRleE9mKGNhbmRpZGF0ZSkgPiB0YXJnZXRTdGF0ZUluZGV4XG5cblx0cmV0dXJuIHN1cGVyaW9yXG5cblxuUXVpY2tFbGVtZW50OjpfZ2V0U2hhcmVkU3RhdGVzID0gKHRhcmdldFN0YXRlKS0+XG5cdGFjdGl2ZVN0YXRlcyA9IEBfc3RhdGVcblx0c2hhcmVkU3RhdGVzID0gW11cblxuXHRmb3Igc3RhdGVDaGFpbiBpbiBAX3Byb3ZpZGVkU3RhdGVzU2hhcmVkXG5cdFx0c2hhcmVkU3RhdGVzLnB1c2goc3RhdGVDaGFpbikgaWYgc3RhdGVDaGFpbi5pbmNsdWRlcyh0YXJnZXRTdGF0ZSkgYW5kIHN0YXRlQ2hhaW4uaXNBcHBsaWNhYmxlKHRhcmdldFN0YXRlLCBhY3RpdmVTdGF0ZXMpXG5cblx0cmV0dXJuIHNoYXJlZFN0YXRlc1xuXG5cblF1aWNrRWxlbWVudDo6X3Jlc29sdmVGblN0eWxlcyA9IChzdGF0ZXMsIGluY2x1ZGVCYXNlKS0+XG5cdHN0YXRlcyA9IFsnYmFzZSddLmNvbmNhdChzdGF0ZXMpIGlmIGluY2x1ZGVCYXNlXG5cdG91dHB1dCA9IHt9XG5cdFxuXHRmb3Igc3RhdGUgaW4gc3RhdGVzIHdoZW4gQF9zdHlsZXNbc3RhdGVdIGFuZCBAX3N0eWxlc1tzdGF0ZV0uZm5zLmxlbmd0aFxuXHRcdG91dHB1dFtlbnRyeVswXV0gPSBlbnRyeVsxXSBmb3IgZW50cnkgaW4gQF9zdHlsZXNbc3RhdGVdLmZuc1xuXG5cdHJldHVybiBvdXRwdXRcblxuXG5cblxuXG5cblxuXG5cbiIsIiMjIypcbiAqIFNldHMvZ2V0cyB0aGUgdmFsdWUgb2YgYSBzdHlsZSBwcm9wZXJ0eS4gSW4gZ2V0dGVyIG1vZGUgdGhlIGNvbXB1dGVkIHByb3BlcnR5IG9mXG4gKiB0aGUgc3R5bGUgd2lsbCBiZSByZXR1cm5lZCB1bmxlc3MgdGhlIGVsZW1lbnQgaXMgbm90IGluc2VydGVkIGludG8gdGhlIERPTS4gSW5cbiAqIHdlYmtpdCBicm93c2VycyBhbGwgY29tcHV0ZWQgcHJvcGVydGllcyBvZiBhIGRldGFjaGVkIG5vZGUgYXJlIGFsd2F5cyBhbiBlbXB0eVxuICogc3RyaW5nIGJ1dCBpbiBnZWNrbyB0aGV5IHJlZmxlY3Qgb24gdGhlIGFjdHVhbCBjb21wdXRlZCB2YWx1ZSwgaGVuY2Ugd2UgbmVlZFxuICogdG8gXCJub3JtYWxpemVcIiB0aGlzIGJlaGF2aW9yIGFuZCBtYWtlIHN1cmUgdGhhdCBldmVuIG9uIGdlY2tvIGFuIGVtcHR5IHN0cmluZ1xuICogaXMgcmV0dXJuZWRcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuIyMjXG5RdWlja0VsZW1lbnQ6OnN0eWxlID0gKHByb3BlcnR5KS0+XG5cdHJldHVybiBpZiBAdHlwZSBpcyAndGV4dCdcblx0YXJncyA9IGFyZ3VtZW50c1xuXHRcblx0aWYgSVMuc3RyaW5nKHByb3BlcnR5KVxuXHRcdHZhbHVlID0gaWYgdHlwZW9mIGFyZ3NbMV0gaXMgJ2Z1bmN0aW9uJyB0aGVuIGFyZ3NbMV0uY2FsbChALCBAcmVsYXRlZCkgZWxzZSBhcmdzWzFdXG5cdFx0dmFsdWUgPSBDU1MuVU5TRVQgaWYgYXJnc1sxXSBpcyBudWxsIGFuZCBJUy5kZWZpbmVkKEBjdXJyZW50U3RhdGVTdHlsZShwcm9wZXJ0eSkpIGFuZCBub3QgSVMuZnVuY3Rpb24oQGN1cnJlbnRTdGF0ZVN0eWxlKHByb3BlcnR5KSlcblx0XHRyZXN1bHQgPSBDU1MoQGVsLCBwcm9wZXJ0eSwgdmFsdWUsIEBvcHRpb25zLmZvcmNlU3R5bGUpXG5cdFx0XG5cdFx0aWYgYXJncy5sZW5ndGggaXMgMVxuXHRcdFx0IyMjIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICMjI1xuXHRcdFx0cmV0dXJuIGlmIEBfaW5zZXJ0ZWQgdGhlbiByZXN1bHQgZWxzZSBpZiBub3QgcmVzdWx0IHRoZW4gcmVzdWx0IGVsc2UgJydcblxuXHRlbHNlIGlmIElTLm9iamVjdChwcm9wZXJ0eSlcblx0XHRrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydHkpOyBpID0gLTFcblx0XHRAc3R5bGUoa2V5LCBwcm9wZXJ0eVtrZXldKSB3aGlsZSBrZXk9a2V5c1srK2ldXG5cblx0cmV0dXJuIEBcblxuXG4jIyMqXG4gKiBBdHRlbXB0cyB0byByZXNvbHZlIHRoZSB2YWx1ZSBmb3IgYSBnaXZlbiBwcm9wZXJ0eSBpbiB0aGUgZm9sbG93aW5nIG9yZGVyIGlmIGVhY2ggb25lIGlzbid0IGEgdmFsaWQgdmFsdWU6XG4gKiAxLiBmcm9tIGNvbXB1dGVkIHN0eWxlIChmb3IgZG9tLWluc2VydGVkIGVscylcbiAqIDIuIGZyb20gRE9NRWxlbWVudC5zdHlsZSBvYmplY3QgKGZvciBub24taW5zZXJ0ZWQgZWxzOyBpZiBvcHRpb25zLnN0eWxlQWZ0ZXJJbnNlcnQsIHdpbGwgb25seSBoYXZlIHN0YXRlIHN0eWxlcylcbiAqIDMuIGZyb20gcHJvdmlkZWQgc3R5bGUgb3B0aW9uc1xuICogKGZvciBub24taW5zZXJ0ZWQgZWxzOyBjaGVja2luZyBvbmx5ICRiYXNlIHNpbmNlIHN0YXRlIHN0eWxlcyB3aWxsIGFsd2F5cyBiZSBhcHBsaWVkIHRvIHRoZSBzdHlsZSBvYmplY3QgZXZlbiBmb3Igbm9uLWluc2VydGVkKVxuIyMjXG5RdWlja0VsZW1lbnQ6OnN0eWxlU2FmZSA9IChwcm9wZXJ0eSwgc2tpcENvbXB1dGVkKS0+XG5cdHJldHVybiBpZiBAdHlwZSBpcyAndGV4dCdcblx0c2FtcGxlID0gQGVsLnN0eWxlW3Byb3BlcnR5XVxuXG5cdGlmIElTLnN0cmluZyhzYW1wbGUpIG9yIElTLm51bWJlcihzYW1wbGUpXG5cdFx0Y29tcHV0ZWQgPSBpZiBza2lwQ29tcHV0ZWQgdGhlbiAwIGVsc2UgQHN0eWxlKHByb3BlcnR5KVxuXHRcdHJlc3VsdCA9IGNvbXB1dGVkIG9yIEBlbC5zdHlsZVtwcm9wZXJ0eV0gb3IgQGN1cnJlbnRTdGF0ZVN0eWxlKHByb3BlcnR5KSBvciAnJ1xuXHRcdHJldHVybiBpZiB0eXBlb2YgcmVzdWx0IGlzICdmdW5jdGlvbicgdGhlbiByZXN1bHQuY2FsbChALCBAcmVsYXRlZCkgZWxzZSByZXN1bHRcblxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6c3R5bGVQYXJzZWQgPSAocHJvcGVydHksIHNraXBDb21wdXRlZCktPlxuXHRwYXJzZUZsb2F0IEBzdHlsZVNhZmUocHJvcGVydHksIHNraXBDb21wdXRlZClcblxuXG5RdWlja0VsZW1lbnQ6OnJlY2FsY1N0eWxlID0gKHJlY2FsY0NoaWxkcmVuKS0+XG5cdHRhcmdldFN0eWxlcyA9IEBfcmVzb2x2ZUZuU3R5bGVzKEBfZ2V0QWN0aXZlU3RhdGVzKCksIHRydWUpXG5cblx0QHN0eWxlKHRhcmdldFN0eWxlcylcblx0XG5cdGlmIHJlY2FsY0NoaWxkcmVuXG5cdFx0Y2hpbGQucmVjYWxjU3R5bGUoKSBmb3IgY2hpbGQgaW4gQF9jaGlsZHJlblxuXHRcblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6OmN1cnJlbnRTdGF0ZVN0eWxlID0gKHByb3BlcnR5KS0+IGlmIHByb3BlcnR5XG5cdGlmIEBfc3RhdGUubGVuZ3RoXG5cdFx0c3RhdGVzID0gQF9zdGF0ZS5zbGljZSgpXG5cdFx0c3RhdGVzLnB1c2goQF9zdGF0ZVNoYXJlZC4uLikgaWYgQF9zdGF0ZVNoYXJlZCBhbmQgQF9zdGF0ZVNoYXJlZC5sZW5ndGhcblx0XHRpID0gc3RhdGVzLmxlbmd0aFxuXHRcdHdoaWxlIHN0YXRlID0gc3RhdGVzWy0taV1cblx0XHRcdHJldHVybiBAX3N0eWxlc1tzdGF0ZV0ucnVsZVtwcm9wZXJ0eV0gaWYgQF9zdHlsZXNbc3RhdGVdIGFuZCBJUy5kZWZpbmVkKEBfc3R5bGVzW3N0YXRlXS5ydWxlW3Byb3BlcnR5XSlcblxuXHRyZXR1cm4gQF9zdHlsZXMuYmFzZS5ydWxlW3Byb3BlcnR5XSBpZiBAX3N0eWxlcy5iYXNlXG5cblxuUXVpY2tFbGVtZW50OjpoaWRlID0gKCktPlxuXHRAc3R5bGUgJ2Rpc3BsYXknLCAnbm9uZSdcblxuXG5RdWlja0VsZW1lbnQ6OnNob3cgPSAoZGlzcGxheSktPlxuXHRpZiBub3QgZGlzcGxheVxuXHRcdGRpc3BsYXkgPSBAY3VycmVudFN0YXRlU3R5bGUoJ2Rpc3BsYXknKVxuXHRcdGRpc3BsYXkgPSAnYmxvY2snIGlmIGRpc3BsYXkgaXMgJ25vbmUnIG9yIG5vdCBkaXNwbGF5XG5cdFxuXHRkaXNwbGF5ID89IEBfc3R5bGVzLmJhc2U/LmRpc3BsYXkgb3IgJ2Jsb2NrJ1xuXHRAc3R5bGUgJ2Rpc3BsYXknLCBkaXNwbGF5XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyBRdWlja0VsZW1lbnQ6Oixcblx0J29yaWVudGF0aW9uJzogb3JpZW50YXRpb25HZXR0ZXIgPSBnZXQ6ICgpLT4gaWYgQHdpZHRoID4gQGhlaWdodCB0aGVuICdsYW5kc2NhcGUnIGVsc2UgJ3BvcnRyYWl0J1xuXHQnYXNwZWN0UmF0aW8nOiBhc3BlY3RSYXRpb0dldHRlciA9IGdldDogKCktPiBAd2lkdGgvQGhlaWdodFxuXHQncmVjdCc6IGdldDogKCktPiBAZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblx0J3dpZHRoJzpcblx0XHRnZXQ6ICgpLT4gcGFyc2VGbG9hdCBAc3R5bGUoJ3dpZHRoJylcblx0XHRzZXQ6ICh2YWx1ZSktPiBAc3R5bGUgJ3dpZHRoJywgdmFsdWVcblx0J2hlaWdodCc6XG5cdFx0Z2V0OiAoKS0+IHBhcnNlRmxvYXQgQHN0eWxlKCdoZWlnaHQnKVxuXHRcdHNldDogKHZhbHVlKS0+IEBzdHlsZSAnaGVpZ2h0JywgdmFsdWVcblxuXG4iLCJRdWlja0VsZW1lbnQ6OmF0dHIgPSAodGFyZ2V0LCBuZXdWYWx1ZSktPlxuXHRpZiBhcmd1bWVudHMubGVuZ3RoIGlzIDFcblx0XHRpZiB0eXBlb2YgdGFyZ2V0IGlzICdzdHJpbmcnXG5cdFx0XHRyZXR1cm4gQGVsLmdldEF0dHJpYnV0ZSh0YXJnZXQpXG5cdFxuXHRcdGlmIElTLm9iamVjdCh0YXJnZXQpXG5cdFx0XHRrZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KTsgaSA9IC0xXG5cdFx0XHRAYXR0cihrZXksIHRhcmdldFtrZXldKSB3aGlsZSBrZXk9a2V5c1srK2ldXG5cblx0ZWxzZSBpZiBuZXdWYWx1ZSBpcyBudWxsXG5cdFx0cmV0dXJuIEBlbC5yZW1vdmVBdHRyaWJ1dGUodGFyZ2V0KVxuXG5cdGVsc2Vcblx0XHRAZWwuc2V0QXR0cmlidXRlKHRhcmdldCwgbmV3VmFsdWUpXG5cdFxuXHRyZXR1cm4gQFxuXG5cblxuUXVpY2tFbGVtZW50Ojpwcm9wID0gKHRhcmdldCwgbmV3VmFsdWUpLT5cblx0aWYgYXJndW1lbnRzLmxlbmd0aCBpcyAxXG5cdFx0aWYgdHlwZW9mIHRhcmdldCBpcyAnc3RyaW5nJ1xuXHRcdFx0cmV0dXJuIEBlbFt0YXJnZXRdXG5cdFxuXHRcdGlmIElTLm9iamVjdCh0YXJnZXQpXG5cdFx0XHRrZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KTsgaSA9IC0xXG5cdFx0XHRAcHJvcChrZXksIHRhcmdldFtrZXldKSB3aGlsZSBrZXk9a2V5c1srK2ldXG5cdFxuXHRlbHNlXG5cdFx0QGVsW3RhcmdldF0gPSBuZXdWYWx1ZVxuXHRcdFxuXHRyZXR1cm4gQCIsIlF1aWNrRWxlbWVudDo6dG9UZW1wbGF0ZSA9ICgpLT5cblx0UXVpY2tEb20udGVtcGxhdGUoQClcblxuXG5RdWlja0VsZW1lbnQ6OmNsb25lID0gKCktPlxuXHRlbENsb25lID0gQGVsLmNsb25lTm9kZShmYWxzZSlcblx0b3B0aW9ucyA9IGV4dGVuZC5jbG9uZShAb3B0aW9ucywge2V4aXN0aW5nOmVsQ2xvbmV9KVxuXHRcblx0bmV3RWwgPSBuZXcgUXVpY2tFbGVtZW50KEB0eXBlLCBvcHRpb25zKVxuXHRuZXdFbC5zdGF0ZShhY3RpdmVTdGF0ZSwgb24pIGZvciBhY3RpdmVTdGF0ZSBpbiBAX3N0YXRlXG5cdG5ld0VsLmFwcGVuZChjaGlsZC5jbG9uZSgpKSBmb3IgY2hpbGQgaW4gQGNoaWxkcmVuXG5cdGZvciBldmVudE5hbWUsIGNhbGxiYWNrcyBvZiBAX2V2ZW50Q2FsbGJhY2tzXG5cdFx0bmV3RWwub24oZXZlbnROYW1lLCBjYWxsYmFjaykgZm9yIGNhbGxiYWNrIGluIGNhbGxiYWNrc1xuXHRcblx0cmV0dXJuIG5ld0VsXG5cblxuUXVpY2tFbGVtZW50OjphcHBlbmQgPSAodGFyZ2V0RWwpLT5cblx0aWYgdGFyZ2V0RWxcblx0XHR0YXJnZXRFbCA9IGhlbHBlcnMubm9ybWFsaXplR2l2ZW5FbCh0YXJnZXRFbClcblx0XHRcblx0XHRpZiBJUy5xdWlja0RvbUVsKHRhcmdldEVsKVxuXHRcdFx0cHJldlBhcmVudCA9IHRhcmdldEVsLnBhcmVudFxuXHRcdFx0cHJldlBhcmVudC5fcmVtb3ZlQ2hpbGQodGFyZ2V0RWwpIGlmIHByZXZQYXJlbnRcblx0XHRcdEBfY2hpbGRyZW4ucHVzaCh0YXJnZXRFbClcblx0XHRcdEBlbC5hcHBlbmRDaGlsZCh0YXJnZXRFbC5lbClcblx0XHRcdHRhcmdldEVsLl9yZWZyZXNoUGFyZW50KCkgIyBGb3JjZSByZS1mcmVzaCB0YXJnZXRFbC5fcGFyZW50IHZhbHVlIHRvIHRyaWdnZXIgaW5zZXJ0ZWQgY2FsbGJhY2tcblxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6YXBwZW5kVG8gPSAodGFyZ2V0RWwpLT5cblx0aWYgdGFyZ2V0RWxcblx0XHR0YXJnZXRFbCA9IGhlbHBlcnMubm9ybWFsaXplR2l2ZW5FbCh0YXJnZXRFbClcblx0XHRcblx0XHRpZiBJUy5xdWlja0RvbUVsKHRhcmdldEVsKVxuXHRcdFx0dGFyZ2V0RWwuYXBwZW5kKEApXG5cdFxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6cHJlcGVuZCA9ICh0YXJnZXRFbCktPlxuXHRpZiB0YXJnZXRFbFxuXHRcdHRhcmdldEVsID0gaGVscGVycy5ub3JtYWxpemVHaXZlbkVsKHRhcmdldEVsKVxuXHRcdFxuXHRcdGlmIElTLnF1aWNrRG9tRWwodGFyZ2V0RWwpXG5cdFx0XHRwcmV2UGFyZW50ID0gdGFyZ2V0RWwucGFyZW50XG5cdFx0XHRwcmV2UGFyZW50Ll9yZW1vdmVDaGlsZCh0YXJnZXRFbCkgaWYgcHJldlBhcmVudFxuXHRcdFx0QF9jaGlsZHJlbi51bnNoaWZ0KHRhcmdldEVsKVxuXHRcdFx0QGVsLmluc2VydEJlZm9yZSh0YXJnZXRFbC5lbCwgQGVsLmZpcnN0Q2hpbGQpXG5cdFx0XHR0YXJnZXRFbC5fcmVmcmVzaFBhcmVudCgpICMgRm9yY2UgcmUtZnJlc2ggdGFyZ2V0RWwuX3BhcmVudCB2YWx1ZSB0byB0cmlnZ2VyIGluc2VydGVkIGNhbGxiYWNrXG5cdFxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6cHJlcGVuZFRvID0gKHRhcmdldEVsKS0+XG5cdGlmIHRhcmdldEVsXG5cdFx0dGFyZ2V0RWwgPSBoZWxwZXJzLm5vcm1hbGl6ZUdpdmVuRWwodGFyZ2V0RWwpXG5cdFx0XG5cdFx0aWYgSVMucXVpY2tEb21FbCh0YXJnZXRFbClcblx0XHRcdHRhcmdldEVsLnByZXBlbmQoQClcblxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6YWZ0ZXIgPSAodGFyZ2V0RWwpLT5cblx0aWYgdGFyZ2V0RWwgYW5kIEBwYXJlbnRcblx0XHR0YXJnZXRFbCA9IGhlbHBlcnMubm9ybWFsaXplR2l2ZW5FbCh0YXJnZXRFbClcblxuXHRcdGlmIElTLnF1aWNrRG9tRWwodGFyZ2V0RWwpXG5cdFx0XHRteUluZGV4ID0gQHBhcmVudC5fY2hpbGRyZW4uaW5kZXhPZihAKVxuXHRcdFx0QHBhcmVudC5fY2hpbGRyZW4uc3BsaWNlKG15SW5kZXgrMSwgMCwgdGFyZ2V0RWwpXG5cdFx0XHRAZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFyZ2V0RWwuZWwsIEBlbC5uZXh0U2libGluZylcblx0XHRcdHRhcmdldEVsLl9yZWZyZXNoUGFyZW50KCkgIyBGb3JjZSByZS1mcmVzaCB0YXJnZXRFbC5fcGFyZW50IHZhbHVlIHRvIHRyaWdnZXIgaW5zZXJ0ZWQgY2FsbGJhY2tcblxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6aW5zZXJ0QWZ0ZXIgPSAodGFyZ2V0RWwpLT5cblx0aWYgdGFyZ2V0RWxcblx0XHR0YXJnZXRFbCA9IGhlbHBlcnMubm9ybWFsaXplR2l2ZW5FbCh0YXJnZXRFbClcblx0XHRcblx0XHRpZiBJUy5xdWlja0RvbUVsKHRhcmdldEVsKVxuXHRcdFx0dGFyZ2V0RWwuYWZ0ZXIoQClcblx0XG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjpiZWZvcmUgPSAodGFyZ2V0RWwpLT5cblx0aWYgdGFyZ2V0RWwgYW5kIEBwYXJlbnRcblx0XHR0YXJnZXRFbCA9IGhlbHBlcnMubm9ybWFsaXplR2l2ZW5FbCh0YXJnZXRFbClcblxuXHRcdGlmIElTLnF1aWNrRG9tRWwodGFyZ2V0RWwpXG5cdFx0XHRteUluZGV4ID0gQHBhcmVudC5fY2hpbGRyZW4uaW5kZXhPZihAKVxuXHRcdFx0QHBhcmVudC5fY2hpbGRyZW4uc3BsaWNlKG15SW5kZXgsIDAsIHRhcmdldEVsKVxuXHRcdFx0QGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhcmdldEVsLmVsLCBAZWwpXG5cdFx0XHR0YXJnZXRFbC5fcmVmcmVzaFBhcmVudCgpICMgRm9yY2UgcmUtZnJlc2ggdGFyZ2V0RWwuX3BhcmVudCB2YWx1ZSB0byB0cmlnZ2VyIGluc2VydGVkIGNhbGxiYWNrXG5cblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6Omluc2VydEJlZm9yZSA9ICh0YXJnZXRFbCktPlxuXHRpZiB0YXJnZXRFbFxuXHRcdHRhcmdldEVsID0gaGVscGVycy5ub3JtYWxpemVHaXZlbkVsKHRhcmdldEVsKVxuXHRcdFxuXHRcdGlmIElTLnF1aWNrRG9tRWwodGFyZ2V0RWwpXG5cdFx0XHR0YXJnZXRFbC5iZWZvcmUoQClcblx0XG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjpkZXRhY2ggPSAoKS0+XG5cdEBwYXJlbnQ/Ll9yZW1vdmVDaGlsZChAKVxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6cmVtb3ZlID0gKCktPlxuXHRAZGV0YWNoKClcblx0QHJlc2V0U3RhdGUoKVxuXHRpZiBAX2V2ZW50Q2FsbGJhY2tzXG5cdFx0QF9ldmVudENhbGxiYWNrc1tldmVudE5hbWVdLmxlbmd0aCA9IDAgZm9yIGV2ZW50TmFtZSBvZiBAX2V2ZW50Q2FsbGJhY2tzXG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjplbXB0eSA9ICgpLT5cblx0QF9yZW1vdmVDaGlsZChjaGlsZCkgZm9yIGNoaWxkIGluIEBjaGlsZHJlbi5zbGljZSgpXG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50Ojp3cmFwID0gKHRhcmdldEVsKS0+XG5cdGlmIHRhcmdldEVsXG5cdFx0dGFyZ2V0RWwgPSBoZWxwZXJzLm5vcm1hbGl6ZUdpdmVuRWwodGFyZ2V0RWwpXG5cdFx0Y3VycmVudFBhcmVudCA9IEBwYXJlbnRcblxuXHRcdGlmIElTLnF1aWNrRG9tRWwodGFyZ2V0RWwpIGFuZCB0YXJnZXRFbCBpc250IEAgYW5kIHRhcmdldEVsIGlzbnQgQHBhcmVudFxuXHRcdFx0aWYgY3VycmVudFBhcmVudFxuXHRcdFx0XHRjdXJyZW50UGFyZW50Ll9yZW1vdmVDaGlsZChALCBpZiBub3QgdGFyZ2V0RWwucGFyZW50IHRoZW4gdGFyZ2V0RWwpXG5cdFx0XHRcblx0XHRcdHRhcmdldEVsLmFwcGVuZChAKVxuXG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50Ojp1bndyYXAgPSAoKS0+XG5cdHBhcmVudCA9IEBwYXJlbnRcblx0aWYgcGFyZW50XG5cdFx0cGFyZW50Q2hpbGRyZW4gPSBRdWlja0RvbS5iYXRjaChwYXJlbnQuY2hpbGRyZW4pXG5cdFx0cGFyZW50U2libGluZyA9IHBhcmVudC5uZXh0XG5cdFx0Z3JhbmRQYXJlbnQgPSBwYXJlbnQucGFyZW50XG5cdFx0aWYgZ3JhbmRQYXJlbnRcblx0XHRcdHBhcmVudC5kZXRhY2goKVxuXG5cdFx0XHRpZiBwYXJlbnRTaWJsaW5nXG5cdFx0XHRcdHBhcmVudENoaWxkcmVuLmluc2VydEJlZm9yZShwYXJlbnRTaWJsaW5nKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRwYXJlbnRDaGlsZHJlbi5hcHBlbmRUbyhncmFuZFBhcmVudClcblx0XG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjpyZXBsYWNlID0gKHRhcmdldEVsKS0+XG5cdGlmIHRhcmdldEVsXG5cdFx0dGFyZ2V0RWwgPSBoZWxwZXJzLm5vcm1hbGl6ZUdpdmVuRWwodGFyZ2V0RWwpXG5cdFxuXHRcdGlmIElTLnF1aWNrRG9tRWwodGFyZ2V0RWwpIGFuZCB0YXJnZXRFbCBpc250IEBcblx0XHRcdHRhcmdldEVsLmRldGFjaCgpXG5cdFx0XHRAcGFyZW50Py5fcmVtb3ZlQ2hpbGQoQCwgdGFyZ2V0RWwpXG5cdFx0XHR0YXJnZXRFbC5fcmVmcmVzaFBhcmVudCgpICMgRm9yY2UgcmUtZnJlc2ggdGFyZ2V0RWwuX3BhcmVudCB2YWx1ZSB0byB0cmlnZ2VyIGluc2VydGVkIGNhbGxiYWNrXG5cdFxuXHRyZXR1cm4gQFxuXG5cblF1aWNrRWxlbWVudDo6aGFzQ2xhc3MgPSAodGFyZ2V0KS0+XG5cdGhlbHBlcnMuaW5jbHVkZXMoQGNsYXNzTGlzdCwgdGFyZ2V0KVxuXG5cblF1aWNrRWxlbWVudDo6YWRkQ2xhc3MgPSAodGFyZ2V0KS0+XG5cdGNsYXNzTGlzdCA9IEBjbGFzc0xpc3Rcblx0dGFyZ2V0SW5kZXggPSBjbGFzc0xpc3QuaW5kZXhPZih0YXJnZXQpXG5cblx0aWYgdGFyZ2V0SW5kZXggaXMgLTFcblx0XHRjbGFzc0xpc3QucHVzaCh0YXJnZXQpXG5cdFx0QGNsYXNzTmFtZSA9IGlmIGNsYXNzTGlzdC5sZW5ndGggPiAxIHRoZW4gY2xhc3NMaXN0LmpvaW4oJyAnKSBlbHNlIGNsYXNzTGlzdFswXVxuXG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjpyZW1vdmVDbGFzcyA9ICh0YXJnZXQpLT5cblx0Y2xhc3NMaXN0ID0gQGNsYXNzTGlzdFxuXHR0YXJnZXRJbmRleCA9IGNsYXNzTGlzdC5pbmRleE9mKHRhcmdldClcblx0XG5cdGlmIHRhcmdldEluZGV4IGlzbnQgLTFcblx0XHRjbGFzc0xpc3Quc3BsaWNlKHRhcmdldEluZGV4LCAxKVxuXHRcdEBjbGFzc05hbWUgPSBpZiBjbGFzc0xpc3QubGVuZ3RoIHRoZW4gY2xhc3NMaXN0LmpvaW4oJyAnKSBlbHNlICcnXG5cblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6OnRvZ2dsZUNsYXNzID0gKHRhcmdldCktPlxuXHRpZiBAaGFzQ2xhc3ModGFyZ2V0KVxuXHRcdEByZW1vdmVDbGFzcyh0YXJnZXQpXG5cdGVsc2Vcblx0XHRAYWRkQ2xhc3ModGFyZ2V0KVxuXG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjpzZXRSZWYgPSAodGFyZ2V0KS0+XG5cdEByZWYgPSBAb3B0aW9ucy5yZWYgPSB0YXJnZXRcblx0QGF0dHIgJ2RhdGEtcmVmJywgdGFyZ2V0XG5cdHJldHVybiBAXG5cblxuUXVpY2tFbGVtZW50OjpfcmVmcmVzaFBhcmVudCA9ICgpLT5cblx0QHBhcmVudFxuXG5cblF1aWNrRWxlbWVudDo6X3JlbW92ZUNoaWxkID0gKHRhcmdldENoaWxkLCByZXBsYWNlbWVudENoaWxkKS0+XG5cdGluZGV4T2ZDaGlsZCA9IEBjaGlsZHJlbi5pbmRleE9mKHRhcmdldENoaWxkKVxuXHRpZiBpbmRleE9mQ2hpbGQgaXNudCAtMVxuXHRcdGlmIHJlcGxhY2VtZW50Q2hpbGRcblx0XHRcdEBlbC5yZXBsYWNlQ2hpbGQocmVwbGFjZW1lbnRDaGlsZC5lbCwgdGFyZ2V0Q2hpbGQuZWwpXG5cdFx0XHRAX2NoaWxkcmVuLnNwbGljZShpbmRleE9mQ2hpbGQsIDEsIHJlcGxhY2VtZW50Q2hpbGQpXG5cdFx0ZWxzZVxuXHRcdFx0QGVsLnJlbW92ZUNoaWxkKHRhcmdldENoaWxkLmVsKVxuXHRcdFx0QF9jaGlsZHJlbi5zcGxpY2UoaW5kZXhPZkNoaWxkLCAxKVxuXHRcdFxuXG5cdHJldHVybiBAXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgUXVpY2tFbGVtZW50OjosXG5cdCdodG1sJzpcblx0XHRnZXQ6ICgpLT4gQGVsLmlubmVySFRNTFxuXHRcdHNldDogKG5ld1ZhbHVlKS0+IEBlbC5pbm5lckhUTUwgPSBuZXdWYWx1ZVxuXHRcblx0J3RleHQnOlxuXHRcdGdldDogKCktPiBAZWwudGV4dENvbnRlbnRcblx0XHRzZXQ6IChuZXdWYWx1ZSktPiBAZWwudGV4dENvbnRlbnQgPSBuZXdWYWx1ZVxuXG5cdCdjbGFzc05hbWUnOlxuXHRcdGdldDogKCktPiBpZiBAc3ZnIHRoZW4gKEBhdHRyKCdjbGFzcycpIG9yICcnKSBlbHNlIEByYXcuY2xhc3NOYW1lXG5cdFx0c2V0OiAobmV3VmFsdWUpLT4gaWYgQHN2ZyB0aGVuIEBhdHRyKCdjbGFzcycsIG5ld1ZhbHVlKSBlbHNlIEByYXcuY2xhc3NOYW1lID0gbmV3VmFsdWVcblxuXHQnY2xhc3NMaXN0Jzpcblx0XHRnZXQ6ICgpLT5cblx0XHRcdGxpc3QgPSBAY2xhc3NOYW1lLnNwbGl0KC9cXHMrLylcblx0XHRcdGxpc3QucG9wKCkgaWYgbGlzdFtsaXN0Lmxlbmd0aC0xXSBpcyAnJ1xuXHRcdFx0bGlzdC5zaGlmdCgpIGlmIGxpc3RbMF0gaXMgJydcblx0XHRcdHJldHVybiBsaXN0XG5cblxuXG5cblxuXG5cbiIsIlF1aWNrRWxlbWVudDo6dXBkYXRlT3B0aW9ucyA9IChvcHRpb25zKS0+XG5cdGlmIElTLm9iamVjdChvcHRpb25zKSBcblx0XHRAb3B0aW9ucyA9IG9wdGlvbnNcblx0XHRAX25vcm1hbGl6ZU9wdGlvbnMoKVxuXHRcdEBfYXBwbHlPcHRpb25zKEBvcHRpb25zKVxuXHRcblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6OnVwZGF0ZVN0YXRlU3R5bGVzID0gKHN0eWxlcyktPlxuXHRpZiBJUy5vYmplY3RQbGFpbihzdHlsZXMpXG5cdFx0ZXh0ZW5kLmRlZXAuY29uY2F0IEAsIHBhcnNlZCA9IEBfcGFyc2VTdHlsZXMoc3R5bGVzKVxuXG5cdFx0aWYgcGFyc2VkLl9zdHlsZXNcblx0XHRcdHVwZGF0ZWRTdGF0ZXMgPSBPYmplY3Qua2V5cyhwYXJzZWQuX3N0eWxlcylcblx0XHRcdFxuXHRcdFx0Zm9yIHN0YXRlIGluIHVwZGF0ZWRTdGF0ZXMgd2hlbiBAc3RhdGUoc3RhdGUpIG9yIHN0YXRlIGlzICdiYXNlJ1xuXHRcdFx0XHRAX2FwcGx5UmVnaXN0ZXJlZFN0eWxlKEBfc3R5bGVzW3N0YXRlXSwgQF9nZXRBY3RpdmVTdGF0ZXMoc3RhdGUpLCBmYWxzZSlcblx0XHRcblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6OnVwZGF0ZVN0YXRlVGV4dHMgPSAodGV4dHMpLT5cblx0aWYgSVMub2JqZWN0UGxhaW4odGV4dHMpXG5cdFx0ZXh0ZW5kLmRlZXAuY29uY2F0IEAsIHBhcnNlZCA9IEBfcGFyc2VUZXh0cyh0ZXh0cylcblx0XG5cdHJldHVybiBAXG5cblxuXG5RdWlja0VsZW1lbnQ6OmFwcGx5RGF0YSA9IChkYXRhLCBwYXNzVGhyb3VnaCktPlxuXHRpZiBAb3B0aW9ucy5wYXNzRGF0YVRvQ2hpbGRyZW4gYW5kIEBfY2hpbGRyZW4ubGVuZ3RoIGFuZCAocGFzc1Rocm91Z2ggPz0gdHJ1ZSlcblx0XHRjaGlsZC5hcHBseURhdGEoZGF0YSkgZm9yIGNoaWxkIGluIEBfY2hpbGRyZW5cblxuXHRpZiBjb21wdXRlcnMgPSBAb3B0aW9ucy5jb21wdXRlcnNcblx0XHRkZWZhdWx0cyA9IEBvcHRpb25zLmRlZmF1bHRzXG5cdFx0a2V5cyA9IE9iamVjdC5rZXlzKGNvbXB1dGVycylcblx0XHRcblx0XHRmb3Iga2V5IGluIGtleXNcblx0XHRcdGlmIEBvcHRpb25zLmludm9rZUNvbXB1dGVyc09uY2Vcblx0XHRcdFx0Y29udGludWUgaWYgQF9pbnZva2VkQ29tcHV0ZXJzW2tleV1cblx0XHRcdFx0QF9pbnZva2VkQ29tcHV0ZXJzW2tleV0gPSAxXG5cdFx0XHRcblx0XHRcdGlmIGRhdGEgYW5kIGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KVxuXHRcdFx0XHRAX3J1bkNvbXB1dGVyKGtleSwgZGF0YVtrZXldLCBkYXRhKVxuXHRcdFx0XG5cdFx0XHRlbHNlIGlmIGRlZmF1bHRzIGFuZCBkZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpXG5cdFx0XHRcdEBfcnVuQ29tcHV0ZXIoa2V5LCBkZWZhdWx0c1trZXldLCBkYXRhKVxuXHRcblx0cmV0dXJuIEBcblxuXG5RdWlja0VsZW1lbnQ6Ol9ydW5Db21wdXRlciA9IChjb21wdXRlciwgYXJnLCBkYXRhKS0+XG5cdEBvcHRpb25zLmNvbXB1dGVyc1tjb21wdXRlcl0uY2FsbChALCBhcmcsIGRhdGEpXG5cblxuXG5cblxuXG4iLCJRdWlja1dpbmRvdyA9IFxuXHR0eXBlOiAnd2luZG93J1xuXHRlbDogd2luZG93XG5cdHJhdzogd2luZG93XG5cdF9ldmVudENhbGxiYWNrczoge19fcmVmczp7fX1cblx0XG5cblF1aWNrV2luZG93Lm9uID0gIFF1aWNrRWxlbWVudDo6b25cblF1aWNrV2luZG93Lm9mZiA9ICBRdWlja0VsZW1lbnQ6Om9mZlxuUXVpY2tXaW5kb3cuZW1pdCA9ICBRdWlja0VsZW1lbnQ6OmVtaXRcblF1aWNrV2luZG93LmVtaXRQcml2YXRlID0gIFF1aWNrRWxlbWVudDo6ZW1pdFByaXZhdGVcblF1aWNrV2luZG93Ll9saXN0ZW5UbyA9ICBRdWlja0VsZW1lbnQ6Ol9saXN0ZW5Ub1xuUXVpY2tXaW5kb3cuX2ludm9rZUhhbmRsZXJzID0gIFF1aWNrRWxlbWVudDo6X2ludm9rZUhhbmRsZXJzXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyBRdWlja1dpbmRvdyxcblx0J3dpZHRoJzogZ2V0OiAoKS0+IHdpbmRvdy5pbm5lcldpZHRoXG5cdCdoZWlnaHQnOiBnZXQ6ICgpLT4gd2luZG93LmlubmVySGVpZ2h0XG5cdCdvcmllbnRhdGlvbic6IG9yaWVudGF0aW9uR2V0dGVyXG5cdCdhc3BlY3RSYXRpbyc6IGFzcGVjdFJhdGlvR2V0dGVyXG5cbiIsIk1lZGlhUXVlcnkgPSBuZXcgKCktPlxuXHRjYWxsYmFja3MgPSBbXVxuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICdyZXNpemUnLCAoKS0+XG5cdFx0Y2FsbGJhY2soKSBmb3IgY2FsbGJhY2sgaW4gY2FsbGJhY2tzXG5cdFx0cmV0dXJuXG5cblx0QHBhcnNlUXVlcnkgPSAodGFyZ2V0LCBxdWVyeVN0cmluZyktPlxuXHRcdHF1ZXJ5U3BsaXQgPSBxdWVyeVN0cmluZy5zcGxpdCgnKCcpXG5cdFx0c291cmNlID0gcXVlcnlTcGxpdFswXVxuXHRcdHNvdXJjZSA9IHN3aXRjaCBzb3VyY2Vcblx0XHRcdHdoZW4gJ3dpbmRvdycgdGhlbiBRdWlja1dpbmRvd1xuXHRcdFx0d2hlbiAncGFyZW50JyB0aGVuIHRhcmdldC5wYXJlbnRcblx0XHRcdHdoZW4gJ3NlbGYnIHRoZW4gdGFyZ2V0XG5cdFx0XHRlbHNlIHRhcmdldC5wYXJlbnRNYXRjaGluZyAocGFyZW50KS0+IHBhcmVudC5yZWYgaXMgc291cmNlLnNsaWNlKDEpXG5cblx0XHRydWxlcyA9IHF1ZXJ5U3BsaXRbMV1cblx0XHRcdC5zbGljZSgwLC0xKVxuXHRcdFx0LnNwbGl0KHJ1bGVEZWxpbWl0ZXIpXG5cdFx0XHQubWFwIChydWxlKS0+IFxuXHRcdFx0XHRzcGxpdCA9IHJ1bGUuc3BsaXQoJzonKVxuXHRcdFx0XHR2YWx1ZSA9IHBhcnNlRmxvYXQoc3BsaXRbMV0pXG5cdFx0XHRcdHZhbHVlID0gc3BsaXRbMV0gaWYgaXNOYU4odmFsdWUpXG5cdFx0XHRcdGtleSA9IHNwbGl0WzBdXG5cdFx0XHRcdGtleVByZWZpeCA9IGtleS5zbGljZSgwLDQpXG5cdFx0XHRcdG1heCA9IGtleVByZWZpeCBpcyAnbWF4LSdcblx0XHRcdFx0bWluID0gbm90IG1heCBhbmQga2V5UHJlZml4IGlzICdtaW4tJ1xuXHRcdFx0XHRrZXkgPSBrZXkuc2xpY2UoNCkgaWYgbWF4IG9yIG1pblxuXHRcdFx0XHRnZXR0ZXIgPSBzd2l0Y2gga2V5XG5cdFx0XHRcdFx0d2hlbiAnb3JpZW50YXRpb24nIHRoZW4gKCktPiBzb3VyY2Uub3JpZW50YXRpb25cblx0XHRcdFx0XHR3aGVuICdhc3BlY3QtcmF0aW8nIHRoZW4gKCktPiBzb3VyY2UuYXNwZWN0UmF0aW9cblx0XHRcdFx0XHR3aGVuICd3aWR0aCcsJ2hlaWdodCcgdGhlbiAoKS0+IHNvdXJjZVtrZXldXG5cdFx0XHRcdFx0ZWxzZSAoKS0+XG5cdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IHNvdXJjZS5zdHlsZShrZXkpXG5cdFx0XHRcdFx0XHRwYXJzZWRWYWx1ZSA9IHBhcnNlRmxvYXQgc3RyaW5nVmFsdWVcblx0XHRcdFx0XHRcdHJldHVybiBpZiBpc05hTihwYXJzZWRWYWx1ZSkgdGhlbiBzdHJpbmdWYWx1ZSBlbHNlIHBhcnNlZFZhbHVlXG5cdFx0XHRcdFxuXHRcdFx0XHRyZXR1cm4ge2tleSx2YWx1ZSxtaW4sbWF4LGdldHRlcn1cblxuXHRcdHJldHVybiB7c291cmNlLCBydWxlc31cblxuXG5cdEByZWdpc3RlciA9ICh0YXJnZXQsIHF1ZXJ5U3RyaW5nKS0+XG5cdFx0cXVlcnkgPSBAcGFyc2VRdWVyeSh0YXJnZXQsIHF1ZXJ5U3RyaW5nKVxuXHRcdGlmIHF1ZXJ5LnNvdXJjZVxuXHRcdFx0Y2FsbGJhY2tzLnB1c2ggY2FsbGJhY2sgPSAoKS0+IHRlc3RSdWxlKHRhcmdldCwgcXVlcnksIHF1ZXJ5U3RyaW5nKVxuXHRcdFx0Y2FsbGJhY2soKVxuXHRcdHJldHVybiBxdWVyeVxuXG5cblx0dGVzdFJ1bGUgPSAodGFyZ2V0LCBxdWVyeSwgcXVlcnlTdHJpbmcpLT5cblx0XHRwYXNzZWQgPSB0cnVlXG5cblx0XHRmb3IgcnVsZSBpbiBxdWVyeS5ydWxlc1xuXHRcdFx0Y3VycmVudFZhbHVlID0gcnVsZS5nZXR0ZXIoKVxuXHRcdFx0cGFzc2VkID0gc3dpdGNoXG5cdFx0XHRcdHdoZW4gcnVsZS5taW4gdGhlbiBjdXJyZW50VmFsdWUgPj0gcnVsZS52YWx1ZVxuXHRcdFx0XHR3aGVuIHJ1bGUubWF4IHRoZW4gY3VycmVudFZhbHVlIDw9IHJ1bGUudmFsdWVcblx0XHRcdFx0ZWxzZSBjdXJyZW50VmFsdWUgaXMgcnVsZS52YWx1ZVxuXG5cdFx0XHRicmVhayBpZiBub3QgcGFzc2VkXHRcdFxuXHRcdFxuXHRcdHRhcmdldC5zdGF0ZShxdWVyeVN0cmluZywgcGFzc2VkKVxuXG5cdHJldHVybiBAXG5cblxuXG5cbnJ1bGVEZWxpbWl0ZXIgPSAvLFxccyovXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iLCJjbGFzcyBRdWlja0JhdGNoXG5cdGNvbnN0cnVjdG9yOiAoZWxlbWVudHMsIEByZXR1cm5SZXN1bHRzKS0+XG5cdFx0QGVsZW1lbnRzID0gZWxlbWVudHMubWFwIChlbCktPiBRdWlja0RvbShlbClcblxuXHRyZXZlcnNlOiAoKS0+XG5cdFx0QGVsZW1lbnRzID0gQGVsZW1lbnRzLnJldmVyc2UoKVxuXHRcdHJldHVybiBAXG5cblx0cmV0dXJuOiAocmV0dXJuTmV4dCktPlxuXHRcdGlmIHJldHVybk5leHRcblx0XHRcdEByZXR1cm5SZXN1bHRzID0gdHJ1ZVxuXHRcdFx0cmV0dXJuIEBcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gQGxhc3RSZXN1bHRzXG5cbiMjIyBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAjIyNcblF1aWNrQmF0Y2gubmFtZSA/PSAnUXVpY2tCYXRjaCdcblxuXG5cbk9iamVjdC5rZXlzKFF1aWNrRWxlbWVudDo6KS5jb25jYXQoJ2NzcycsICdyZXBsYWNlV2l0aCcsICdodG1sJywgJ3RleHQnKS5mb3JFYWNoIChtZXRob2QpLT5cblx0UXVpY2tCYXRjaDo6W21ldGhvZF0gPSAobmV3VmFsdWUpLT5cblx0XHRyZXN1bHRzID0gQGxhc3RSZXN1bHRzID0gZm9yIGVsZW1lbnQgaW4gQGVsZW1lbnRzXG5cdFx0XHRpZiBtZXRob2QgaXMgJ2h0bWwnIG9yIG1ldGhvZCBpcyAndGV4dCdcblx0XHRcdFx0aWYgbmV3VmFsdWUgdGhlbiBlbGVtZW50W21ldGhvZF0gPSBuZXdWYWx1ZSBlbHNlIGVsZW1lbnRbbWV0aG9kXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRlbGVtZW50W21ldGhvZF0oYXJndW1lbnRzLi4uKVxuXHRcdFxuXHRcdHJldHVybiBpZiBAcmV0dXJuUmVzdWx0cyB0aGVuIHJlc3VsdHMgZWxzZSBAXG5cblxuUXVpY2tEb20uYmF0Y2ggPSAoZWxlbWVudHMsIHJldHVyblJlc3VsdHMpLT5cblx0aWYgbm90IElTLml0ZXJhYmxlKGVsZW1lbnRzKVxuXHRcdHRocm93IG5ldyBFcnJvcihcIkJhdGNoOiBleHBlY3RlZCBhbiBpdGVyYWJsZSwgZ290ICN7U3RyaW5nKGVsZW1lbnRzKX1cIilcblx0ZWxzZSBpZiBub3QgZWxlbWVudHMubGVuZ3RoXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQmF0Y2g6IGV4cGVjdGVkIGEgbm9uLWVtcHR5IGVsZW1lbnQgY29sbGVjdGlvblwiKVxuXG5cdHJldHVybiBuZXcgUXVpY2tCYXRjaChlbGVtZW50cywgcmV0dXJuUmVzdWx0cylcblxuXG4iLCJpbXBvcnQgJy4vZXh0ZW5kVGVtcGxhdGUnXG5pbXBvcnQgJy4vcGFyc2VUcmVlJ1xuaW1wb3J0ICcuL3NjaGVtYSdcblxuY2xhc3MgUXVpY2tUZW1wbGF0ZVxuXHRjb25zdHJ1Y3RvcjogKGNvbmZpZywgaXNUcmVlKS0+XG5cdFx0cmV0dXJuIGNvbmZpZyBpZiBJUy50ZW1wbGF0ZShjb25maWcpXG5cdFx0Y29uZmlnID0gaWYgaXNUcmVlIHRoZW4gcGFyc2VUcmVlKGNvbmZpZykgZWxzZSBjb25maWdcblx0XHRleHRlbmQgQCwgY29uZmlnXG5cdFxuXHRleHRlbmQ6IChuZXdWYWx1ZXMsIGdsb2JhbE9wdHMpLT5cblx0XHRuZXcgUXVpY2tUZW1wbGF0ZSBleHRlbmRUZW1wbGF0ZShALCBuZXdWYWx1ZXMsIGdsb2JhbE9wdHMpXG5cblx0c3Bhd246IChuZXdWYWx1ZXMsIGdsb2JhbE9wdHMsIGRhdGEpLT5cblx0XHRpZiBuZXdWYWx1ZXMgYW5kIG5ld1ZhbHVlcy5kYXRhXG5cdFx0XHRkYXRhID0gbmV3VmFsdWVzLmRhdGFcblx0XHRcdG5ld1ZhbHVlcyA9IG51bGwgaWYgT2JqZWN0LmtleXMobmV3VmFsdWVzKS5sZW5ndGggaXMgMVxuXHRcdFxuXHRcdGlmIG5ld1ZhbHVlcyBvciBnbG9iYWxPcHRzXG5cdFx0XHR7b3B0aW9ucywgY2hpbGRyZW4sIHR5cGV9ID0gZXh0ZW5kVGVtcGxhdGUoQCwgbmV3VmFsdWVzLCBnbG9iYWxPcHRzKVxuXHRcdGVsc2Vcblx0XHRcdHtvcHRpb25zLCBjaGlsZHJlbiwgdHlwZX0gPSBAXG5cdFx0XHRvcHRpb25zID0gZXh0ZW5kLmNsb25lKG9wdGlvbnMpXG5cblx0XHRcblx0XHRlbGVtZW50ID0gUXVpY2tEb20uY3JlYXRlKFt0eXBlLCBvcHRpb25zXSlcblx0XHRcblx0XHRpZiBjaGlsZHJlblxuXHRcdFx0Y2hpbGREYXRhID0gaWYgb3B0aW9ucy5wYXNzRGF0YVRvQ2hpbGRyZW4gdGhlbiBkYXRhIG9yIG9wdGlvbnMuZGF0YVxuXHRcdFx0Zm9yIGNoaWxkIGluIGNoaWxkcmVuXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kIGNoaWxkLnNwYXduKG51bGwsIG51bGwsIGNoaWxkRGF0YSlcblxuXHRcdGVsZW1lbnQuX3Bvc3RDcmVhdGlvbihkYXRhKVxuXHRcdHJldHVybiBlbGVtZW50XG5cblxuIyMjIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICMjI1xuUXVpY2tUZW1wbGF0ZS5uYW1lID89ICdRdWlja1RlbXBsYXRlJ1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSBRdWlja1RlbXBsYXRlOjosICdjaGlsZCcsIGdldDogKCktPlxuXHRAX2NoaWxkUmVmcyBvciBfZ2V0Q2hpbGRSZWZzKEApICMgc291cmNlIGluIC9zcmMvcGFydHMvZWxlbWVudC90cmF2ZXJzaW5nLmNvZmZlZVxuXG5cblxuXG5cblxuXG5cbiIsIm5vdERlZXBLZXlzID0gWydyZWxhdGVkSW5zdGFuY2UnLCdyZWxhdGVkJywnZGF0YSddXG5ub3RLZXlzID0gWydjaGlsZHJlbicsJ19jaGlsZFJlZnMnXVxuXG5leHRlbmRUZW1wbGF0ZSA9IChjdXJyZW50T3B0cywgbmV3T3B0cywgZ2xvYmFsT3B0cyktPlxuXHRpZiBnbG9iYWxPcHRzIHRoZW4gZ2xvYmFsT3B0c1RyYW5zZm9ybSA9IG9wdGlvbnM6IChvcHRzKS0+IGV4dGVuZChvcHRzLCBnbG9iYWxPcHRzKVxuXHRpZiBJUy5hcnJheShuZXdPcHRzKVxuXHRcdG5ld09wdHMgPSBwYXJzZVRyZWUobmV3T3B0cywgZmFsc2UpXG5cdGVsc2UgaWYgbmV3T3B0cyBhbmQgbm90IG1hdGNoZXNTY2hlbWEobmV3T3B0cylcblx0XHRuZXdPcHRzID0gb3B0aW9uczpuZXdPcHRzXG5cblxuXHRvdXRwdXQgPSBleHRlbmQuZGVlcC5udWxsRGVsZXRlcy5ub3RLZXlzKG5vdEtleXMpLm5vdERlZXAobm90RGVlcEtleXMpLnRyYW5zZm9ybShnbG9iYWxPcHRzVHJhbnNmb3JtKS5jbG9uZShjdXJyZW50T3B0cywgbmV3T3B0cylcblx0Y3VycmVudENoaWxkcmVuID0gY3VycmVudE9wdHMuY2hpbGRyZW5cblx0bmV3Q2hpbGRyZW4gPSBuZXdPcHRzPy5jaGlsZHJlbiBvciBbXVxuXHRvdXRwdXQuY2hpbGRyZW4gPSBbXVxuXG5cdCMjIyBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAjIyNcblx0aWYgSVMuYXJyYXkobmV3Q2hpbGRyZW4pXG5cdFx0bWF4TGVuZ3RoID0gTWF0aC5tYXgoY3VycmVudENoaWxkcmVuLmxlbmd0aCwgbmV3Q2hpbGRyZW4ubGVuZ3RoKVxuXHRcdGluZGV4ID0gLTFcblx0XHR3aGlsZSArK2luZGV4IGlzbnQgbWF4TGVuZ3RoXG5cdFx0XHRuZWVkc1RlbXBsYXRlV3JhcCA9IG5vQ2hhbmdlcyA9IGZhbHNlXG5cdFx0XHRjdXJyZW50Q2hpbGQgPSBjdXJyZW50Q2hpbGRyZW5baW5kZXhdXG5cdFx0XHRuZXdDaGlsZCA9IG5ld0NoaWxkcmVuW2luZGV4XVxuXHRcdFx0bmV3Q2hpbGRQcm9jZXNzZWQgPSBzd2l0Y2hcblx0XHRcdFx0d2hlbiBJUy50ZW1wbGF0ZShuZXdDaGlsZCkgdGhlbiBuZXdDaGlsZFxuXHRcdFx0XHR3aGVuIElTLmFycmF5KG5ld0NoaWxkKSB0aGVuIG5lZWRzVGVtcGxhdGVXcmFwID0gcGFyc2VUcmVlKG5ld0NoaWxkKVxuXHRcdFx0XHR3aGVuIElTLnN0cmluZyhuZXdDaGlsZCkgdGhlbiBuZWVkc1RlbXBsYXRlV3JhcCA9IHt0eXBlOid0ZXh0Jywgb3B0aW9uczp7dGV4dDpuZXdDaGlsZH19XG5cdFx0XHRcdHdoZW4gbm90IG5ld0NoaWxkIGFuZCBub3QgZ2xvYmFsT3B0cyB0aGVuIG5vQ2hhbmdlcyA9IHRydWVcblx0XHRcdFx0ZWxzZSBuZWVkc1RlbXBsYXRlV3JhcCA9IG5ld0NoaWxkIG9yIHRydWVcblxuXG5cdFx0XHRpZiBub0NoYW5nZXNcblx0XHRcdFx0bmV3Q2hpbGRQcm9jZXNzZWQgPSBjdXJyZW50Q2hpbGRcblx0XHRcdFxuXHRcdFx0ZWxzZSBpZiBuZWVkc1RlbXBsYXRlV3JhcFxuXHRcdFx0XHRuZXdDaGlsZFByb2Nlc3NlZCA9IFxuXHRcdFx0XHRcdGlmIGN1cnJlbnRDaGlsZFxuXHRcdFx0XHRcdFx0Y3VycmVudENoaWxkLmV4dGVuZChuZXdDaGlsZFByb2Nlc3NlZCwgZ2xvYmFsT3B0cylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRuZXcgUXVpY2tUZW1wbGF0ZShleHRlbmQuY2xvbmUoc2NoZW1hLCBuZXdDaGlsZFByb2Nlc3NlZCkpXG5cblx0XHRcdG91dHB1dC5jaGlsZHJlbi5wdXNoIG5ld0NoaWxkUHJvY2Vzc2VkXG5cdFxuXHRcblx0ZWxzZSBpZiBJUy5vYmplY3QobmV3Q2hpbGRyZW4pXG5cdFx0bmV3Q2hpbGRyZW4gPSBleHRlbmQuYWxsb3dOdWxsLmNsb25lIG5ld0NoaWxkcmVuXG5cdFx0b3V0cHV0LmNoaWxkcmVuID0gZXh0ZW5kQnlSZWYobmV3Q2hpbGRyZW4sIGN1cnJlbnRDaGlsZHJlbiwgZ2xvYmFsT3B0cylcblx0XHRyZW1haW5pbmdOZXdDaGlsZHJlbiA9IG5ld0NoaWxkcmVuXG5cdFx0XG5cdFx0Zm9yIHJlZixuZXdDaGlsZCBvZiByZW1haW5pbmdOZXdDaGlsZHJlblxuXHRcdFx0bmV3Q2hpbGRQcm9jZXNzZWQgPSBpZiBJUy5vYmplY3RQbGFpbihuZXdDaGlsZCkgYW5kIG5vdCBJUy50ZW1wbGF0ZShuZXdDaGlsZCkgdGhlbiBuZXdDaGlsZCBlbHNlIHBhcnNlVHJlZShuZXdDaGlsZClcblx0XHRcdG91dHB1dC5jaGlsZHJlbi5wdXNoIG5ldyBRdWlja1RlbXBsYXRlIG5ld0NoaWxkUHJvY2Vzc2VkXG5cdFx0XHRkZWxldGUgcmVtYWluaW5nTmV3Q2hpbGRyZW5bcmVmXVxuXG5cdHJldHVybiBvdXRwdXRcblxuXG5cblxuZXh0ZW5kQnlSZWYgPSAobmV3Q2hpbGRyZW5SZWZzLCBjdXJyZW50Q2hpbGRyZW4sIGdsb2JhbE9wdHMpLT4gaWYgbm90IGN1cnJlbnRDaGlsZHJlbi5sZW5ndGggdGhlbiBjdXJyZW50Q2hpbGRyZW4gZWxzZVxuXHRvdXRwdXQgPSBbXVxuXHRcblx0Zm9yIGN1cnJlbnRDaGlsZCBpbiBjdXJyZW50Q2hpbGRyZW5cblx0XHRuZXdDaGlsZCA9IG5ld0NoaWxkcmVuUmVmc1tjdXJyZW50Q2hpbGQucmVmXVxuXHRcdGlmIG5ld0NoaWxkXG5cdFx0XHRuZXdDaGlsZFByb2Nlc3NlZCA9IGN1cnJlbnRDaGlsZC5leHRlbmQobmV3Q2hpbGQsIGdsb2JhbE9wdHMpXG5cdFx0XHRkZWxldGUgbmV3Q2hpbGRyZW5SZWZzW2N1cnJlbnRDaGlsZC5yZWZdXG5cdFx0XG5cdFx0ZWxzZSBpZiBuZXdDaGlsZCBpcyBudWxsXG5cdFx0XHRkZWxldGUgbmV3Q2hpbGRyZW5SZWZzW2N1cnJlbnRDaGlsZC5yZWZdXG5cdFx0XHRjb250aW51ZVxuXHRcdFxuXHRcdGVsc2Vcblx0XHRcdG5ld0NoaWxkUHJvY2Vzc2VkID0gc3dpdGNoXG5cdFx0XHRcdHdoZW4gZ2xvYmFsT3B0cyB0aGVuIGN1cnJlbnRDaGlsZC5leHRlbmQobnVsbCwgZ2xvYmFsT3B0cylcblx0XHRcdFx0d2hlbiBPYmplY3Qua2V5cyhuZXdDaGlsZHJlblJlZnMpLmxlbmd0aCB0aGVuIGN1cnJlbnRDaGlsZC5leHRlbmQoKVxuXHRcdFx0XHRlbHNlIGN1cnJlbnRDaGlsZFxuXG5cdFx0bmV3Q2hpbGRQcm9jZXNzZWQuY2hpbGRyZW4gPSBleHRlbmRCeVJlZihuZXdDaGlsZHJlblJlZnMsIG5ld0NoaWxkUHJvY2Vzc2VkLmNoaWxkcmVuKVxuXHRcdG91dHB1dC5wdXNoKG5ld0NoaWxkUHJvY2Vzc2VkKVxuXG5cdHJldHVybiBvdXRwdXRcblxuXG5cblxuIiwicGFyc2VUcmVlID0gKHRyZWUsIHBhcnNlQ2hpbGRyZW4pLT4gc3dpdGNoXG5cdHdoZW4gSVMuYXJyYXkodHJlZSlcblx0XHRvdXRwdXQgPSB7fVxuXG5cdFx0aWYgbm90IElTLnN0cmluZyh0cmVlWzBdKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yIFwiI3twYXJzZUVycm9yUHJlZml4fSBzdHJpbmcgZm9yICd0eXBlJywgZ290ICcje1N0cmluZyh0cmVlWzBdKX0nXCJcblx0XHRlbHNlXG5cdFx0XHRvdXRwdXQudHlwZSA9IHRyZWVbMF1cblx0XHRcblx0XHRpZiB0cmVlLmxlbmd0aCA+IDEgYW5kIG5vdCBJUy5vYmplY3QodHJlZVsxXSkgYW5kIHRyZWVbMV0gaXNudCBudWxsXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IgXCIje3BhcnNlRXJyb3JQcmVmaXh9IG9iamVjdCBmb3IgJ29wdGlvbnMnLCBnb3QgJyN7U3RyaW5nKHRyZWVbMV0pfSdcIlxuXHRcdGVsc2Vcblx0XHRcdG91dHB1dC5vcHRpb25zID0gaWYgdHJlZVsxXSB0aGVuIGV4dGVuZC5kZWVwLmNsb25lKHRyZWVbMV0pIGVsc2Ugc2NoZW1hLm9wdGlvbnNcblx0XHRcdG91dHB1dC5yZWYgPSB0cmVlWzFdLmlkIG9yIHRyZWVbMV0ucmVmIGlmIHRyZWVbMV1cblxuXHRcdG91dHB1dC5jaGlsZHJlbiA9IHRyZWUuc2xpY2UoMilcblx0XHRpZiBwYXJzZUNoaWxkcmVuIGlzIGZhbHNlXG5cdFx0XHRvdXRwdXQuY2hpbGRyZW4gPSB0cmVlWzJdIGlmIHRyZWUubGVuZ3RoIGlzIDMgYW5kIElTLm9iamVjdFBsYWluKHRyZWVbMl0pIGFuZCBub3QgSVMudGVtcGxhdGUodHJlZVsyXSlcblx0XHRlbHNlXG5cdFx0XHRvdXRwdXQuY2hpbGRyZW4gPSBvdXRwdXQuY2hpbGRyZW4ubWFwKFF1aWNrRG9tLnRlbXBsYXRlKVxuXHRcdHJldHVybiBvdXRwdXRcblxuXG5cdHdoZW4gSVMuc3RyaW5nKHRyZWUpIG9yIElTLmRvbVRleHQodHJlZSlcblx0XHR0eXBlOid0ZXh0Jywgb3B0aW9uczp7dGV4dDogdHJlZS50ZXh0Q29udGVudCBvciB0cmVlfSwgY2hpbGRyZW46c2NoZW1hLmNoaWxkcmVuXG5cblx0d2hlbiBJUy5kb21FbCh0cmVlKVxuXHRcdHR5cGU6IHRyZWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKVxuXHRcdHJlZjogdHJlZS5pZFxuXHRcdG9wdGlvbnM6IGV4dGVuZC5jbG9uZS5rZXlzKGFsbG93ZWRUZW1wbGF0ZU9wdGlvbnMpKHRyZWUpXG5cdFx0Y2hpbGRyZW46IHNjaGVtYS5jaGlsZHJlbi5tYXAuY2FsbCh0cmVlLmNoaWxkTm9kZXMsIFF1aWNrRG9tLnRlbXBsYXRlKVxuXG5cdHdoZW4gSVMucXVpY2tEb21FbCh0cmVlKVxuXHRcdHR5cGU6IHRyZWUudHlwZVxuXHRcdHJlZjogdHJlZS5yZWZcblx0XHRvcHRpb25zOiBleHRlbmQuY2xvbmUuZGVlcC5ub3RLZXlzKFsncmVsYXRlZEluc3RhbmNlJywgJ3JlbGF0ZWQnXSkodHJlZS5vcHRpb25zKVxuXHRcdGNoaWxkcmVuOiB0cmVlLmNoaWxkcmVuLm1hcChRdWlja0RvbS50ZW1wbGF0ZSlcblxuXHR3aGVuIElTLnRlbXBsYXRlKHRyZWUpXG5cdFx0cmV0dXJuIHRyZWVcblxuXHRlbHNlXG5cdFx0dGhyb3cgbmV3IEVycm9yIFwiI3twYXJzZUVycm9yUHJlZml4fSAoYXJyYXkgfHwgc3RyaW5nIHx8IGRvbUVsIHx8IHF1aWNrRG9tRWwgfHwgdGVtcGxhdGUpLCBnb3QgI3tTdHJpbmcodHJlZSl9XCJcblxuXG5cblxucGFyc2VFcnJvclByZWZpeCA9ICdUZW1wbGF0ZSBQYXJzZSBFcnJvcjogZXhwZWN0ZWQnIiwic2NoZW1hID0gXG5cdHR5cGU6ICdkaXYnXG5cdHJlZjogdW5kZWZpbmVkXG5cdG9wdGlvbnM6IHt9XG5cdGNoaWxkcmVuOiBbXVxuXG5cbm1hdGNoZXNTY2hlbWEgPSAob2JqZWN0KS0+XG5cdHR5cGVvZiBvYmplY3QudHlwZSBpc250ICd1bmRlZmluZWQnIG9yXG5cdHR5cGVvZiBvYmplY3QucmVmIGlzbnQgJ3VuZGVmaW5lZCcgb3Jcblx0dHlwZW9mIG9iamVjdC5vcHRpb25zIGlzbnQgJ3VuZGVmaW5lZCcgb3Jcblx0dHlwZW9mIG9iamVjdC5jaGlsZHJlbiBpc250ICd1bmRlZmluZWQnXG5cblxuXG4iLCJzaG9ydGN1dHMgPSBbXG5cdCdsaW5rOmEnXG5cdCdhbmNob3I6YSdcblx0J2EnXG5cdCd0ZXh0J1xuXHQnZGl2J1xuXHQnc3Bhbidcblx0J2gxJ1xuXHQnaDInXG5cdCdoMydcblx0J2g0J1xuXHQnaDUnXG5cdCdoNidcblx0J2hlYWRlcidcblx0J2Zvb3Rlcidcblx0J3NlY3Rpb24nXG5cdCdidXR0b24nXG5cdCdicidcblx0J3VsJ1xuXHQnb2wnXG5cdCdsaSdcblx0J2ZpZWxkc2V0J1xuXHQnaW5wdXQnXG5cdCd0ZXh0YXJlYSdcblx0J3NlbGVjdCdcblx0J29wdGlvbidcblx0J2Zvcm0nXG5cdCdmcmFtZSdcblx0J2hyJ1xuXHQnaWZyYW1lJ1xuXHQnaW1nJ1xuXHQncGljdHVyZSdcblx0J21haW4nXG5cdCduYXYnXG5cdCdtZXRhJ1xuXHQnb2JqZWN0J1xuXHQncHJlJ1xuXHQnc3R5bGUnXG5cdCd0YWJsZSdcblx0J3Rib2R5J1xuXHQndGgnXG5cdCd0cidcblx0J3RkJ1xuXHQndGZvb3QnXG5cdCMgJ3RlbXBsYXRlJ1xuXHQndmlkZW8nXG5dXG5cblxuZm9yIHNob3J0Y3V0IGluIHNob3J0Y3V0cyB0aGVuIGRvIChzaG9ydGN1dCktPlxuXHRwcm9wID0gdHlwZSA9IHNob3J0Y3V0XG5cdGlmIGhlbHBlcnMuaW5jbHVkZXMoc2hvcnRjdXQsICc6Jylcblx0XHRzcGxpdCA9IHNob3J0Y3V0LnNwbGl0KCc6Jylcblx0XHRwcm9wID0gc3BsaXRbMF1cblx0XHR0eXBlID0gc3BsaXRbMV1cblxuXHRRdWlja0RvbVtwcm9wXSA9ICgpLT4gUXVpY2tEb20odHlwZSwgYXJndW1lbnRzLi4uKVxuIiwie1xuICBcIl9mcm9tXCI6IFwicXVpY2tkb21AXjEuMC43N1wiLFxuICBcIl9pZFwiOiBcInF1aWNrZG9tQDEuMC44OFwiLFxuICBcIl9pbkJ1bmRsZVwiOiBmYWxzZSxcbiAgXCJfaW50ZWdyaXR5XCI6IFwic2hhNTEyLTlhOFZpYWFpc1lvbWcxeXZlKzNiU1VRZ2xVekdERUlFdHptTm56M3krY2g3TG9lSzRvbWJtdEUyOUhhTjhwNW53dWRmOVB6eEUwY2RnZEhqRkdmdkxnPT1cIixcbiAgXCJfbG9jYXRpb25cIjogXCIvcXVpY2tkb21cIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInJhbmdlXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwicXVpY2tkb21AXjEuMC43N1wiLFxuICAgIFwibmFtZVwiOiBcInF1aWNrZG9tXCIsXG4gICAgXCJlc2NhcGVkTmFtZVwiOiBcInF1aWNrZG9tXCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiXjEuMC43N1wiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcIl4xLjAuNzdcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIi9cIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3F1aWNrZG9tLy0vcXVpY2tkb20tMS4wLjg4LnRnelwiLFxuICBcIl9zaGFzdW1cIjogXCI2ZmRkN2Q2ZDdjMDQ3MWJjZGZlMjdmODFjZDViMmJhZTk3OTRhM2JmXCIsXG4gIFwiX3NwZWNcIjogXCJxdWlja2RvbUBeMS4wLjc3XCIsXG4gIFwiX3doZXJlXCI6IFwiL1VzZXJzL2RhbmllbGthbGVuL3NhbmRib3gvcXVpY2twb3B1cFwiLFxuICBcImF1dGhvclwiOiB7XG4gICAgXCJuYW1lXCI6IFwiZGFuaWVsa2FsZW5cIlxuICB9LFxuICBcImJyb3dzZXJcIjoge1xuICAgIFwiLi9kZWJ1Z1wiOiBcImRpc3QvcXVpY2tkb20uZGVidWcuanNcIixcbiAgICBcIi4vZGlzdC9xdWlja2RvbS5qc1wiOiBcInNyYy9pbmRleC5jb2ZmZWVcIlxuICB9LFxuICBcImJyb3dzZXJpZnlcIjoge1xuICAgIFwidHJhbnNmb3JtXCI6IFtcbiAgICAgIFwic2ltcGx5aW1wb3J0L2NvbXBhdFwiXG4gICAgXVxuICB9LFxuICBcImJ1Z3NcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3F1aWNrZG9tL2lzc3Vlc1wiXG4gIH0sXG4gIFwiYnVuZGxlRGVwZW5kZW5jaWVzXCI6IGZhbHNlLFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJAZGFuaWVsa2FsZW4vaXNcIjogXCJeMi4wLjBcIixcbiAgICBcInF1aWNrY3NzXCI6IFwiXjEuMy40XCIsXG4gICAgXCJzbWFydC1leHRlbmRcIjogXCJeMS43LjNcIlxuICB9LFxuICBcImRlcHJlY2F0ZWRcIjogZmFsc2UsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJGYXN0ICYgbGlnaHQgRE9NIGVsZW1lbnQgbWFuYWdlbWVudCBzdXBwb3J0aW5nIGpxdWVyeS1saWtlIG1ldGhvZHMsIHRlbXBsYXRlcywgJiBzdGF0ZS1iYXNlZCBzdHlsaW5nXCIsXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJsdWViaXJkXCI6IFwiXjMuNS4wXCIsXG4gICAgXCJjaGFsa1wiOiBcIl4yLjAuMVwiLFxuICAgIFwiY29mZmVlLXNjcmlwdFwiOiBcIl4xLjEyLjZcIixcbiAgICBcImV4ZWNhXCI6IFwiXjAuNy4wXCIsXG4gICAgXCJmcy1qZXRwYWNrXCI6IFwiXjAuMTMuM1wiLFxuICAgIFwicHJvbWlzZS1icmVha1wiOiBcIl4wLjEuMlwiLFxuICAgIFwic2VtdmVyXCI6IFwiXjUuMy4wXCJcbiAgfSxcbiAgXCJkaXJlY3Rvcmllc1wiOiB7XG4gICAgXCJ0ZXN0XCI6IFwidGVzdFwiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vcXVpY2tkb20jcmVhZG1lXCIsXG4gIFwibGljZW5zZVwiOiBcIklTQ1wiLFxuICBcIm1haW5cIjogXCJkaXN0L3F1aWNrZG9tLmpzXCIsXG4gIFwibmFtZVwiOiBcInF1aWNrZG9tXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3F1aWNrZG9tLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJidWlsZFwiOiBcImNha2UgLWQgYnVpbGQgJiYgY2FrZSBidWlsZCAmJiBjYWtlIG1lYXN1cmUgJiYgY3AgLXIgYnVpbGQvKiBkaXN0L1wiLFxuICAgIFwiY292ZXJhZ2VcIjogXCJjYWtlIGluc3RhbGw6Y292ZXJhZ2U7IG5wbSBydW4gY292ZXJhZ2U6cnVuICYmIG5wbSBydW4gY292ZXJhZ2U6YmFkZ2VcIixcbiAgICBcImNvdmVyYWdlOmJhZGdlXCI6IFwiYmFkZ2UtZ2VuIC1kIC4vLmNvbmZpZy9iYWRnZXMvY292ZXJhZ2VcIixcbiAgICBcImNvdmVyYWdlOnJ1blwiOiBcImNvdmVyYWdlPXRydWUgbnBtIHJ1biB0ZXN0OmVsZWN0cm9uXCIsXG4gICAgXCJjb3ZlcmFnZTpzaG93XCI6IFwib3BlbiBjb3ZlcmFnZS9sY292LXJlcG9ydC9pbmRleC5odG1sXCIsXG4gICAgXCJwb3N0cHVibGlzaFwiOiBcImdpdCBwdXNoXCIsXG4gICAgXCJwb3N0dmVyc2lvblwiOiBcIm5wbSBydW4gYnVpbGQgJiYgZ2l0IGFkZCAuICYmIGdpdCBjb21taXQgLWEgLW0gJ1tCdWlsZF0nXCIsXG4gICAgXCJwcmVwdWJsaXNoT25seVwiOiBcIm5wbSBydW4gdGVzdDp0cmF2aXNcIixcbiAgICBcInRlc3RcIjogXCJucG0gcnVuIHRlc3Q6YnJvd3NlciAtcyB8fCB0cnVlXCIsXG4gICAgXCJ0ZXN0OmJyb3dzZXJcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsga2FybWEgc3RhcnQgLS1zaW5nbGUtcnVuIC0tYnJvd3NlcnMgRWxlY3Ryb24gLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDpjaHJvbWVcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsgIGthcm1hIHN0YXJ0IC0tc2luZ2xlLXJ1biAtLWJyb3dzZXJzIENocm9tZSAuY29uZmlnL2thcm1hLmNvbmYuY29mZmVlXCIsXG4gICAgXCJ0ZXN0OmZpcmVmb3hcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsga2FybWEgc3RhcnQgLS1zaW5nbGUtcnVuIC0tYnJvd3NlcnMgRmlyZWZveCAuY29uZmlnL2thcm1hLmNvbmYuY29mZmVlXCIsXG4gICAgXCJ0ZXN0Omthcm1hXCI6IFwiY2FrZSBpbnN0YWxsOnRlc3Q7ICAga2FybWEgc3RhcnQgLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDpsb2NhbFwiOiBcIm9wZW4gdGVzdC90ZXN0cnVubmVyLmh0bWxcIixcbiAgICBcInRlc3Q6bWluaWZpZWRcIjogXCJtaW5pZmllZD0xIG5wbSBydW4gdGVzdDpicm93c2VyIC1zIHx8IHRydWVcIixcbiAgICBcInRlc3Q6c2FmYXJpXCI6IFwiY2FrZSBpbnN0YWxsOnRlc3Q7ICBrYXJtYSBzdGFydCAtLXNpbmdsZS1ydW4gLS1icm93c2VycyBTYWZhcmkgLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDpzYXVjZVwiOiBcImNha2UgaW5zdGFsbDp0ZXN0OyAgIHNhdWNlPTEga2FybWEgc3RhcnQgLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDp0cmF2aXNcIjogXCJucG0gcnVuIHRlc3Q6YnJvd3NlciAtcyAmJiBucG0gcnVuIHRlc3Q6bWluaWZpZWQgLXNcIixcbiAgICBcIndhdGNoXCI6IFwiY2FrZSAtZCB3YXRjaFwiXG4gIH0sXG4gIFwic2ltcGx5aW1wb3J0XCI6IHtcbiAgICBcImZpbmFsVHJhbnNmb3JtXCI6IFtcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1zdXBlclwiLFxuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXJlbmFtZVwiLFxuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXNpbXBsZVwiXG4gICAgXVxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjAuODhcIlxufVxuIiwiZGV0ZWN0QW5pbWF0aW9uID0gaW1wb3J0ICdkZXRlY3QtYW5pbWF0aW9uLWVuZC1oZWxwZXInXG5cbmV4cG9ydHMuc3VwcG9ydHNBbmltYXRpb24gPSAoKS0+ICEhZGV0ZWN0QW5pbWF0aW9uKClcblxuZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gKCktPiBkZXRlY3RBbmltYXRpb24oJ3RyYW5zaXRpb24nKVxuXG5leHBvcnRzLnJlc3RhcnRTYW5kYm94ID0gKCktPlxuXHR3aW5kb3cuc2FuZGJveC5yZW1vdmUoKSBpZiB3aW5kb3cuc2FuZGJveFxuXHR3aW5kb3cuc2FuZGJveCA9IERPTS5kaXYgaWQ6J3NhbmRib3gnLCBzdHlsZTpcblx0XHRib3JkZXI6ICcxcHggc29saWQnXG5cdFx0cGFkZGluZzogMjBcblx0XHRib3hTaXppbmc6ICdib3JkZXItYm94J1xuXHRcblx0d2luZG93LnNhbmRib3guYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2NoYWknKTtcbiIsIihmdW5jdGlvbihjaGFpRG9tKSB7XG4gIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGNoYWlEb21cbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY2hhaURvbVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgY2hhaS51c2UoY2hhaURvbSlcbiAgfVxufShmdW5jdGlvbihjaGFpLCB1dGlscykge1xuICB2YXIgZmxhZyA9IHV0aWxzLmZsYWcsXG5cbiAgZWxUb1N0cmluZyA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgdmFyIGRlc2NcbiAgICBpZiAoaXNOb2RlTGlzdChlbCkpIHtcbiAgICAgIGlmIChlbC5sZW5ndGggPT09IDApIHJldHVybiAnZW1wdHkgTm9kZUxpc3QnXG4gICAgICBkZXNjID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWwsIDAsIDUpLm1hcChlbFRvU3RyaW5nKS5qb2luKCcsICcpXG4gICAgICByZXR1cm4gZWwubGVuZ3RoID4gNSA/IGRlc2MgKyAnLi4uICgrJyArIChlbC5sZW5ndGggLSA1KSArICcgbW9yZSknIDogZGVzY1xuICAgIH1cbiAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWwpKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGVsKVxuICAgIH1cblxuICAgIGRlc2MgPSBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZWwuaWQpIHtcbiAgICAgIGRlc2MgKz0gJyMnICsgZWwuaWRcbiAgICB9XG4gICAgaWYgKGVsLmNsYXNzTmFtZSkge1xuICAgICAgZGVzYyArPSAnLicgKyBTdHJpbmcoZWwuY2xhc3NOYW1lKS5yZXBsYWNlKC9cXHMrL2csICcuJylcbiAgICB9XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5hdHRyaWJ1dGVzLCBmdW5jdGlvbihhdHRyKSB7XG4gICAgICBpZiAoYXR0ci5uYW1lICE9PSAnY2xhc3MnICYmIGF0dHIubmFtZSAhPT0gJ2lkJykge1xuICAgICAgICBkZXNjICs9ICdbJyArIGF0dHIubmFtZSArIChhdHRyLnZhbHVlID8gJz1cIicgKyBhdHRyLnZhbHVlICsgJ1wiXScgOiAnXScpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZGVzY1xuICB9LFxuXG4gIGF0dHJBc3NlcnQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgICB2YXIgZWwgPSBmbGFnKHRoaXMsICdvYmplY3QnKSwgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKG5hbWUpXG5cbiAgICBpZiAoIWZsYWcodGhpcywgJ25lZ2F0ZScpIHx8IHVuZGVmaW5lZCA9PT0gdmFsKSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgISFlbC5hdHRyaWJ1dGVzW25hbWVdXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gaGF2ZSBhbiBhdHRyaWJ1dGUgI3tleHB9J1xuICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhlbCkgKyAnIG5vdCB0byBoYXZlIGFuIGF0dHJpYnV0ZSAje2V4cH0nXG4gICAgICAgICwgbmFtZVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh1bmRlZmluZWQgIT09IHZhbCkge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIHZhbCA9PT0gYWN0dWFsXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gaGF2ZSBhbiBhdHRyaWJ1dGUgJyArIHV0aWxzLmluc3BlY3QobmFtZSkgKyAnIHdpdGggdGhlIHZhbHVlICN7ZXhwfSwgYnV0IHRoZSB2YWx1ZSB3YXMgI3thY3R9J1xuICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhlbCkgKyAnIG5vdCB0byBoYXZlIGFuIGF0dHJpYnV0ZSAnICsgdXRpbHMuaW5zcGVjdChuYW1lKSArICcgd2l0aCB0aGUgdmFsdWUgI3thY3R9J1xuICAgICAgICAsIHZhbFxuICAgICAgICAsIGFjdHVhbFxuICAgICAgKVxuICAgIH1cblxuICAgIGZsYWcodGhpcywgJ29iamVjdCcsIGFjdHVhbClcbiAgfSxcblxuICBpc0hUTUxFbGVtZW50ID0gZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gZWwubm9kZVR5cGUgPT09IDEgLy8gd2luZG93Lk5vZGUuRUxFTUVOVF9OT0RFXG4gIH0sXG5cbiAgaXNOb2RlTGlzdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJ1xuICB9XG5cbiAgdXRpbHMuZWxUb1N0cmluZyA9IGVsVG9TdHJpbmdcbiAgY2hhaS5Bc3NlcnRpb24uYWRkTWV0aG9kKCdhdHRyJywgYXR0ckFzc2VydClcbiAgY2hhaS5Bc3NlcnRpb24uYWRkTWV0aG9kKCdhdHRyaWJ1dGUnLCBhdHRyQXNzZXJ0KVxuXG4gIGNoYWkuQXNzZXJ0aW9uLmFkZE1ldGhvZCgnY2xhc3MnLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICB2YXIgZWwgPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSlcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gaGF2ZSBjbGFzcyAje2V4cH0nXG4gICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhlbCkgKyAnIG5vdCB0byBoYXZlIGNsYXNzICN7ZXhwfSdcbiAgICAgICwgY2xhc3NOYW1lXG4gICAgKVxuICB9KVxuXG4gIGNoYWkuQXNzZXJ0aW9uLmFkZE1ldGhvZCgnaWQnLCBmdW5jdGlvbihpZCkge1xuICAgIHZhciBlbCA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICBlbC5pZCA9PSBpZFxuICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcoZWwpICsgJyB0byBoYXZlIGlkICN7ZXhwfSdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgbm90IHRvIGhhdmUgaWQgI3tleHB9J1xuICAgICAgLCBpZFxuICAgIClcbiAgfSlcblxuICBjaGFpLkFzc2VydGlvbi5hZGRNZXRob2QoJ2h0bWwnLCBmdW5jdGlvbihodG1sKSB7XG4gICAgdmFyIGVsID0gZmxhZyh0aGlzLCAnb2JqZWN0JyksIGFjdHVhbCA9IGZsYWcodGhpcywgJ29iamVjdCcpLmlubmVySFRNTFxuXG4gICAgaWYgKGZsYWcodGhpcywgJ2NvbnRhaW5zJykpIHtcbiAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBhY3R1YWwuaW5kZXhPZihodG1sKSA+PSAwXG4gICAgICAgICwgJ2V4cGVjdGVkICN7YWN0fSB0byBjb250YWluIEhUTUwgI3tleHB9J1xuICAgICAgICAsICdleHBlY3RlZCAje2FjdH0gbm90IHRvIGNvbnRhaW4gSFRNTCAje2V4cH0nXG4gICAgICAgICwgaHRtbFxuICAgICAgICAsIGFjdHVhbFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgYWN0dWFsID09PSBodG1sXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gaGF2ZSBIVE1MICN7ZXhwfSwgYnV0IHRoZSBIVE1MIHdhcyAje2FjdH0nXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgbm90IHRvIGhhdmUgSFRNTCAje2V4cH0nXG4gICAgICAgICwgaHRtbFxuICAgICAgICAsIGFjdHVhbFxuICAgICAgKVxuICAgIH1cbiAgfSlcblxuICBjaGFpLkFzc2VydGlvbi5hZGRDaGFpbmFibGVNZXRob2QoJ3RyaW1tZWQnLCBudWxsLCBmdW5jdGlvbigpIHtcbiAgICBmbGFnKHRoaXMsICd0cmltLXRleHQnLCB0cnVlKVxuICB9KVxuXG4gIGNoYWkuQXNzZXJ0aW9uLmFkZE1ldGhvZCgndGV4dCcsIGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JyksIGNvbnRhaW5zID0gZmxhZyh0aGlzLCAnY29udGFpbnMnKSxcbiAgICAgICAgdHJpbSA9IGZsYWcodGhpcywgJ3RyaW0tdGV4dCcpLCBhY3R1YWwsIHJlc3VsdFxuXG4gICAgaWYgKGlzTm9kZUxpc3Qob2JqKSkge1xuICAgICAgYWN0dWFsID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKG9iaiwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIHRyaW0gPyBlbC50ZXh0Q29udGVudC50cmltKCkgOiBlbC50ZXh0Q29udGVudCB9KVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGV4dCkpIHtcbiAgICAgICAgcmVzdWx0ID0gY29udGFpbnMgP1xuICAgICAgICAgIHRleHRbZmxhZyh0aGlzLCAnbmVnYXRlJykgPyAnc29tZScgOiAnZXZlcnknXShmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChvYmosIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgIHJldHVybiAodHJpbSA/IGVsLnRleHRDb250ZW50LnRyaW0oKSA6IGVsLnRleHRDb250ZW50KSA9PT0gdFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIDpcbiAgICAgICAgICB1dGlscy5lcWwoYWN0dWFsLCB0ZXh0KVxuXG4gICAgICAgIGFjdHVhbCA9IGFjdHVhbC5qb2luKClcbiAgICAgICAgdGV4dCA9IHRleHQuam9pbigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3R1YWwgPSBhY3R1YWwuam9pbignJylcbiAgICAgICAgcmVzdWx0ID0gY29udGFpbnMgPyBhY3R1YWwuaW5kZXhPZih0ZXh0KSA+PSAwIDogYWN0dWFsID09PSB0ZXh0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdHVhbCA9IHRyaW0gPyBvYmoudGV4dENvbnRlbnQudHJpbSgpIDogb2JqLnRleHRDb250ZW50XG4gICAgICByZXN1bHQgPSBjb250YWlucyA/IGFjdHVhbC5pbmRleE9mKHRleHQpID49IDAgOiBhY3R1YWwgPT09IHRleHRcbiAgICB9XG5cbiAgICB2YXIgb2JqRGVzYyA9IGVsVG9TdHJpbmcob2JqKSwgdGV4dE1zZyA9IHRyaW0gPyAndHJpbW1lZCB0ZXh0JyA6ICd0ZXh0J1xuICAgIGlmIChjb250YWlucykge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIHJlc3VsdFxuICAgICAgICAsICdleHBlY3RlZCAnICsgb2JqRGVzYyArICcgdG8gY29udGFpbiAje2V4cH0sIGJ1dCB0aGUgJyArIHRleHRNc2cgKyAnIHdhcyAje2FjdH0nXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBvYmpEZXNjICsgJyBub3QgdG8gY29udGFpbiAje2V4cH0sIGJ1dCB0aGUgJyArIHRleHRNc2cgKyAnIHdhcyAje2FjdH0nXG4gICAgICAgICwgdGV4dFxuICAgICAgICAsIGFjdHVhbFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgcmVzdWx0XG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBvYmpEZXNjICsgJyB0byBoYXZlICcgKyB0ZXh0TXNnICsgJyAje2V4cH0sIGJ1dCB0aGUgJyArIHRleHRNc2cgKyAnIHdhcyAje2FjdH0nXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBvYmpEZXNjICsgJyBub3QgdG8gaGF2ZSAnICsgdGV4dE1zZyArICcgI3tleHB9J1xuICAgICAgICAsIHRleHRcbiAgICAgICAgLCBhY3R1YWxcbiAgICAgIClcbiAgICB9XG4gIH0pXG5cbiAgY2hhaS5Bc3NlcnRpb24uYWRkTWV0aG9kKCd2YWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGVsID0gZmxhZyh0aGlzLCAnb2JqZWN0JyksIGFjdHVhbCA9IGZsYWcodGhpcywgJ29iamVjdCcpLnZhbHVlXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICBmbGFnKHRoaXMsICdvYmplY3QnKS52YWx1ZSA9PT0gdmFsdWVcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gaGF2ZSB2YWx1ZSAje2V4cH0sIGJ1dCB0aGUgdmFsdWUgd2FzICN7YWN0fSdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgbm90IHRvIGhhdmUgdmFsdWUgI3tleHB9J1xuICAgICAgLCB2YWx1ZVxuICAgICAgLCBhY3R1YWxcbiAgICApXG4gIH0pXG5cbiAgY2hhaS5Bc3NlcnRpb24ub3ZlcndyaXRlUHJvcGVydHkoJ2V4aXN0JywgZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICBpZiAoaXNOb2RlTGlzdChvYmopKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICAgIG9iai5sZW5ndGggPiAwXG4gICAgICAgICAgLCAnZXhwZWN0ZWQgYW4gZW1wdHkgTm9kZUxpc3QgdG8gaGF2ZSBub2RlcydcbiAgICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBub3QgZXhpc3QnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgY2hhaS5Bc3NlcnRpb24ub3ZlcndyaXRlUHJvcGVydHkoJ2VtcHR5JywgZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICBpZiAoaXNIVE1MRWxlbWVudChvYmopKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICAgIG9iai5jaGlsZHJlbi5sZW5ndGggPT09IDBcbiAgICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBiZSBlbXB0eSdcbiAgICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBub3QgYmUgZW1wdHknKVxuICAgICAgfSBlbHNlIGlmIChpc05vZGVMaXN0KG9iaikpIHtcbiAgICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgb2JqLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIGJlIGVtcHR5J1xuICAgICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIG5vdCBiZSBlbXB0eScpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBjaGFpLkFzc2VydGlvbi5vdmVyd3JpdGVDaGFpbmFibGVNZXRob2QoJ2xlbmd0aCcsXG4gICAgZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24obGVuZ3RoKSB7XG4gICAgICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgICBpZiAoaXNOb2RlTGlzdChvYmopIHx8IGlzSFRNTEVsZW1lbnQob2JqKSkge1xuICAgICAgICAgIHZhciBhY3R1YWxMZW5ndGggPSBvYmouY2hpbGRyZW4gPyBvYmouY2hpbGRyZW4ubGVuZ3RoIDogb2JqLmxlbmd0aFxuICAgICAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICAgICAgICBhY3R1YWxMZW5ndGggPT09IGxlbmd0aFxuICAgICAgICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcob2JqKSArICcgdG8gaGF2ZSAje2V4cH0gY2hpbGRyZW4gYnV0IGl0IGhhZCAje2FjdH0gY2hpbGRyZW4nXG4gICAgICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBub3QgaGF2ZSAje2V4cH0gY2hpbGRyZW4nXG4gICAgICAgICAgICAsIGxlbmd0aFxuICAgICAgICAgICAgLCBhY3R1YWxMZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpXG4gICAgICB9XG4gICAgfVxuICApXG5cblxuICBjaGFpLkFzc2VydGlvbi5vdmVyd3JpdGVNZXRob2QoJ21hdGNoJywgZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICAgIGlmIChpc0hUTUxFbGVtZW50KG9iaikpIHtcbiAgICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgb2JqLm1hdGNoZXMoc2VsZWN0b3IpXG4gICAgICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcob2JqKSArICcgdG8gbWF0Y2ggI3tleHB9J1xuICAgICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIG5vdCBtYXRjaCAje2V4cH0nXG4gICAgICAgICAgLCBzZWxlY3RvclxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKGlzTm9kZUxpc3Qob2JqKSkge1xuICAgICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICAoISFvYmoubGVuZ3RoICYmIEFycmF5LnByb3RvdHlwZS5ldmVyeS5jYWxsKG9iaiwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm1hdGNoZXMoc2VsZWN0b3IpIH0pKVxuICAgICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIG1hdGNoICN7ZXhwfSdcbiAgICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBub3QgbWF0Y2ggI3tleHB9J1xuICAgICAgICAgICwgc2VsZWN0b3JcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgY2hhaS5Bc3NlcnRpb24ub3ZlcndyaXRlQ2hhaW5hYmxlTWV0aG9kKCdjb250YWluJyxcbiAgICBmdW5jdGlvbihfc3VwZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdWJpdGVtKSB7XG4gICAgICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgICBpZiAoaXNIVE1MRWxlbWVudChvYmopKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzdWJpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgICAgICEhb2JqLnF1ZXJ5U2VsZWN0b3Ioc3ViaXRlbSlcbiAgICAgICAgICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcob2JqKSArICcgdG8gY29udGFpbiAje2V4cH0nXG4gICAgICAgICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIG5vdCBjb250YWluICN7ZXhwfSdcbiAgICAgICAgICAgICAgLCBzdWJpdGVtKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICAgICAgb2JqLmNvbnRhaW5zKHN1Yml0ZW0pXG4gICAgICAgICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIGNvbnRhaW4gJyArIGVsVG9TdHJpbmcoc3ViaXRlbSlcbiAgICAgICAgICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcob2JqKSArICcgdG8gbm90IGNvbnRhaW4gJyArIGVsVG9TdHJpbmcoc3ViaXRlbSkpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZ1bmN0aW9uKF9zdXBlcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgKVxuXG4gIGNoYWkuQXNzZXJ0aW9uLmFkZE1ldGhvZCgnZGVzY2VuZGFudCcsIGZ1bmN0aW9uKHN1Yml0ZW0pIHtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JyksIGFjdHVhbCA9IHN1Yml0ZW1cblxuICAgIGlmICh0eXBlb2Ygc3ViaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGFjdHVhbCA9IG9iai5xdWVyeVNlbGVjdG9yKHN1Yml0ZW0pXG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgISFhY3R1YWxcbiAgICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcob2JqKSArICcgdG8gaGF2ZSBkZXNjZW5kYW50ICN7ZXhwfSdcbiAgICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcob2JqKSArICcgdG8gbm90IGhhdmUgZGVzY2VuZGFudCAje2V4cH0nXG4gICAgICAgICwgc3ViaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIG9iai5jb250YWlucyhzdWJpdGVtKVxuICAgICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBjb250YWluICcgKyBlbFRvU3RyaW5nKHN1Yml0ZW0pXG4gICAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIG5vdCBjb250YWluICcgKyBlbFRvU3RyaW5nKHN1Yml0ZW0pKVxuICAgIH1cblxuICAgIGZsYWcodGhpcywgJ29iamVjdCcsIGFjdHVhbClcbiAgfSlcblxuICBjaGFpLkFzc2VydGlvbi5hZGRNZXRob2QoJ2Rlc2NlbmRhbnRzJywgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JyksXG4gICAgICAgIGFjdHVhbCA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKVxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgISFhY3R1YWwubGVuZ3RoXG4gICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhvYmopICsgJyB0byBoYXZlIGRlc2NlbmRhbnRzICN7ZXhwfSdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKG9iaikgKyAnIHRvIG5vdCBoYXZlIGRlc2NlbmRhbnRzICN7ZXhwfSdcbiAgICAgICwgc2VsZWN0b3IpXG4gICAgZmxhZyh0aGlzLCAnb2JqZWN0JywgYWN0dWFsKVxuICB9KVxuXG4gIGNoYWkuQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdkaXNwbGF5ZWQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwgPSBmbGFnKHRoaXMsICdvYmplY3QnKSxcbiAgICAgICAgYWN0dWFsID0gZG9jdW1lbnQuYm9keS5jb250YWlucyhlbCkgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZGlzcGxheSA6IGVsLnN0eWxlLmRpc3BsYXlcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgYWN0dWFsICE9PSAnbm9uZSdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gYmUgZGlzcGxheWVkLCBidXQgaXQgd2FzIG5vdCdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBlbFRvU3RyaW5nKGVsKSArICcgdG8gbm90IGJlIGRpc3BsYXllZCwgYnV0IGl0IHdhcyBhcyAnICsgYWN0dWFsXG4gICAgICAsIGFjdHVhbFxuICAgIClcbiAgfSlcblxuICBjaGFpLkFzc2VydGlvbi5hZGRQcm9wZXJ0eSgndmlzaWJsZScsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCA9IGZsYWcodGhpcywgJ29iamVjdCcpLFxuICAgICAgICBhY3R1YWwgPSBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS52aXNpYmlsaXR5IDogZWwuc3R5bGUudmlzaWJpbGl0eVxuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICBhY3R1YWwgIT09ICdoaWRkZW4nICYmIGFjdHVhbCAhPT0gJ2NvbGxhcHNlJ1xuICAgICAgLCAnZXhwZWN0ZWQgJyArIGVsVG9TdHJpbmcoZWwpICsgJyB0byBiZSB2aXNpYmxlLCBidXQgaXQgd2FzICcgKyAoYWN0dWFsID09PSAnaGlkZGVuJyA/ICdoaWRkZW4nIDogJ2NvbGxhcHNlZCcpXG4gICAgICAsICdleHBlY3RlZCAnICsgZWxUb1N0cmluZyhlbCkgKyAnIHRvIG5vdCBiZSB2aXNpYmxlLCBidXQgaXQgd2FzJ1xuICAgICAgLCBhY3R1YWxcbiAgICApXG4gIH0pXG59KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGNoYWlTdHlsZVxuXG5mdW5jdGlvbiBjaGFpU3R5bGUoY2hhaSwgdXRpbHMpIHtcbiAgY29uc3Qge0Fzc2VydGlvbn0gPSBjaGFpXG4gIGNvbnN0IHtmbGFnfSA9IHV0aWxzXG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnc3R5bGUnLCBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUgPSAnJykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKVxuXG4gICAgY29uc3QgaXNOb25Db2xvcnMgPSBzdHlsZVtwcm9wZXJ0eV0gPT09ICdyZ2JhKDAsIDAsIDAsIDApJyAvLyB3ZWJraXRcbiAgICAgIHx8IHN0eWxlW3Byb3BlcnR5XSA9PT0gJ3RyYW5zcGFyZW50JyAvLyBmaXJlZm94XG5cbiAgICBjb25zdCBwcm9wZXJ0eVZhbHVlID0gaXNOb25Db2xvcnNcbiAgICAgID8gJydcbiAgICAgIDogc3R5bGVbcHJvcGVydHldXG5cbiAgICBjb25zdCBhc3NlcnRpb24gPSB2YWx1ZVxuICAgICAgPyBjb21wYXJlQ1NTVmFsdWUocHJvcGVydHlWYWx1ZSwgdmFsdWUpXG4gICAgICA6IEJvb2xlYW4ocHJvcGVydHlWYWx1ZSlcblxuICAgIGNvbnN0IGVsZW1lbnRUYWcgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuXG4gICAgY29uc3QgdGhyb3dNZXNzYWdlID0gYGV4cGVjdCAke2VsZW1lbnRUYWd9IHRvIGhhdmUgeyR7cHJvcGVydHl9OiAke3ZhbHVlfX0sIGlzIHJlY2VpdmluZyB7JHtwcm9wZXJ0eX06ICR7cHJvcGVydHlWYWx1ZX19YFxuICAgIGNvbnN0IHRocm93TWVzc2FnZU5lZ2F0aXZlID0gYGV4cGVjdCAke2VsZW1lbnRUYWd9IHRvIG5vdCBoYXZlIHske3Byb3BlcnR5fTogJHt2YWx1ZX19LCBpcyByZWNlaXZpbmcgeyR7cHJvcGVydHl9OiAke3Byb3BlcnR5VmFsdWV9fWBcblxuICAgIHRoaXMuYXNzZXJ0KGFzc2VydGlvbiwgdGhyb3dNZXNzYWdlLCB0aHJvd01lc3NhZ2VOZWdhdGl2ZSwgdmFsdWUpXG5cbiAgICBmdW5jdGlvbiBjb21wYXJlQ1NTVmFsdWUoY29tcHV0ZWQsIGV4cGVjdGVkKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eUhpZmVuQ2FzZSA9IHByb3BlcnR5LnJlcGxhY2UoL1tBLVpdL2csIChtYXRjaCkgPT4gJy0nICsgbWF0Y2gudG9Mb3dlckNhc2UoKSlcbiAgICAgIGNvbnN0IGZha2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgZmFrZS5zdHlsZS5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplXG4gICAgICBmYWtlLnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5SGlmZW5DYXNlLCBleHBlY3RlZCwgJ2ltcG9ydGFudCcpXG4gICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKVxuICAgICAgaWZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpXG4gICAgICBpZnJhbWUuYXBwZW5kQ2hpbGQoZmFrZSlcbiAgICAgIGNvbnN0IGZha2VTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGZha2UpXG4gICAgICBjb25zdCB2YWx1ZSA9IGZha2VTdHlsZVtwcm9wZXJ0eV1cblxuICAgICAgY29uc3QgaGFzQXV0b1ZhbHVlID0gdmFsdWUuaW5jbHVkZXMoJ2F1dG8nKVxuICAgICAgY29uc3QgcmVnID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAodmFsdWUpLnJlcGxhY2UoL2F1dG8vZywgJyhcXFxcZCsoLlxcXFxkKyk/cHh8YXV0byknKSlcblxuICAgICAgY29uc3QgY29tcGFyaXNvblJlc3VsdCA9IGhhc0F1dG9WYWx1ZVxuICAgICAgICA/IHJlZy50ZXN0KGNvbXB1dGVkKVxuICAgICAgICA6IGNvbXB1dGVkID09PSB2YWx1ZVxuXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGlmcmFtZSlcblxuICAgICAgcmV0dXJuIGNvbXBhcmlzb25SZXN1bHRcbiAgICB9XG4gIH0pXG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZW5qYW1pbmdyL1JlZ0V4cC5lc2NhcGUvYmxvYi9tYXN0ZXIvcG9seWZpbGwuanNcbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cCh2YWx1ZSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1tcXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJylcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZGVlcEVxdWFsID0gcmVxdWlyZSgnZGVlcC1lcWwnKVxudmFyIHR5cGUgPSByZXF1aXJlKCd0eXBlLWRldGVjdCcpXG5cbnZhciBERUZBVUxUX1RPTEVSQU5DRSA9IDFlLTZcblxuLyoqXG4gKiBzbWFsbCB1dGlsaXR5IGZ1bmN0aW9uc1xuICovXG5mdW5jdGlvbiBpc051bWJlciAodmFsKSB7XG4gIHJldHVybiB0eXBlKHZhbCkgPT09ICdudW1iZXInXG59XG5cbmZ1bmN0aW9uIGJvdGhOdW1iZXJzIChsZWZ0LCByaWdodCkge1xuICByZXR1cm4gaXNOdW1iZXIocmlnaHQpICYmIGlzTnVtYmVyKGxlZnQpXG59XG5cbmZ1bmN0aW9uIGFsbW9zdEVxdWFsIChsZWZ0LCByaWdodCwgdG9sKSB7XG4gIHJldHVybiBNYXRoLmFicyhsZWZ0IC0gcmlnaHQpIDw9IHRvbFxufVxuXG4vKipcbiAqIE1ha2VzIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBiZSBwYXNzZWQgdG8gZGVlcEVxdWFsLlxuICogVGhlIHJldHVybmVkIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIG51bGwgaWYgYm90aCBhcmd1bWVudHMgYXJlIG5vdCBudW1iZXJzLFxuICogaW5kaWNhdGluZyB0aGF0IGRlZXBFcXVhbCBzaG91bGQgcHJvY2VlZCB3aXRoIG90aGVyIGVxdWFsaXR5IGNoZWNrc1xuICovXG5mdW5jdGlvbiBjb21wYXJhdG9yICh0b2xlcmFuY2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgIGlmIChib3RoTnVtYmVycyhsZWZ0LCByaWdodCkpIHtcbiAgICAgIHJldHVybiBhbG1vc3RFcXVhbChsZWZ0LCByaWdodCwgdG9sZXJhbmNlKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8qKlxuICogU2V0cyBnbG9iYWwgdG9sZXJhbmNlIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gYmUgcGFzc2VkIHRvIGNoYWkudXNlXG4gKiBAc2VlIGh0dHA6Ly9jaGFpanMuY29tL2d1aWRlL3BsdWdpbnMvXG4gKi9cbmZ1bmN0aW9uIGNoYWlBbG1vc3QgKGN1c3RvbVRvbGVyYW5jZSkge1xuICB2YXIgc3RhbmRhcmRUb2xlcmFuY2UgPSBjdXN0b21Ub2xlcmFuY2UgfHwgREVGQVVMVF9UT0xFUkFOQ0VcblxuICByZXR1cm4gZnVuY3Rpb24gKGNoYWksIHV0aWxzKSB7XG4gICAgdmFyIEFzc2VydGlvbiA9IGNoYWkuQXNzZXJ0aW9uXG4gICAgdmFyIGZsYWcgPSB1dGlscy5mbGFnXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHNoYWxsb3cgZXF1YWxpdHkgZnVuY3Rpb24gdG8gb3ZlcnJpZGVcbiAgICAgKiAuZXF1YWwsIC5lcXVhbHMsIC5lcSB0aGF0IHRlc3RzICdhbG1vc3QnIGVxdWFsaXR5XG4gICAgICogaWYgYm90aCB2YWx1ZXMgYXJlIG51bWJlcnMgYW5kIGEgJ3RvbGVyYW5jZScgZmxhZyBpcyBzZXQuXG4gICAgICogU2VuZHMgdG8gZGVlcCBlcXVhbGl0eSBjaGVjayBpZiBkZWVwIGZsYWcgaXMgc2V0XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlcnJpZGVBc3NlcnRFcXVhbCAoX3N1cGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gYXNzZXJ0RXF1YWwgKHZhbCwgbXNnKSB7XG4gICAgICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpXG5cbiAgICAgICAgdmFyIGRlZXAgPSBmbGFnKHRoaXMsICdkZWVwJylcbiAgICAgICAgdmFyIHRvbGVyYW5jZSA9IGZsYWcodGhpcywgJ3RvbGVyYW5jZScpXG5cbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5lcWwodmFsKVxuICAgICAgICB9IGVsc2UgaWYgKHRvbGVyYW5jZSAmJiBib3RoTnVtYmVycyh2YWwsIHRoaXMuX29iaikpIHtcbiAgICAgICAgICB0aGlzLmFzc2VydChhbG1vc3RFcXVhbCh2YWwsIHRoaXMuX29iaiwgdG9sZXJhbmNlKSxcbiAgICAgICAgICAgICdleHBlY3RlZCAje3RoaXN9IHRvIGFsbW9zdCBlcXVhbCAje2V4cH0nLFxuICAgICAgICAgICAgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGFsbW9zdCBlcXVhbCAje2V4cH0nLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgdGhpcy5fb2JqLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgZGVlcCBlcXVhbGl0eSBmdW5jdGlvbiB0byBvdmVycmlkZVxuICAgICAqIC5lcWwsIC5lcWxzIHRoYXQgdGVzdHMgJ2FsbW9zdCcgZXF1YWxpdHkgaWYgYm90aCBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWVzIGFyZSBudW1iZXJzIGFuZCB0b2xlcmFuY2UgZmxhZyBpcyBzZXRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVycmlkZUFzc2VydEVxbCAoX3N1cGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gYXNzZXJ0RXFsICh2YWwsIG1zZykge1xuICAgICAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKVxuXG4gICAgICAgIHZhciB0b2xlcmFuY2UgPSBmbGFnKHRoaXMsICd0b2xlcmFuY2UnKVxuXG4gICAgICAgIGlmICh0b2xlcmFuY2UpIHtcbiAgICAgICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICAgIGRlZXBFcXVhbCh2YWwsIHRoaXMuX29iaiwgeyBjb21wYXJhdG9yOiBjb21wYXJhdG9yKHRvbGVyYW5jZSkgfSksXG4gICAgICAgICAgICAnZXhwZWN0ZWQgI3t0aGlzfSB0byBkZWVwbHkgYWxtb3N0IGVxdWFsICN7ZXhwfScsXG4gICAgICAgICAgICAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgZGVlcGx5IGFsbW9zdCBlcXVhbCAje2V4cH0nLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgdGhpcy5fb2JqLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIC5hbG1vc3QoKSBtZXRob2QuIFRvIGJlIHVzZWQgYXQgdGhlIGVuZCBvZiB0aGUgY2hhaW4gbGlrZTpcbiAgICAgKiBleHBlY3QoNCkudG8ubm90LmJlLmFsbW9zdCg1LCAxLjUpLiBTaW1wbHkgYWRkcyB0b2xlcmFuY2UgZmxhZyB0aGVuIGNhbGxzXG4gICAgICogLmVxdWFsLiBUaGlzIHdpbGwgcmVkaXJlY3QgdG8gLmVxbCBpZiBkZWVwIGZsYWcgc2V0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWV0aG9kICh2YWwsIHRvbGVyYW5jZU92ZXJyaWRlKSB7XG4gICAgICB2YXIgdG9sZXJhbmNlID0gdG9sZXJhbmNlT3ZlcnJpZGUgfHwgc3RhbmRhcmRUb2xlcmFuY2VcblxuICAgICAgZmxhZyh0aGlzLCAndG9sZXJhbmNlJywgdG9sZXJhbmNlKVxuXG4gICAgICByZXR1cm4gdGhpcy5lcXVhbCh2YWwpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogLmFsbW9zdCBjaGFpbmFibGUgcHJvcGVydHkgdG8gYmUgdXNlZCBsaWtlOlxuICAgICAqIGV4cGVjdCgzLjk5OTk5OTk5KS50by5hbG1vc3QuZXF1YWwoNCkuIFNpbXBseSBhZGRzXG4gICAgICogdG9sZXJhbmNlIGZsYWcgdG8gYmUgcmVhZCBieSBlcXVhbGl0eSBjaGVja2luZyBtZXRob2RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW5pbmdCZWhhdmlvciAoKSB7XG4gICAgICBmbGFnKHRoaXMsICd0b2xlcmFuY2UnLCBzdGFuZGFyZFRvbGVyYW5jZSlcbiAgICB9XG5cbiAgICBBc3NlcnRpb24uYWRkQ2hhaW5hYmxlTWV0aG9kKCdhbG1vc3QnLCBtZXRob2QsIGNoYWluaW5nQmVoYXZpb3IpXG5cbiAgICBBc3NlcnRpb24ub3ZlcndyaXRlTWV0aG9kKCdlcXVhbCcsIG92ZXJyaWRlQXNzZXJ0RXF1YWwpXG4gICAgQXNzZXJ0aW9uLm92ZXJ3cml0ZU1ldGhvZCgnZXF1YWxzJywgb3ZlcnJpZGVBc3NlcnRFcXVhbClcbiAgICBBc3NlcnRpb24ub3ZlcndyaXRlTWV0aG9kKCdlcScsIG92ZXJyaWRlQXNzZXJ0RXF1YWwpXG5cbiAgICBBc3NlcnRpb24ub3ZlcndyaXRlTWV0aG9kKCdlcWwnLCBvdmVycmlkZUFzc2VydEVxbClcbiAgICBBc3NlcnRpb24ub3ZlcndyaXRlTWV0aG9kKCdlcWxzJywgb3ZlcnJpZGVBc3NlcnRFcWwpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGFpQWxtb3N0XG4iLCJjb25zdCBjaGVjayA9IHJlcXVpcmUoJ2NoZWNrLXR5cGVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGNoYWkpID0+IHtcblxuICBjb25zdCB0eXBlcyA9IFsnbnVtYmVyJywgJ3N0cmluZycsICdib29sZWFuJywgJ29iamVjdCcsICdhcnJheScsICdkYXRlJywgJ2Z1bmN0aW9uJ107XG5cbiAgdHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIGNoYWkuQXNzZXJ0aW9uLmFkZE1ldGhvZCh0eXBlLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBjaGVja1t0eXBlXSh0aGlzLl9vYmopLFxuICAgICAgICBgZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSAke3R5cGV9YCxcbiAgICAgICAgYGV4cGVjdGVkICN7dGhpc30gbm90IHRvIGJlICR7dHlwZX1gXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxufTsiLCJmdW5jdGlvbiBwbHVnaW4oY2hhaSwgdXRpbHMpIHtcblxuICB2YXIgQXNzZXJ0aW9uID0gY2hhaS5Bc3NlcnRpb247XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIGVudHJ5IGlzIGFuIGV2ZW50IGVtaXR0ZXIuXG4gICAqIFVzZXMgRXZlbnRFbWl0dGVyIG9yIEV2ZW50VGFyZ2V0IGlmIGF2YWlsYWJsZSB0byBxdWlja2x5IGNoZWNrIGBpbnN0YW5jZW9mYC4gIE90aGVyd2lzZSwgY2hlY2tzIHRoYXQgY29tbW9uIG1ldGhvZHNcbiAgICogdG8gZXZlbnQgZW1pdHRlcnMgYXJlIGF2YWlsYWJsZS5cbiAgICpcbiAgICogR3JhY2VmdWxseSBoYW5kbGVzIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMgb2YgZXZlbnQgZW1pdHRlcnMgZXZlbiBpZiBFdmVudEVtaXR0ZXIgb3IgRXZlbnRUYXJnZXQgYXJlIGF2YWlsYWJsZSxcbiAgICogY2hlY2tpbmcgbWV0aG9kcyBpZiB0aGUgZW1pdHRlciBkb2Vzbid0IGluaGVyaXQgZnJvbSB0aGUgZ2xvYmFsIGVtaXR0ZXIuXG4gICovXG4gIGZ1bmN0aW9uIGlzRW1pdHRlcigpIHtcbiAgICAvLyBFYXN5IGNoZWNrOiBpZiBOb2RlJ3MgRXZlbnRFbWl0dGVyIG9yIHdpbmRvdy5FdmVudEVtaXR0ZXIgZXhpc3QsIGNoZWNrIGlmIHRoaXMgaXMgYW4gaW5zdGFuY2Ugb2YgaXQuXG4gICAgaWYodHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIgIT09IG51bGwgJiYgdGhpcy5fb2JqIGluc3RhbmNlb2YgRXZlbnRFbWl0dGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnQodHJ1ZSwgXCJcIiwgXCJleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBiZSBhbiBFdmVudEVtaXR0ZXJcIik7XG4gICAgfVxuXG4gICAgLy8gRWFzeSBjaGVjazogaWYgdGhlIGJyb3dzZXIncyBFdmVudFRhcmdldCBleGlzdHMsIGNoZWNrIGlmIHRoaXMgaXMgYW4gaW5zdGFuY2Ugb2YgaXQuXG4gICAgaWYodHlwZW9mIEV2ZW50VGFyZ2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50VGFyZ2V0ICE9PSBudWxsICYmIHRoaXMuX29iaiBpbnN0YW5jZW9mIEV2ZW50VGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnQodHJ1ZSwgXCJcIiwgXCJleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBiZSBhbiBFdmVudFRhcmdldFwiKTtcbiAgICB9XG5cbiAgICB2YXIgb2JqID0gdGhpcy5fb2JqO1xuXG4gICAgLy8gQ2hlY2sgZm9yIE5vZGUuanMgc3R5bGUgZXZlbnQgZW1pdHRlcnMgd2l0aCBcIm9uXCIsIFwiZW1pdFwiLCBldGMuXG4gICAgdmFyIG5vZGUgPSBbXCJvblwiLCBcImVtaXRcIl0uZXZlcnkoZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9ialttZXRob2RdID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfSk7XG5cbiAgICBpZihub2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnQodHJ1ZSwgXCJcIiwgXCJleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBiZSBhbiBFdmVudEVtaXR0ZXJcIik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIEJyb3dzZXItYmFzZWQgZXZlbnQgZW1pdHRlcnMgd2l0aCBcImFkZEV2ZW50TGlzdGVuZXJcIiwgZXRjLlxuICAgIHZhciBicm93c2VyID0gW1wiYWRkRXZlbnRMaXN0ZW5lclwiLCBcImRpc3BhdGNoRXZlbnRcIiwgXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdLmV2ZXJ5KGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmpbbWV0aG9kXSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH0pO1xuXG4gICAgaWYoYnJvd3Nlcikge1xuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0KHRydWUsIFwiXCIsIFwiZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgYmUgYW4gRXZlbnRFbWl0dGVyXCIpO1xuICAgIH1cblxuICAgIHRoaXMuYXNzZXJ0KGZhbHNlLCBcImV4cGVjdGVkICN7dGhpc30gdG8gYmUgYW4gRXZlbnRFbWl0dGVyXCIsIFwiXCIpO1xuICB9O1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eShcImVtaXR0ZXJcIiwgaXNFbWl0dGVyKTtcbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KFwidGFyZ2V0XCIsIGlzRW1pdHRlcik7XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZChcImVtaXRcIiwgZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgIG5ldyBBc3NlcnRpb24odGhpcy5fb2JqKS50by5iZS5hbi5lbWl0dGVyO1xuXG4gICAgbmV3IEFzc2VydGlvbihuYW1lKS50by5iZS5hKFwic3RyaW5nXCIpO1xuICAgIHZhciBvYmogPSB0aGlzLl9vYmo7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgYXNzZXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5hc3NlcnQuYXBwbHkoX3RoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gdXRpbHMuZmxhZyh0aGlzLCAndGltZW91dCcpIHx8IDE1MDA7XG5cbiAgICBpZih1dGlscy5mbGFnKHRoaXMsICduZWdhdGUnKSkge1xuICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGV2ZW50IGRvZXNuJ3QgZmlyZSBiZWZvcmUgdGltZW91dFxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICBvYmoub24obmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoZG9uZSkgeyByZXR1cm47IH1cbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICBhc3NlcnQoZmFsc2UsIFwiZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgZW1pdCBcIituYW1lK1wiLlwiKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKGRvbmUpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBldmVudCBmaXJlc1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICBvYmoub24obmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoZG9uZSkgeyByZXR1cm47IH1cbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKGRvbmUpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0KGZhbHNlLCBcImV4cGVjdGVkICN7dGhpc30gdG8gZW1pdCBcIituYW1lK1wiLlwiKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxufVxuXG5pZiAodHlwZW9mIHJlcXVpcmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xufVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcGx1Z2luO1xuICB9KTtcbn1cbmVsc2Uge1xuICAvLyBPdGhlciBlbnZpcm9ubWVudCAodXN1YWxseSA8c2NyaXB0PiB0YWcpOiBwbHVnIGluIHRvIGdsb2JhbCBjaGFpIGluc3RhbmNlIGRpcmVjdGx5LlxuICBjaGFpLnVzZShwbHVnaW4pO1xufVxuIiwiaW1wb3J0ICogYXMgaGVscGVycyBmcm9tICcuL2hlbHBlcnMnXG5pbXBvcnQge0lNUE9SVEFOVH0gZnJvbSAnLi9jb25zdGFudHMnXG5cbnF1aWNrY3NzID0gKHRhcmdldEVsLCBwcm9wZXJ0eSwgdmFsdWUsIGltcG9ydGFudCktPlxuXHRzd2l0Y2hcblx0XHR3aGVuIGhlbHBlcnMuaXNJdGVyYWJsZSh0YXJnZXRFbClcblx0XHRcdHF1aWNrY3NzKHN1YkVsLCBwcm9wZXJ0eSwgdmFsdWUpIGZvciBzdWJFbCBpbiB0YXJnZXRFbFxuXHRcblx0XHR3aGVuIHR5cGVvZiBwcm9wZXJ0eSBpcyAnb2JqZWN0JyAjIFBhc3NlZCBhIHN0eWxlIG1hcFxuXHRcdFx0cXVpY2tjc3ModGFyZ2V0RWwsIHN1YlByb3BlcnR5LCBzdWJWYWx1ZSkgZm9yIHN1YlByb3BlcnR5LHN1YlZhbHVlIG9mIHByb3BlcnR5XG5cdFxuXHRcdGVsc2Vcblx0XHRcdHByb3BlcnR5ID0gaGVscGVycy5ub3JtYWxpemVQcm9wZXJ0eShwcm9wZXJ0eSlcblx0XHRcdGlmIHR5cGVvZiB2YWx1ZSBpcyAndW5kZWZpbmVkJ1xuXHRcdFx0XHRjb21wdXRlZFN0eWxlID0gdGFyZ2V0RWwuX2NvbXB1dGVkU3R5bGUgfHw9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0RWwpXG5cdFx0XHRcdHJldHVybiBjb21wdXRlZFN0eWxlW3Byb3BlcnR5XVxuXHRcdFx0XG5cdFx0XHRlbHNlIGlmIHByb3BlcnR5XG5cdFx0XHRcdHRhcmdldEVsLnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBoZWxwZXJzLm5vcm1hbGl6ZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSksIElNUE9SVEFOVCBpZiBpbXBvcnRhbnQpXG5cblx0cmV0dXJuXG5cblxucXVpY2tjc3MuYW5pbWF0aW9uID0gKG5hbWUsIGZyYW1lcyktPiBpZiBuYW1lIGFuZCB0eXBlb2YgbmFtZSBpcyAnc3RyaW5nJyBhbmQgZnJhbWVzIGFuZCB0eXBlb2YgZnJhbWVzIGlzICdvYmplY3QnXG5cdHByZWZpeCA9IGhlbHBlcnMuZ2V0UHJlZml4KCdhbmltYXRpb24nKVxuXHRnZW5lcmF0ZWQgPSAnJ1xuXHRcblx0Zm9yIGZyYW1lLHJ1bGVzIG9mIGZyYW1lc1xuXHRcdGdlbmVyYXRlZCArPSBcIiN7ZnJhbWV9IHsje2hlbHBlcnMucnVsZVRvU3RyaW5nKHJ1bGVzKX19XCJcblxuXHRnZW5lcmF0ZWQgPSBcIkAje3ByZWZpeH1rZXlmcmFtZXMgI3tuYW1lfSB7I3tnZW5lcmF0ZWR9fVwiXG5cdGhlbHBlcnMuaW5saW5lU3R5bGUoZ2VuZXJhdGVkLCB0cnVlLCAwKVxuXG5cbnF1aWNrY3NzLnJlZ2lzdGVyID0gKHJ1bGUsIGxldmVsLCBpbXBvcnRhbnQpLT4gaWYgcnVsZSBhbmQgdHlwZW9mIHJ1bGUgaXMgJ29iamVjdCdcblx0bGV2ZWwgfHw9IDBcblx0cnVsZSA9IGhlbHBlcnMucnVsZVRvU3RyaW5nKHJ1bGUsIGltcG9ydGFudClcblxuXHR1bmxlc3MgY2xhc3NOYW1lID0gaGVscGVycy5pbmxpbmVTdHlsZUNvbmZpZ1tsZXZlbF0/W3J1bGVdXG5cdFx0Y2xhc3NOYW1lID0gaGVscGVycy5oYXNoKHJ1bGUpXG5cdFx0c3R5bGUgPSBcIi4je2NsYXNzTmFtZX0geyN7cnVsZX19XCJcblx0XHRoZWxwZXJzLmlubGluZVN0eWxlKHN0eWxlLCBjbGFzc05hbWUsIGxldmVsKVxuXG5cdHJldHVybiBjbGFzc05hbWVcblxuXG5xdWlja2Nzcy5jbGVhclJlZ2lzdGVyZWQgPSAobGV2ZWwpLT5cblx0aGVscGVycy5jbGVhcklubGluZVN0eWxlKGxldmVsIG9yIDApXG5cblxuIyMjIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICMjI1xucXVpY2tjc3MuVU5TRVQgPSBzd2l0Y2hcblx0d2hlbiBoZWxwZXJzLmlzVmFsdWVTdXBwb3J0ZWQoJ2Rpc3BsYXknLCd1bnNldCcpIHRoZW4gJ3Vuc2V0J1xuXHR3aGVuIGhlbHBlcnMuaXNWYWx1ZVN1cHBvcnRlZCgnZGlzcGxheScsJ2luaXRpYWwnKSB0aGVuICdpbml0aWFsJ1xuXHR3aGVuIGhlbHBlcnMuaXNWYWx1ZVN1cHBvcnRlZCgnZGlzcGxheScsJ2luaGVyaXQnKSB0aGVuICdpbmhlcml0J1xuXG5xdWlja2Nzcy5zdXBwb3J0cyA9IGhlbHBlcnMuaXNWYWx1ZVN1cHBvcnRlZFxucXVpY2tjc3Muc3VwcG9ydHNQcm9wZXJ0eSA9IGhlbHBlcnMuaXNQcm9wU3VwcG9ydGVkXG5xdWlja2Nzcy5ub3JtYWxpemVQcm9wZXJ0eSA9IGhlbHBlcnMubm9ybWFsaXplUHJvcGVydHlcbnF1aWNrY3NzLm5vcm1hbGl6ZVZhbHVlID0gaGVscGVycy5ub3JtYWxpemVWYWx1ZVxucXVpY2tjc3MudmVyc2lvbiA9IGltcG9ydCAnLi4vcGFja2FnZS5qc29uICQgdmVyc2lvbidcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1aWNrY3NzIiwie1xuICBcIl9mcm9tXCI6IFwicXVpY2tjc3NAXjEuMy40XCIsXG4gIFwiX2lkXCI6IFwicXVpY2tjc3NAMS40LjBcIixcbiAgXCJfaW5CdW5kbGVcIjogZmFsc2UsXG4gIFwiX2ludGVncml0eVwiOiBcInNoYTUxMi1VZHRHVzNVWmh0MUJvMUJ3Q3VnaFJlSUErUTAreEFzUWsyR2ttOFUraGx3VjRQdU0wWW1LcXlxWDVBSUhEdEVsaTg2eUhsaEVrM0kvNTg5TWM1ZzdYdz09XCIsXG4gIFwiX2xvY2F0aW9uXCI6IFwiL3F1aWNrY3NzXCIsXG4gIFwiX3BoYW50b21DaGlsZHJlblwiOiB7fSxcbiAgXCJfcmVxdWVzdGVkXCI6IHtcbiAgICBcInR5cGVcIjogXCJyYW5nZVwiLFxuICAgIFwicmVnaXN0cnlcIjogdHJ1ZSxcbiAgICBcInJhd1wiOiBcInF1aWNrY3NzQF4xLjMuNFwiLFxuICAgIFwibmFtZVwiOiBcInF1aWNrY3NzXCIsXG4gICAgXCJlc2NhcGVkTmFtZVwiOiBcInF1aWNrY3NzXCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiXjEuMy40XCIsXG4gICAgXCJzYXZlU3BlY1wiOiBudWxsLFxuICAgIFwiZmV0Y2hTcGVjXCI6IFwiXjEuMy40XCJcbiAgfSxcbiAgXCJfcmVxdWlyZWRCeVwiOiBbXG4gICAgXCIvcXVpY2tkb21cIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3F1aWNrY3NzLy0vcXVpY2tjc3MtMS40LjAudGd6XCIsXG4gIFwiX3NoYXN1bVwiOiBcImViYWZkNWZmY2E1NmUyMjExNWU4NTVjMTE3ZjEzMzFhZWE0NThkY2ZcIixcbiAgXCJfc3BlY1wiOiBcInF1aWNrY3NzQF4xLjMuNFwiLFxuICBcIl93aGVyZVwiOiBcIi9Vc2Vycy9kYW5pZWxrYWxlbi9zYW5kYm94L3F1aWNrcG9wdXAvbm9kZV9tb2R1bGVzL3F1aWNrZG9tXCIsXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJkYW5pZWxrYWxlblwiXG4gIH0sXG4gIFwiYnJvd3NlclwiOiB7XG4gICAgXCIuL2RlYnVnXCI6IFwiZGlzdC9xdWlja2Nzcy5kZWJ1Zy5qc1wiLFxuICAgIFwiLi9kaXN0L3F1aWNrY3NzLmpzXCI6IFwic3JjL2luZGV4LmNvZmZlZVwiXG4gIH0sXG4gIFwiYnJvd3NlcmlmeVwiOiB7XG4gICAgXCJ0cmFuc2Zvcm1cIjogW1xuICAgICAgXCJzaW1wbHlpbXBvcnQvY29tcGF0XCJcbiAgICBdXG4gIH0sXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vcXVpY2tjc3MvaXNzdWVzXCJcbiAgfSxcbiAgXCJidW5kbGVEZXBlbmRlbmNpZXNcIjogZmFsc2UsXG4gIFwiZGVwcmVjYXRlZFwiOiBmYWxzZSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIuKaoe+4jy1mYXN0IHRpbnkgQ1NTIG1hbmFnZW1lbnQgdG9vbCBzcHJpbmtsZWQgd2l0aCBBUEkgc3VnYXJcIixcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYmx1ZWJpcmRcIjogXCJeMy41LjBcIixcbiAgICBcImNoYWxrXCI6IFwiXjIuMC4xXCIsXG4gICAgXCJjb2ZmZWUtc2NyaXB0XCI6IFwiXjEuMTIuNlwiLFxuICAgIFwiZXhlY2FcIjogXCJeMC43LjBcIixcbiAgICBcImZzLWpldHBhY2tcIjogXCJeMC4xMy4zXCIsXG4gICAgXCJwcm9taXNlLWJyZWFrXCI6IFwiXjAuMS4xXCIsXG4gICAgXCJzZW12ZXJcIjogXCJeNS4zLjBcIixcbiAgICBcInNpbXBseWltcG9ydFwiOiBcIl40LjAuNVwiLFxuICAgIFwic2ltcGx5d2F0Y2hcIjogXCJeMy4wLjBcIlxuICB9LFxuICBcImRpcmVjdG9yaWVzXCI6IHtcbiAgICBcInRlc3RcIjogXCJ0ZXN0XCJcbiAgfSxcbiAgXCJmaWxlc1wiOiBbXG4gICAgXCJkaXN0XCIsXG4gICAgXCJzcmNcIlxuICBdLFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3F1aWNrY3NzI3JlYWRtZVwiLFxuICBcImxpY2Vuc2VcIjogXCJJU0NcIixcbiAgXCJtYWluXCI6IFwiZGlzdC9xdWlja2Nzcy5qc1wiLFxuICBcIm5hbWVcIjogXCJxdWlja2Nzc1wiLFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9xdWlja2Nzcy5naXRcIlxuICB9LFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwiYnVpbGRcIjogXCJjYWtlIC1kIGJ1aWxkICYmIGNha2UgYnVpbGQgJiYgY2FrZSBtZWFzdXJlICYmIGNwIC1yIGJ1aWxkLyogZGlzdC9cIixcbiAgICBcImNvdmVyYWdlXCI6IFwiY2FrZSBpbnN0YWxsOmNvdmVyYWdlOyBucG0gcnVuIGNvdmVyYWdlOnJ1biAmJiBucG0gcnVuIGNvdmVyYWdlOmJhZGdlXCIsXG4gICAgXCJjb3ZlcmFnZTpiYWRnZVwiOiBcImJhZGdlLWdlbiAtZCAuLy5jb25maWcvYmFkZ2VzL2NvdmVyYWdlXCIsXG4gICAgXCJjb3ZlcmFnZTpydW5cIjogXCJjb3ZlcmFnZT10cnVlIG5wbSBydW4gdGVzdDplbGVjdHJvblwiLFxuICAgIFwiY292ZXJhZ2U6c2hvd1wiOiBcIm9wZW4gY292ZXJhZ2UvbGNvdi1yZXBvcnQvaW5kZXguaHRtbFwiLFxuICAgIFwicG9zdHB1Ymxpc2hcIjogXCJnaXQgcHVzaFwiLFxuICAgIFwicG9zdHZlcnNpb25cIjogXCJucG0gcnVuIGJ1aWxkICYmIGdpdCBhZGQgLiAmJiBnaXQgY29tbWl0IC1hIC1tICdbQnVpbGRdJ1wiLFxuICAgIFwicHJlcHVibGlzaE9ubHlcIjogXCJucG0gcnVuIHRlc3Q6dHJhdmlzXCIsXG4gICAgXCJ0ZXN0XCI6IFwibnBtIHJ1biB0ZXN0OmJyb3dzZXIgLXMgfHwgdHJ1ZVwiLFxuICAgIFwidGVzdDpicm93c2VyXCI6IFwiY2FrZSBpbnN0YWxsOnRlc3Q7IGthcm1hIHN0YXJ0IC0tc2luZ2xlLXJ1biAtLWJyb3dzZXJzIEVsZWN0cm9uIC5jb25maWcva2FybWEuY29uZi5jb2ZmZWVcIixcbiAgICBcInRlc3Q6Y2hyb21lXCI6IFwiY2FrZSBpbnN0YWxsOnRlc3Q7ICBrYXJtYSBzdGFydCAtLXNpbmdsZS1ydW4gLS1icm93c2VycyBDaHJvbWUgLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDpmaXJlZm94XCI6IFwiY2FrZSBpbnN0YWxsOnRlc3Q7IGthcm1hIHN0YXJ0IC0tc2luZ2xlLXJ1biAtLWJyb3dzZXJzIEZpcmVmb3ggLmNvbmZpZy9rYXJtYS5jb25mLmNvZmZlZVwiLFxuICAgIFwidGVzdDprYXJtYVwiOiBcImNha2UgaW5zdGFsbDp0ZXN0OyAgIGthcm1hIHN0YXJ0IC5jb25maWcva2FybWEuY29uZi5jb2ZmZWVcIixcbiAgICBcInRlc3Q6bG9jYWxcIjogXCJvcGVuIHRlc3QvdGVzdHJ1bm5lci5odG1sXCIsXG4gICAgXCJ0ZXN0Om1pbmlmaWVkXCI6IFwibWluaWZpZWQ9MSBucG0gcnVuIHRlc3Q6YnJvd3NlciAtcyB8fCB0cnVlXCIsXG4gICAgXCJ0ZXN0OnNhZmFyaVwiOiBcImNha2UgaW5zdGFsbDp0ZXN0OyAga2FybWEgc3RhcnQgLS1zaW5nbGUtcnVuIC0tYnJvd3NlcnMgU2FmYXJpIC5jb25maWcva2FybWEuY29uZi5jb2ZmZWVcIixcbiAgICBcInRlc3Q6c2F1Y2VcIjogXCJjYWtlIGluc3RhbGw6dGVzdDsgICBzYXVjZT0xIGthcm1hIHN0YXJ0IC5jb25maWcva2FybWEuY29uZi5jb2ZmZWVcIixcbiAgICBcInRlc3Q6dHJhdmlzXCI6IFwibnBtIHJ1biB0ZXN0OmJyb3dzZXIgLXMgJiYgbnBtIHJ1biB0ZXN0Om1pbmlmaWVkIC1zXCIsXG4gICAgXCJ3YXRjaFwiOiBcImNha2UgLWQgd2F0Y2hcIlxuICB9LFxuICBcInNpbXBseWltcG9ydFwiOiB7XG4gICAgXCJmaW5hbFRyYW5zZm9ybVwiOiBbXG4gICAgICBcIi5jb25maWcvdHJhbnNmb3Jtcy9taW5pZnktc3VwZXJcIixcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1yZW5hbWVcIixcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1zaW1wbGVcIlxuICAgIF1cbiAgfSxcbiAgXCJ2ZXJzaW9uXCI6IFwiMS40LjBcIlxufVxuIiwiZXh0ZW5kID0gcmVxdWlyZSAnLi9leHRlbmQnXG5cbm5vcm1hbGl6ZUtleXMgPSAoa2V5cyktPiBpZiBrZXlzXG5cdG91dHB1dCA9IHt9XG5cdGlmIHR5cGVvZiBrZXlzIGlzbnQgJ29iamVjdCdcblx0XHRvdXRwdXRba2V5c10gPSB0cnVlXG5cdGVsc2Vcblx0XHRrZXlzID0gT2JqZWN0LmtleXMoa2V5cykgaWYgbm90IEFycmF5LmlzQXJyYXkoa2V5cylcblx0XHRvdXRwdXRba2V5XSA9IHRydWUgZm9yIGtleSBpbiBrZXlzXG5cblx0cmV0dXJuIG91dHB1dFxuXG5cbm5ld0J1aWxkZXIgPSAoaXNCYXNlKS0+XG5cdGJ1aWxkZXIgPSAodGFyZ2V0KS0+XG5cdFx0RVhQQU5EX0FSR1VNRU5UUyhzb3VyY2VzKVxuXHRcdGlmIGJ1aWxkZXIub3B0aW9ucy50YXJnZXRcblx0XHRcdHRoZVRhcmdldCA9IGJ1aWxkZXIub3B0aW9ucy50YXJnZXRcblx0XHRlbHNlXG5cdFx0XHR0aGVUYXJnZXQgPSB0YXJnZXRcblx0XHRcdHNvdXJjZXMuc2hpZnQoKVxuXHRcdFxuXHRcdGV4dGVuZChidWlsZGVyLm9wdGlvbnMsIHRoZVRhcmdldCwgc291cmNlcylcblx0XG5cdGJ1aWxkZXIuaXNCYXNlID0gdHJ1ZSBpZiBpc0Jhc2Vcblx0YnVpbGRlci5vcHRpb25zID0ge31cblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYnVpbGRlciwgbW9kaWZpZXJzKVxuXHRyZXR1cm4gYnVpbGRlclxuXG5cbm1vZGlmaWVycyA9IFxuXHQnZGVlcCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5kZWVwID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J293bic6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5vd24gPSB0cnVlXG5cdFx0cmV0dXJuIF9cblxuXHQnYWxsb3dOdWxsJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLmFsbG93TnVsbCA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdudWxsRGVsZXRlcyc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5udWxsRGVsZXRlcyA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdjb25jYXQnOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRfLm9wdGlvbnMuY29uY2F0ID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J2Nsb25lJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLnRhcmdldCA9IHt9XG5cdFx0cmV0dXJuIF9cblxuXHQnbm90RGVlcCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLm5vdERlZXAgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdkZWVwT25seSc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLmRlZXBPbmx5ID0gbm9ybWFsaXplS2V5cyhrZXlzKVx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXHQna2V5cyc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLmtleXMgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdub3RLZXlzJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuIChrZXlzKS0+XG5cdFx0XHRfLm9wdGlvbnMubm90S2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5cylcdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblx0J3RyYW5zZm9ybSc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAodHJhbnNmb3JtKS0+XG5cdFx0XHRpZiB0eXBlb2YgdHJhbnNmb3JtIGlzICdmdW5jdGlvbidcblx0XHRcdFx0Xy5vcHRpb25zLmdsb2JhbFRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuXHRcdFx0ZWxzZSBpZiB0cmFuc2Zvcm0gYW5kIHR5cGVvZiB0cmFuc2Zvcm0gaXMgJ29iamVjdCdcblx0XHRcdFx0Xy5vcHRpb25zLnRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1cblx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXG5cdCdmaWx0ZXInOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRyZXR1cm4gKGZpbHRlciktPlxuXHRcdFx0aWYgdHlwZW9mIGZpbHRlciBpcyAnZnVuY3Rpb24nXG5cdFx0XHRcdF8ub3B0aW9ucy5nbG9iYWxGaWx0ZXIgPSBmaWx0ZXJcblx0XHRcdGVsc2UgaWYgZmlsdGVyIGFuZCB0eXBlb2YgZmlsdGVyIGlzICdvYmplY3QnXG5cdFx0XHRcdF8ub3B0aW9ucy5maWx0ZXJzID0gZmlsdGVyXG5cdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBuZXdCdWlsZGVyKHRydWUpXG5leHBvcnRzLnZlcnNpb24gPSBpbXBvcnQgJy4uL3BhY2thZ2UuanNvbiAkIHZlcnNpb24nIiwie1xuICBcIl9mcm9tXCI6IFwic21hcnQtZXh0ZW5kQF4xLjcuM1wiLFxuICBcIl9pZFwiOiBcInNtYXJ0LWV4dGVuZEAxLjcuM1wiLFxuICBcIl9pbkJ1bmRsZVwiOiBmYWxzZSxcbiAgXCJfaW50ZWdyaXR5XCI6IFwic2hhNTEyLVBWRUVWWUREenl4S0EwR05GTGNXWTZvSlNrUUtkYzF3NzE4ZVFwRUhjTnVUU1dZeERLMzVHemhzR2hNa1VVOGxCSWdTRURidDV4NXA0NnBSejNBdWJBPT1cIixcbiAgXCJfbG9jYXRpb25cIjogXCIvc21hcnQtZXh0ZW5kXCIsXG4gIFwiX3BoYW50b21DaGlsZHJlblwiOiB7fSxcbiAgXCJfcmVxdWVzdGVkXCI6IHtcbiAgICBcInR5cGVcIjogXCJyYW5nZVwiLFxuICAgIFwicmVnaXN0cnlcIjogdHJ1ZSxcbiAgICBcInJhd1wiOiBcInNtYXJ0LWV4dGVuZEBeMS43LjNcIixcbiAgICBcIm5hbWVcIjogXCJzbWFydC1leHRlbmRcIixcbiAgICBcImVzY2FwZWROYW1lXCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiXjEuNy4zXCIsXG4gICAgXCJzYXZlU3BlY1wiOiBudWxsLFxuICAgIFwiZmV0Y2hTcGVjXCI6IFwiXjEuNy4zXCJcbiAgfSxcbiAgXCJfcmVxdWlyZWRCeVwiOiBbXG4gICAgXCIvXCIsXG4gICAgXCIvcXVpY2tkb21cIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3NtYXJ0LWV4dGVuZC8tL3NtYXJ0LWV4dGVuZC0xLjcuMy50Z3pcIixcbiAgXCJfc2hhc3VtXCI6IFwiMGZlNGE0MjZjODYzOGY0OGY5OWI3Y2M4NWUyNzY3OTFlY2Y1YWYyYlwiLFxuICBcIl9zcGVjXCI6IFwic21hcnQtZXh0ZW5kQF4xLjcuM1wiLFxuICBcIl93aGVyZVwiOiBcIi9Vc2Vycy9kYW5pZWxrYWxlbi9zYW5kYm94L3F1aWNrcG9wdXBcIixcbiAgXCJhdXRob3JcIjoge1xuICAgIFwibmFtZVwiOiBcImRhbmllbGthbGVuXCJcbiAgfSxcbiAgXCJicm93c2VyXCI6IHtcbiAgICBcIi4vZGVidWdcIjogXCJkaXN0L3NtYXJ0LWV4dGVuZC5kZWJ1Zy5qc1wiLFxuICAgIFwiLi9kaXN0L3NtYXJ0LWV4dGVuZC5qc1wiOiBcInNyYy9pbmRleC5jb2ZmZWVcIlxuICB9LFxuICBcImJyb3dzZXJpZnlcIjoge1xuICAgIFwidHJhbnNmb3JtXCI6IFtcbiAgICAgIFwic2ltcGx5aW1wb3J0L2NvbXBhdFwiXG4gICAgXVxuICB9LFxuICBcImJ1Z3NcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3NtYXJ0LWV4dGVuZC9pc3N1ZXNcIlxuICB9LFxuICBcImJ1bmRsZURlcGVuZGVuY2llc1wiOiBmYWxzZSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiZmFsYWZlbFwiOiBcIl4yLjEuMFwiXG4gIH0sXG4gIFwiZGVwcmVjYXRlZFwiOiBmYWxzZSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIk1lcmdlL2V4dGVuZCBvYmplY3RzIChzaGFsbG93L2RlZXApIHdpdGggZ2xvYmFsL2luZGl2aWR1YWwgZmlsdGVycyBhbmQgbW9yZSBmZWF0dXJlc1wiLFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJiYWRnZS1nZW5cIjogXCJeMS4wLjJcIixcbiAgICBcImJsdWViaXJkXCI6IFwiXjMuNC43XCIsXG4gICAgXCJjaGFpXCI6IFwiXjMuNS4wXCIsXG4gICAgXCJjb2ZmZWUtcmVnaXN0ZXJcIjogXCJeMC4xLjBcIixcbiAgICBcImNvZmZlZWlmeS1jYWNoZWRcIjogXCJeMi4xLjFcIixcbiAgICBcImV4dGVuZFwiOiBcIl4zLjAuMVwiLFxuICAgIFwiZ29vZ2xlLWNsb3N1cmUtY29tcGlsZXItanNcIjogXCJeMjAxNzA2MjYuMC4wXCIsXG4gICAgXCJtb2NoYVwiOiBcIl4zLjIuMFwiLFxuICAgIFwic2ltcGx5aW1wb3J0XCI6IFwiXjQuMC4wLXMyMVwiLFxuICAgIFwic2ltcGx5d2F0Y2hcIjogXCJeMy4wLjAtbDJcIixcbiAgICBcInVnbGlmeS1qc1wiOiBcIl4zLjAuMjRcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3NtYXJ0LWV4dGVuZCNyZWFkbWVcIixcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJleHRlbmRcIixcbiAgICBcImNsb25lXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcInNlbGVjdGl2ZVwiLFxuICAgIFwibWVyZ2VcIixcbiAgICBcImFzc2lnblwiLFxuICAgIFwicHJvcGVydGllc1wiXG4gIF0sXG4gIFwibGljZW5zZVwiOiBcIklTQ1wiLFxuICBcIm1haW5cIjogXCJkaXN0L3NtYXJ0LWV4dGVuZC5qc1wiLFxuICBcIm1vY2hhX29wdHNcIjogXCItdSB0ZGQgLS1jb21waWxlcnMgY29mZmVlOmNvZmZlZS1yZWdpc3RlciAtLXNsb3cgMTAwMCAtLXRpbWVvdXQgNTAwMFwiLFxuICBcIm5hbWVcIjogXCJzbWFydC1leHRlbmRcIixcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vc21hcnQtZXh0ZW5kLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJidWlsZFwiOiBcIm1rZGlyIC1wIGRpc3QvOyBucG0gcnVuIGJ1aWxkOmRlYnVnICYmIG5wbSBydW4gYnVpbGQ6cmVsZWFzZVwiLFxuICAgIFwiYnVpbGQ6ZGVidWdcIjogXCJzaW1wbHlpbXBvcnQgYnVuZGxlIHNyYy9pbmRleC5jb2ZmZWUgLWQgLS10YXJnZXQgbm9kZSAtLXVtZCBzbWFydC1leHRlbmQgPiBkaXN0L3NtYXJ0LWV4dGVuZC5kZWJ1Zy5qc1wiLFxuICAgIFwiYnVpbGQ6cmVsZWFzZVwiOiBcInNpbXBseWltcG9ydCBidW5kbGUgc3JjL2luZGV4LmNvZmZlZSAtLXRhcmdldCBub2RlIC0tdW1kIHNtYXJ0LWV4dGVuZCA+IGRpc3Qvc21hcnQtZXh0ZW5kLmpzXCIsXG4gICAgXCJjb3ZlcmFnZVwiOiBcIm5wbSBydW4gY292ZXJhZ2U6cnVuICYmIG5wbSBydW4gY292ZXJhZ2U6YmFkZ2VcIixcbiAgICBcImNvdmVyYWdlOmJhZGdlXCI6IFwiYmFkZ2UtZ2VuIC1kIC5jb25maWcvYmFkZ2VzL2NvdmVyYWdlXCIsXG4gICAgXCJjb3ZlcmFnZTpydW5cIjogXCJmb3JDb3ZlcmFnZT10cnVlIGlzdGFuYnVsIGNvdmVyIC0tZGlyIGNvdmVyYWdlIG5vZGVfbW9kdWxlcy9tb2NoYS9iaW4vX21vY2hhIC0tICRucG1fcGFja2FnZV9tb2NoYV9vcHRzXCIsXG4gICAgXCJwb3N0cHVibGlzaFwiOiBcImdpdCBwdXNoXCIsXG4gICAgXCJwb3N0dmVyc2lvblwiOiBcIm5wbSBydW4gYnVpbGQgJiYgZ2l0IGFkZCAuICYmIGdpdCBjb21taXQgLWEgLW0gJ1tCdWlsZF0nXCIsXG4gICAgXCJwcmVwdWJsaXNoT25seVwiOiBcIkNJPTEgbnBtIHJ1biB0ZXN0XCIsXG4gICAgXCJ0ZXN0XCI6IFwibW9jaGEgJG5wbV9wYWNrYWdlX21vY2hhX29wdHNcIixcbiAgICBcIndhdGNoXCI6IFwic2ltcGx5d2F0Y2ggLWcgJ3NyYy8qJyAteCAnbnBtIHJ1biBidWlsZDpkZWJ1ZyAtcydcIlxuICB9LFxuICBcInNpbXBseWltcG9ydFwiOiB7XG4gICAgXCJ0cmFuc2Zvcm1cIjogW1xuICAgICAgXCJjb2ZmZWVpZnktY2FjaGVkXCIsXG4gICAgICBcIi4vLmNvbmZpZy90cmFuc2Zvcm1zL21hY3Jvc1wiXG4gICAgXSxcbiAgICBcImZpbmFsVHJhbnNmb3JtXCI6IFtcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1zdXBlclwiLFxuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXJlbmFtZVwiLFxuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXNpbXBsZVwiXG4gICAgXVxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjcuM1wiXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHZhciB0eXBlc1xuICBpZiAoIHR5cGUgJiYgKCd0cmFuc2l0aW9uJyA9PT0gdHlwZSB8fCAndHJhbnMnID09PSB0eXBlKSApIHtcbiAgICB0eXBlcyA9IHtcbiAgICAgICdPVHJhbnNpdGlvbic6ICAgICAgJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgJ01velRyYW5zaXRpb24nOiAgICAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAndHJhbnNpdGlvbic6ICAgICAgICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cbiAgfVxuICBlbHNlIHsgLy8gYW5pbWF0aW9uIGlzIGRlZmF1bHRcbiAgICB0eXBlcyA9IHtcbiAgICAgICdPQW5pbWF0aW9uJzogICAgICAnb0FuaW1hdGlvbkVuZCcsXG4gICAgICAnV2Via2l0QW5pbWF0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgICAnTW96QW5pbWF0aW9uJzogICAgJ2FuaW1hdGlvbmVuZCcsXG4gICAgICAnYW5pbWF0aW9uJzogICAgICAgJ2FuaW1hdGlvbmVuZCdcbiAgICB9XG4gIH1cbiAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmYWtlJylcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHR5cGVzKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIHRyYW5zKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCAhPT0gZWxlbS5zdHlsZVt0cmFuc10/IHR5cGVzW3RyYW5zXTogcHJldlxuICB9LCAnJylcbn1cbiIsIi8qIVxuICogY2hhaVxuICogQ29weXJpZ2h0KGMpIDIwMTEtMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbnZhciB1c2VkID0gW107XG5cbi8qIVxuICogQ2hhaSB2ZXJzaW9uXG4gKi9cblxuZXhwb3J0cy52ZXJzaW9uID0gJzQuMi4wJztcblxuLyohXG4gKiBBc3NlcnRpb24gRXJyb3JcbiAqL1xuXG5leHBvcnRzLkFzc2VydGlvbkVycm9yID0gcmVxdWlyZSgnYXNzZXJ0aW9uLWVycm9yJyk7XG5cbi8qIVxuICogVXRpbHMgZm9yIHBsdWdpbnMgKG5vdCBleHBvcnRlZClcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vY2hhaS91dGlscycpO1xuXG4vKipcbiAqICMgLnVzZShmdW5jdGlvbilcbiAqXG4gKiBQcm92aWRlcyBhIHdheSB0byBleHRlbmQgdGhlIGludGVybmFscyBvZiBDaGFpLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259XG4gKiBAcmV0dXJucyB7dGhpc30gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMudXNlID0gZnVuY3Rpb24gKGZuKSB7XG4gIGlmICghfnVzZWQuaW5kZXhPZihmbikpIHtcbiAgICBmbihleHBvcnRzLCB1dGlsKTtcbiAgICB1c2VkLnB1c2goZm4pO1xuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHM7XG59O1xuXG4vKiFcbiAqIFV0aWxpdHkgRnVuY3Rpb25zXG4gKi9cblxuZXhwb3J0cy51dGlsID0gdXRpbDtcblxuLyohXG4gKiBDb25maWd1cmF0aW9uXG4gKi9cblxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY2hhaS9jb25maWcnKTtcbmV4cG9ydHMuY29uZmlnID0gY29uZmlnO1xuXG4vKiFcbiAqIFByaW1hcnkgYEFzc2VydGlvbmAgcHJvdG90eXBlXG4gKi9cblxudmFyIGFzc2VydGlvbiA9IHJlcXVpcmUoJy4vY2hhaS9hc3NlcnRpb24nKTtcbmV4cG9ydHMudXNlKGFzc2VydGlvbik7XG5cbi8qIVxuICogQ29yZSBBc3NlcnRpb25zXG4gKi9cblxudmFyIGNvcmUgPSByZXF1aXJlKCcuL2NoYWkvY29yZS9hc3NlcnRpb25zJyk7XG5leHBvcnRzLnVzZShjb3JlKTtcblxuLyohXG4gKiBFeHBlY3QgaW50ZXJmYWNlXG4gKi9cblxudmFyIGV4cGVjdCA9IHJlcXVpcmUoJy4vY2hhaS9pbnRlcmZhY2UvZXhwZWN0Jyk7XG5leHBvcnRzLnVzZShleHBlY3QpO1xuXG4vKiFcbiAqIFNob3VsZCBpbnRlcmZhY2VcbiAqL1xuXG52YXIgc2hvdWxkID0gcmVxdWlyZSgnLi9jaGFpL2ludGVyZmFjZS9zaG91bGQnKTtcbmV4cG9ydHMudXNlKHNob3VsZCk7XG5cbi8qIVxuICogQXNzZXJ0IGludGVyZmFjZVxuICovXG5cbnZhciBhc3NlcnQgPSByZXF1aXJlKCcuL2NoYWkvaW50ZXJmYWNlL2Fzc2VydCcpO1xuZXhwb3J0cy51c2UoYXNzZXJ0KTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbHMgU3ltYm9sOiB0cnVlLCBVaW50OEFycmF5OiB0cnVlLCBXZWFrTWFwOiB0cnVlICovXG4vKiFcbiAqIGRlZXAtZXFsXG4gKiBDb3B5cmlnaHQoYykgMjAxMyBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qIVxuICogTW9kdWxlIGRlcGVuZGVuY2llc1xuICovXG5cbnZhciB0eXBlID0gcmVxdWlyZSgndHlwZS1kZXRlY3QnKTtcbmZ1bmN0aW9uIEZha2VNYXAoKSB7XG4gIHRoaXMuY2xlYXIoKTtcbn1cbkZha2VNYXAucHJvdG90eXBlID0ge1xuICBjbGVhcjogZnVuY3Rpb24gY2xlYXJNYXAoKSB7XG4gICAgdGhpcy5rZXlzID0gW107XG4gICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXRNYXAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMudmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuICAgICAgdGhpcy52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uIGdldE1hcChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5rZXlzLmluZGV4T2Yoa2V5KV07XG4gIH0sXG4gIGRlbGV0ZTogZnVuY3Rpb24gZGVsZXRlTWFwKGtleSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLnZhbHVlcy5zbGljZShpbmRleCArIDEpKTtcbiAgICAgIHRoaXMua2V5cyA9IHRoaXMua2V5cy5zbGljZSgwLCBpbmRleCkuY29uY2F0KHRoaXMua2V5cy5zbGljZShpbmRleCArIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG59O1xuXG52YXIgTWVtb2l6ZU1hcCA9IG51bGw7XG5pZiAodHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicpIHtcbiAgTWVtb2l6ZU1hcCA9IFdlYWtNYXA7XG59IGVsc2Uge1xuICBNZW1vaXplTWFwID0gRmFrZU1hcDtcbn1cblxuLyohXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIE1lbW9pemVNYXAgaGFzIHJlY29yZGVkIGEgcmVzdWx0IG9mIHRoZSB0d28gb3BlcmFuZHNcbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWVtb2l6ZU1hcH0gbWVtb2l6ZU1hcFxuICogQHJldHVybnMge0Jvb2xlYW58bnVsbH0gcmVzdWx0XG4qL1xuZnVuY3Rpb24gbWVtb2l6ZUNvbXBhcmUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwKSB7XG4gIC8vIFRlY2huaWNhbGx5LCBXZWFrTWFwIGtleXMgY2FuICpvbmx5KiBiZSBvYmplY3RzLCBub3QgcHJpbWl0aXZlcy5cbiAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRNYXApIHtcbiAgICB2YXIgcmVzdWx0ID0gbGVmdEhhbmRNYXAuZ2V0KHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKiFcbiAqIFNldCB0aGUgcmVzdWx0IG9mIHRoZSBlcXVhbGl0eSBpbnRvIHRoZSBNZW1vaXplTWFwXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01lbW9pemVNYXB9IG1lbW9pemVNYXBcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdWx0XG4qL1xuZnVuY3Rpb24gbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXAsIHJlc3VsdCkge1xuICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG4gIGlmICghbWVtb2l6ZU1hcCB8fCBpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBsZWZ0SGFuZE1hcCA9IG1lbW9pemVNYXAuZ2V0KGxlZnRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZE1hcCkge1xuICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIGxlZnRIYW5kTWFwID0gbmV3IE1lbW9pemVNYXAoKTtcbiAgICBsZWZ0SGFuZE1hcC5zZXQocmlnaHRIYW5kT3BlcmFuZCwgcmVzdWx0KTtcbiAgICBtZW1vaXplTWFwLnNldChsZWZ0SGFuZE9wZXJhbmQsIGxlZnRIYW5kTWFwKTtcbiAgfVxufVxuXG4vKiFcbiAqIFByaW1hcnkgRXhwb3J0XG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZWVwRXF1YWw7XG5tb2R1bGUuZXhwb3J0cy5NZW1vaXplTWFwID0gTWVtb2l6ZU1hcDtcblxuLyoqXG4gKiBBc3NlcnQgZGVlcGx5IG5lc3RlZCBzYW1lVmFsdWUgZXF1YWxpdHkgYmV0d2VlbiB0d28gb2JqZWN0cyBvZiBhbnkgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbXBhcmF0b3JdIChvcHRpb25hbCkgT3ZlcnJpZGUgZGVmYXVsdCBhbGdvcml0aG0sIGRldGVybWluaW5nIGN1c3RvbSBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1lbW9pemVdIChvcHRpb25hbCkgUHJvdmlkZSBhIGN1c3RvbSBtZW1vaXphdGlvbiBvYmplY3Qgd2hpY2ggd2lsbCBjYWNoZSB0aGUgcmVzdWx0cyBvZlxuICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuICAgIHJlZmVyZW5jZXMgdG8gYmxvdyB0aGUgc3RhY2suXG4gKiBAcmV0dXJuIHtCb29sZWFufSBlcXVhbCBtYXRjaFxuICovXG5mdW5jdGlvbiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIC8vIElmIHdlIGhhdmUgYSBjb21wYXJhdG9yLCB3ZSBjYW4ndCBhc3N1bWUgYW55dGhpbmc7IHNvIGJhaWwgdG8gaXRzIGNoZWNrIGZpcnN0LlxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gIH1cblxuICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgaWYgKHNpbXBsZVJlc3VsdCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBzaW1wbGVSZXN1bHQ7XG4gIH1cblxuICAvLyBEZWVwZXIgY29tcGFyaXNvbnMgYXJlIHB1c2hlZCB0aHJvdWdoIHRvIGEgbGFyZ2VyIGZ1bmN0aW9uXG4gIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBNYW55IGNvbXBhcmlzb25zIGNhbiBiZSBjYW5jZWxlZCBvdXQgZWFybHkgdmlhIHNpbXBsZSBlcXVhbGl0eSBvciBwcmltaXRpdmUgY2hlY2tzLlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcmV0dXJuIHtCb29sZWFufG51bGx9IGVxdWFsIG1hdGNoXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCkge1xuICAvLyBFcXVhbCByZWZlcmVuY2VzIChleGNlcHQgZm9yIE51bWJlcnMpIGNhbiBiZSByZXR1cm5lZCBlYXJseVxuICBpZiAobGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kKSB7XG4gICAgLy8gSGFuZGxlICstMCBjYXNlc1xuICAgIHJldHVybiBsZWZ0SGFuZE9wZXJhbmQgIT09IDAgfHwgMSAvIGxlZnRIYW5kT3BlcmFuZCA9PT0gMSAvIHJpZ2h0SGFuZE9wZXJhbmQ7XG4gIH1cblxuICAvLyBoYW5kbGUgTmFOIGNhc2VzXG4gIGlmIChcbiAgICBsZWZ0SGFuZE9wZXJhbmQgIT09IGxlZnRIYW5kT3BlcmFuZCAmJiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIHJpZ2h0SGFuZE9wZXJhbmQgIT09IHJpZ2h0SGFuZE9wZXJhbmQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBBbnl0aGluZyB0aGF0IGlzIG5vdCBhbiAnb2JqZWN0JywgaS5lLiBzeW1ib2xzLCBmdW5jdGlvbnMsIGJvb2xlYW5zLCBudW1iZXJzLFxuICAvLyBzdHJpbmdzLCBhbmQgdW5kZWZpbmVkLCBjYW4gYmUgY29tcGFyZWQgYnkgcmVmZXJlbmNlLlxuICBpZiAoaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIC8vIEVhc3kgb3V0IGIvYyBpdCB3b3VsZCBoYXZlIHBhc3NlZCB0aGUgZmlyc3QgZXF1YWxpdHkgY2hlY2tcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qIVxuICogVGhlIG1haW4gbG9naWMgb2YgdGhlIGBkZWVwRXF1YWxgIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAob3B0aW9uYWwpIEFkZGl0aW9uYWwgb3B0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWVtb2l6ZV0gKG9wdGlvbmFsKSBQcm92aWRlIGEgY3VzdG9tIG1lbW9pemF0aW9uIG9iamVjdCB3aGljaCB3aWxsIGNhY2hlIHRoZSByZXN1bHRzIG9mXG4gICAgY29tcGxleCBvYmplY3RzIGZvciBhIHNwZWVkIGJvb3N0LiBCeSBwYXNzaW5nIGBmYWxzZWAgeW91IGNhbiBkaXNhYmxlIG1lbW9pemF0aW9uLCBidXQgdGhpcyB3aWxsIGNhdXNlIGNpcmN1bGFyXG4gICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIG1hdGNoXG4qL1xuZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5tZW1vaXplID0gb3B0aW9ucy5tZW1vaXplID09PSBmYWxzZSA/IGZhbHNlIDogb3B0aW9ucy5tZW1vaXplIHx8IG5ldyBNZW1vaXplTWFwKCk7XG4gIHZhciBjb21wYXJhdG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3I7XG5cbiAgLy8gQ2hlY2sgaWYgYSBtZW1vaXplZCByZXN1bHQgZXhpc3RzLlxuICB2YXIgbWVtb2l6ZVJlc3VsdExlZnQgPSBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG4gIGlmIChtZW1vaXplUmVzdWx0TGVmdCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBtZW1vaXplUmVzdWx0TGVmdDtcbiAgfVxuICB2YXIgbWVtb2l6ZVJlc3VsdFJpZ2h0ID0gbWVtb2l6ZUNvbXBhcmUocmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUpO1xuICBpZiAobWVtb2l6ZVJlc3VsdFJpZ2h0ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIG1lbW9pemVSZXN1bHRSaWdodDtcbiAgfVxuXG4gIC8vIElmIGEgY29tcGFyYXRvciBpcyBwcmVzZW50LCB1c2UgaXQuXG4gIGlmIChjb21wYXJhdG9yKSB7XG4gICAgdmFyIGNvbXBhcmF0b3JSZXN1bHQgPSBjb21wYXJhdG9yKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgLy8gQ29tcGFyYXRvcnMgbWF5IHJldHVybiBudWxsLCBpbiB3aGljaCBjYXNlIHdlIHdhbnQgdG8gZ28gYmFjayB0byBkZWZhdWx0IGJlaGF2aW9yLlxuICAgIGlmIChjb21wYXJhdG9yUmVzdWx0ID09PSBmYWxzZSB8fCBjb21wYXJhdG9yUmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBjb21wYXJhdG9yUmVzdWx0KTtcbiAgICAgIHJldHVybiBjb21wYXJhdG9yUmVzdWx0O1xuICAgIH1cbiAgICAvLyBUbyBhbGxvdyBjb21wYXJhdG9ycyB0byBvdmVycmlkZSAqYW55KiBiZWhhdmlvciwgd2UgcmFuIHRoZW0gZmlyc3QuIFNpbmNlIGl0IGRpZG4ndCBkZWNpZGVcbiAgICAvLyB3aGF0IHRvIGRvLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0byByZXR1cm4gdGhlIGJhc2ljIHRlc3RzIGZpcnN0IGJlZm9yZSB3ZSBtb3ZlIG9uLlxuICAgIHZhciBzaW1wbGVSZXN1bHQgPSBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIC8vIERvbid0IG1lbW9pemUgdGhpcywgaXQgdGFrZXMgbG9uZ2VyIHRvIHNldC9yZXRyaWV2ZSB0aGFuIHRvIGp1c3QgY29tcGFyZS5cbiAgICAgIHJldHVybiBzaW1wbGVSZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxlZnRIYW5kVHlwZSA9IHR5cGUobGVmdEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kVHlwZSAhPT0gdHlwZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIGZhbHNlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUZW1wb3JhcmlseSBzZXQgdGhlIG9wZXJhbmRzIGluIHRoZSBtZW1vaXplIG9iamVjdCB0byBwcmV2ZW50IGJsb3dpbmcgdGhlIHN0YWNrXG4gIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHRydWUpO1xuXG4gIHZhciByZXN1bHQgPSBleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZFR5cGUsIG9wdGlvbnMpO1xuICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZFR5cGUsIG9wdGlvbnMpIHtcbiAgc3dpdGNoIChsZWZ0SGFuZFR5cGUpIHtcbiAgICBjYXNlICdTdHJpbmcnOlxuICAgIGNhc2UgJ051bWJlcic6XG4gICAgY2FzZSAnQm9vbGVhbic6XG4gICAgY2FzZSAnRGF0ZSc6XG4gICAgICAvLyBJZiB0aGVzZSB0eXBlcyBhcmUgdGhlaXIgaW5zdGFuY2UgdHlwZXMgKGUuZy4gYG5ldyBOdW1iZXJgKSB0aGVuIHJlLWRlZXBFcXVhbCBhZ2FpbnN0IHRoZWlyIHZhbHVlc1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQudmFsdWVPZigpLCByaWdodEhhbmRPcGVyYW5kLnZhbHVlT2YoKSk7XG4gICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgY2FzZSAnU3ltYm9sJzpcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgY2FzZSAnV2Vha01hcCc6XG4gICAgY2FzZSAnV2Vha1NldCc6XG4gICAgY2FzZSAnRXJyb3InOlxuICAgICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZDtcbiAgICBjYXNlICdBcmd1bWVudHMnOlxuICAgIGNhc2UgJ0ludDhBcnJheSc6XG4gICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgY2FzZSAnVWludDhDbGFtcGVkQXJyYXknOlxuICAgIGNhc2UgJ0ludDE2QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQxNkFycmF5JzpcbiAgICBjYXNlICdJbnQzMkFycmF5JzpcbiAgICBjYXNlICdVaW50MzJBcnJheSc6XG4gICAgY2FzZSAnRmxvYXQzMkFycmF5JzpcbiAgICBjYXNlICdGbG9hdDY0QXJyYXknOlxuICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgIHJldHVybiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIGNhc2UgJ0dlbmVyYXRvcic6XG4gICAgICByZXR1cm4gZ2VuZXJhdG9yRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBjYXNlICdEYXRhVmlldyc6XG4gICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQuYnVmZmVyKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZC5idWZmZXIpLCBvcHRpb25zKTtcbiAgICBjYXNlICdBcnJheUJ1ZmZlcic6XG4gICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kKSwgb3B0aW9ucyk7XG4gICAgY2FzZSAnU2V0JzpcbiAgICAgIHJldHVybiBlbnRyaWVzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBjYXNlICdNYXAnOlxuICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgfVxufVxuXG4vKiFcbiAqIENvbXBhcmUgdHdvIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIGVxdWFsaXR5LlxuICpcbiAqIEBwYXJhbSB7UmVnRXhwfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7UmVnRXhwfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpIHtcbiAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZC50b1N0cmluZygpID09PSByaWdodEhhbmRPcGVyYW5kLnRvU3RyaW5nKCk7XG59XG5cbi8qIVxuICogQ29tcGFyZSB0d28gU2V0cy9NYXBzIGZvciBlcXVhbGl0eS4gRmFzdGVyIHRoYW4gb3RoZXIgZXF1YWxpdHkgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7U2V0fSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7U2V0fSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgLy8gSUUxMSBkb2Vzbid0IHN1cHBvcnQgU2V0I2VudHJpZXMgb3IgU2V0I0BAaXRlcmF0b3IsIHNvIHdlIG5lZWQgbWFudWFsbHkgcG9wdWxhdGUgdXNpbmcgU2V0I2ZvckVhY2hcbiAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplICE9PSByaWdodEhhbmRPcGVyYW5kLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGxlZnRIYW5kSXRlbXMgPSBbXTtcbiAgdmFyIHJpZ2h0SGFuZEl0ZW1zID0gW107XG4gIGxlZnRIYW5kT3BlcmFuZC5mb3JFYWNoKGZ1bmN0aW9uIGdhdGhlckVudHJpZXMoa2V5LCB2YWx1ZSkge1xuICAgIGxlZnRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG4gIH0pO1xuICByaWdodEhhbmRPcGVyYW5kLmZvckVhY2goZnVuY3Rpb24gZ2F0aGVyRW50cmllcyhrZXksIHZhbHVlKSB7XG4gICAgcmlnaHRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG4gIH0pO1xuICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZEl0ZW1zLnNvcnQoKSwgcmlnaHRIYW5kSXRlbXMuc29ydCgpLCBvcHRpb25zKTtcbn1cblxuLyohXG4gKiBTaW1wbGUgZXF1YWxpdHkgZm9yIGZsYXQgaXRlcmFibGUgb2JqZWN0cyBzdWNoIGFzIEFycmF5cywgVHlwZWRBcnJheXMgb3IgTm9kZS5qcyBidWZmZXJzLlxuICpcbiAqIEBwYXJhbSB7SXRlcmFibGV9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICB2YXIgbGVuZ3RoID0gbGVmdEhhbmRPcGVyYW5kLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCAhPT0gcmlnaHRIYW5kT3BlcmFuZC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBpbmRleCA9IC0xO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kW2luZGV4XSwgcmlnaHRIYW5kT3BlcmFuZFtpbmRleF0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyohXG4gKiBTaW1wbGUgZXF1YWxpdHkgZm9yIGdlbmVyYXRvciBvYmplY3RzIHN1Y2ggYXMgdGhvc2UgcmV0dXJuZWQgYnkgZ2VuZXJhdG9yIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7SXRlcmFibGV9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gZ2VuZXJhdG9yRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIHJldHVybiBpdGVyYWJsZUVxdWFsKGdldEdlbmVyYXRvckVudHJpZXMobGVmdEhhbmRPcGVyYW5kKSwgZ2V0R2VuZXJhdG9yRW50cmllcyhyaWdodEhhbmRPcGVyYW5kKSwgb3B0aW9ucyk7XG59XG5cbi8qIVxuICogRGV0ZXJtaW5lIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGhhc0l0ZXJhdG9yRnVuY3Rpb24odGFyZ2V0KSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgdGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG5cbi8qIVxuICogR2V0cyBhbGwgaXRlcmF0b3IgZW50cmllcyBmcm9tIHRoZSBnaXZlbiBPYmplY3QuIElmIHRoZSBPYmplY3QgaGFzIG5vIEBAaXRlcmF0b3IgZnVuY3Rpb24sIHJldHVybnMgYW4gZW1wdHkgYXJyYXkuXG4gKiBUaGlzIHdpbGwgY29uc3VtZSB0aGUgaXRlcmF0b3IgLSB3aGljaCBjb3VsZCBoYXZlIHNpZGUgZWZmZWN0cyBkZXBlbmRpbmcgb24gdGhlIEBAaXRlcmF0b3IgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBlbnRyaWVzIGZyb20gdGhlIEBAaXRlcmF0b3IgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JFbnRyaWVzKHRhcmdldCkge1xuICBpZiAoaGFzSXRlcmF0b3JGdW5jdGlvbih0YXJnZXQpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBnZXRHZW5lcmF0b3JFbnRyaWVzKHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuICAgIH0gY2F0Y2ggKGl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuXG4vKiFcbiAqIEdldHMgYWxsIGVudHJpZXMgZnJvbSBhIEdlbmVyYXRvci4gVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGdlbmVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzLlxuICpcbiAqIEBwYXJhbSB7R2VuZXJhdG9yfSB0YXJnZXRcbiAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBHZW5lcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGdldEdlbmVyYXRvckVudHJpZXMoZ2VuZXJhdG9yKSB7XG4gIHZhciBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuICB2YXIgYWNjdW11bGF0b3IgPSBbIGdlbmVyYXRvclJlc3VsdC52YWx1ZSBdO1xuICB3aGlsZSAoZ2VuZXJhdG9yUmVzdWx0LmRvbmUgPT09IGZhbHNlKSB7XG4gICAgZ2VuZXJhdG9yUmVzdWx0ID0gZ2VuZXJhdG9yLm5leHQoKTtcbiAgICBhY2N1bXVsYXRvci5wdXNoKGdlbmVyYXRvclJlc3VsdC52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuXG4vKiFcbiAqIEdldHMgYWxsIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUga2V5cyBmcm9tIGEgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBrZXlzIGZyb20gdGhlIHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZUtleXModGFyZ2V0KSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuLyohXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIGhhdmUgbWF0Y2hpbmcgdmFsdWVzLCBnaXZlbiBhIHNldCBvZiBrZXlzLiBEZWZlcnMgdG8gZGVlcEVxdWFsIGZvciB0aGUgZXF1YWxpdHkgY2hlY2sgb2ZcbiAqIGVhY2gga2V5LiBJZiBhbnkgdmFsdWUgb2YgdGhlIGdpdmVuIGtleSBpcyBub3QgZXF1YWwsIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBmYWxzZSAoZWFybHkpLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtBcnJheX0ga2V5cyBBbiBhcnJheSBvZiBrZXlzIHRvIGNvbXBhcmUgdGhlIHZhbHVlcyBvZiBsZWZ0SGFuZE9wZXJhbmQgYW5kIHJpZ2h0SGFuZE9wZXJhbmQgYWdhaW5zdFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuZnVuY3Rpb24ga2V5c0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwga2V5cywgb3B0aW9ucykge1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIGlmIChsZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmRba2V5c1tpXV0sIHJpZ2h0SGFuZE9wZXJhbmRba2V5c1tpXV0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyohXG4gKiBSZWN1cnNpdmVseSBjaGVjayB0aGUgZXF1YWxpdHkgb2YgdHdvIE9iamVjdHMuIE9uY2UgYmFzaWMgc2FtZW5lc3MgaGFzIGJlZW4gZXN0YWJsaXNoZWQgaXQgd2lsbCBkZWZlciB0byBgZGVlcEVxdWFsYFxuICogZm9yIGVhY2ggZW51bWVyYWJsZSBrZXkgaW4gdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIHZhciBsZWZ0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhsZWZ0SGFuZE9wZXJhbmQpO1xuICB2YXIgcmlnaHRIYW5kS2V5cyA9IGdldEVudW1lcmFibGVLZXlzKHJpZ2h0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCAmJiBsZWZ0SGFuZEtleXMubGVuZ3RoID09PSByaWdodEhhbmRLZXlzLmxlbmd0aCkge1xuICAgIGxlZnRIYW5kS2V5cy5zb3J0KCk7XG4gICAgcmlnaHRIYW5kS2V5cy5zb3J0KCk7XG4gICAgaWYgKGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRLZXlzLCByaWdodEhhbmRLZXlzKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kS2V5cywgb3B0aW9ucyk7XG4gIH1cblxuICB2YXIgbGVmdEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCk7XG4gIHZhciByaWdodEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRFbnRyaWVzLmxlbmd0aCAmJiBsZWZ0SGFuZEVudHJpZXMubGVuZ3RoID09PSByaWdodEhhbmRFbnRyaWVzLmxlbmd0aCkge1xuICAgIGxlZnRIYW5kRW50cmllcy5zb3J0KCk7XG4gICAgcmlnaHRIYW5kRW50cmllcy5zb3J0KCk7XG4gICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRFbnRyaWVzLCByaWdodEhhbmRFbnRyaWVzLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChsZWZ0SGFuZEtleXMubGVuZ3RoID09PSAwICYmXG4gICAgICBsZWZ0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwICYmXG4gICAgICByaWdodEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgcmlnaHRIYW5kRW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyohXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgcHJpbWl0aXZlLlxuICpcbiAqIFRoaXMgaW50ZW50aW9uYWxseSByZXR1cm5zIHRydWUgZm9yIGFsbCBvYmplY3RzIHRoYXQgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZSxcbiAqIGluY2x1ZGluZyBmdW5jdGlvbnMgYW5kIHN5bWJvbHMuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jztcbn1cbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC50eXBlRGV0ZWN0ID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vKiAhXG4gKiB0eXBlLWRldGVjdFxuICogQ29weXJpZ2h0KGMpIDIwMTMgamFrZSBsdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xudmFyIHByb21pc2VFeGlzdHMgPSB0eXBlb2YgUHJvbWlzZSA9PT0gJ2Z1bmN0aW9uJztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbnZhciBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgPyBzZWxmIDogZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGlkLWJsYWNrbGlzdFxuXG52YXIgc3ltYm9sRXhpc3RzID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgbWFwRXhpc3RzID0gdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc2V0RXhpc3RzID0gdHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgd2Vha01hcEV4aXN0cyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJztcbnZhciB3ZWFrU2V0RXhpc3RzID0gdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnO1xudmFyIGRhdGFWaWV3RXhpc3RzID0gdHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJztcbnZhciBzeW1ib2xJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJztcbnZhciBzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnICE9PSAndW5kZWZpbmVkJztcbnZhciBzZXRFbnRyaWVzRXhpc3RzID0gc2V0RXhpc3RzICYmIHR5cGVvZiBTZXQucHJvdG90eXBlLmVudHJpZXMgPT09ICdmdW5jdGlvbic7XG52YXIgbWFwRW50cmllc0V4aXN0cyA9IG1hcEV4aXN0cyAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xudmFyIHNldEl0ZXJhdG9yUHJvdG90eXBlID0gc2V0RW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IFNldCgpLmVudHJpZXMoKSk7XG52YXIgbWFwSXRlcmF0b3JQcm90b3R5cGUgPSBtYXBFbnRyaWVzRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgTWFwKCkuZW50cmllcygpKTtcbnZhciBhcnJheUl0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xudmFyIGFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBhcnJheUl0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpO1xudmFyIHN0cmluZ0l0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIFN0cmluZy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSA9IHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZignJ1tTeW1ib2wuaXRlcmF0b3JdKCkpO1xudmFyIHRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoID0gODtcbnZhciB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGggPSAtMTtcbi8qKlxuICogIyMjIHR5cGVPZiAob2JqKVxuICpcbiAqIFVzZXMgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhbiBvYmplY3QsXG4gKiBub3JtYWxpc2luZyBiZWhhdmlvdXIgYWNyb3NzIGVuZ2luZSB2ZXJzaW9ucyAmIHdlbGwgb3B0aW1pc2VkLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICogQHJldHVybiB7U3RyaW5nfSBvYmplY3QgdHlwZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdHlwZURldGVjdChvYmopIHtcbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICogUHJlOlxuICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDMsMDM5LDAzNSBvcHMvc2VjIMKxMS42MiUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAxLDQyNCwxMzggb3BzL3NlYyDCsTQuNTQlICg3NSBydW5zIHNhbXBsZWQpXG4gICAqICAgbnVtYmVyIGxpdGVyYWwgICAgIHggMSw2NTMsMTUzIG9wcy9zZWMgwrExLjkxJSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDksOTc4LDY2MCBvcHMvc2VjIMKxMS45MiUgKDc1IHJ1bnMgc2FtcGxlZClcbiAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAyLDU1Niw3Njkgb3BzL3NlYyDCsTEuNzMlICg3NyBydW5zIHNhbXBsZWQpXG4gICAqIFBvc3Q6XG4gICAqICAgc3RyaW5nIGxpdGVyYWwgICAgIHggMzgsNTY0LDc5NiBvcHMvc2VjIMKxMS4xNSUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAzMSwxNDgsOTQwIG9wcy9zZWMgwrExLjEwJSAoNzkgcnVucyBzYW1wbGVkKVxuICAgKiAgIG51bWJlciBsaXRlcmFsICAgICB4IDMyLDY3OSwzMzAgb3BzL3NlYyDCsTEuOTAlICg3OCBydW5zIHNhbXBsZWQpXG4gICAqICAgdW5kZWZpbmVkICAgICAgICAgIHggMzIsMzYzLDM2OCBvcHMvc2VjIMKxMS4wNyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAzMSwyOTYsODcwIG9wcy9zZWMgwrEwLjk2JSAoODMgcnVucyBzYW1wbGVkKVxuICAgKi9cbiAgdmFyIHR5cGVvZk9iaiA9IHR5cGVvZiBvYmo7XG4gIGlmICh0eXBlb2ZPYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHR5cGVvZk9iajtcbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAqIFByZTpcbiAgICogICBudWxsICAgICAgICAgICAgICAgeCAyOCw2NDUsNzY1IG9wcy9zZWMgwrExLjE3JSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiBQb3N0OlxuICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDM2LDQyOCw5NjIgb3BzL3NlYyDCsTEuMzclICg4NCBydW5zIHNhbXBsZWQpXG4gICAqL1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuXG4gIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdylgYFxuICAgKiAgLSBOb2RlID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG4gICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIFBoYW50b21KUyA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gSUUgRWRnZSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpYGBcbiAgICogIC0gQ2hyb21lIFdvcmtlciA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuICAgKiAgLSBGaXJlZm94IFdvcmtlciA9PT0gXCJbb2JqZWN0IERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqICAtIFNhZmFyaSBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKiAgLSBJRSAxMSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKiAgLSBJRSBFZGdlIFdvcmtlciA9PT0gXCJbb2JqZWN0IFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqL1xuICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QpIHtcbiAgICByZXR1cm4gJ2dsb2JhbCc7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgKiBQcmU6XG4gICAqICAgYXJyYXkgbGl0ZXJhbCAgICAgIHggMiw4ODgsMzUyIG9wcy9zZWMgwrEwLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiBQb3N0OlxuICAgKiAgIGFycmF5IGxpdGVyYWwgICAgICB4IDIyLDQ3OSw2NTAgb3BzL3NlYyDCsTAuOTYlICg4MSBydW5zIHNhbXBsZWQpXG4gICAqL1xuICBpZiAoXG4gICAgQXJyYXkuaXNBcnJheShvYmopICYmXG4gICAgKHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzID09PSBmYWxzZSB8fCAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiBvYmopKVxuICApIHtcbiAgICByZXR1cm4gJ0FycmF5JztcbiAgfVxuXG4gIC8vIE5vdCBjYWNoaW5nIGV4aXN0ZW5jZSBvZiBgd2luZG93YCBhbmQgcmVsYXRlZCBwcm9wZXJ0aWVzIGR1ZSB0byBwb3RlbnRpYWxcbiAgLy8gZm9yIGB3aW5kb3dgIHRvIGJlIHVuc2V0IGJlZm9yZSB0ZXN0cyBpbiBxdWFzaS1icm93c2VyIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdyAhPT0gbnVsbCkge1xuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9icm93c2Vycy5odG1sI2xvY2F0aW9uKVxuICAgICAqIFdoYXRXRyBIVE1MJDcuNy4zIC0gVGhlIGBMb2NhdGlvbmAgaW50ZXJmYWNlXG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cubG9jYXRpb24pYGBcbiAgICAgKiAgLSBJRSA8PTExID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cubG9jYXRpb24gPT09ICdvYmplY3QnICYmIG9iaiA9PT0gd2luZG93LmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gJ0xvY2F0aW9uJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jZG9jdW1lbnQpXG4gICAgICogV2hhdFdHIEhUTUwkMy4xLjEgLSBUaGUgYERvY3VtZW50YCBvYmplY3RcbiAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcbiAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTI2ODA5MjY4KVxuICAgICAqICAgICAgIHdoaWNoIHN1Z2dlc3RzIHRoYXQgYnJvd3NlcnMgc2hvdWxkIHVzZSBIVE1MVGFibGVDZWxsRWxlbWVudCBmb3JcbiAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cbiAgICAgKiAgICAgICBXaGF0V0cgSFRNTCBzdGF0ZXM6XG4gICAgICogICAgICAgICA+IEZvciBoaXN0b3JpY2FsIHJlYXNvbnMsIFdpbmRvdyBvYmplY3RzIG11c3QgYWxzbyBoYXZlIGFcbiAgICAgKiAgICAgICAgID4gd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSwgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgbmFtZWRcbiAgICAgKiAgICAgICAgID4gSFRNTERvY3VtZW50IHdob3NlIHZhbHVlIGlzIHRoZSBEb2N1bWVudCBpbnRlcmZhY2Ugb2JqZWN0LlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQpYGBcbiAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IERvY3VtZW50XVwiXG4gICAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBJRSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5kb2N1bWVudCA9PT0gJ29iamVjdCcgJiYgb2JqID09PSB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiAnRG9jdW1lbnQnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93Lm5hdmlnYXRvciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNtaW1ldHlwZWFycmF5KVxuICAgICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgTWltZVR5cGVBcnJheVxuICAgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuYXZpZ2F0b3IubWltZVR5cGVzKWBgXG4gICAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgTVNNaW1lVHlwZXNDb2xsZWN0aW9uXVwiXG4gICAgICAgKi9cbiAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm5hdmlnYXRvci5taW1lVHlwZXMgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgb2JqID09PSB3aW5kb3cubmF2aWdhdG9yLm1pbWVUeXBlcykge1xuICAgICAgICByZXR1cm4gJ01pbWVUeXBlQXJyYXknO1xuICAgICAgfVxuXG4gICAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG4gICAgICAgKiBXaGF0V0cgSFRNTCQ4LjYuMS41IC0gUGx1Z2lucyAtIEludGVyZmFjZSBQbHVnaW5BcnJheVxuICAgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuYXZpZ2F0b3IucGx1Z2lucylgYFxuICAgICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IE1TUGx1Z2luc0NvbGxlY3Rpb25dXCJcbiAgICAgICAqL1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yLnBsdWdpbnMgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgb2JqID09PSB3aW5kb3cubmF2aWdhdG9yLnBsdWdpbnMpIHtcbiAgICAgICAgcmV0dXJuICdQbHVnaW5BcnJheSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCh0eXBlb2Ygd2luZG93LkhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgIHR5cGVvZiB3aW5kb3cuSFRNTEVsZW1lbnQgPT09ICdvYmplY3QnKSAmJlxuICAgICAgICBvYmogaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHtcbiAgICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI3BsdWdpbmFycmF5KVxuICAgICAgKiBXaGF0V0cgSFRNTCQ0LjQuNCAtIFRoZSBgYmxvY2txdW90ZWAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFF1b3RlRWxlbWVudGBcbiAgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdibG9ja3F1b3RlJykpYGBcbiAgICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IEhUTUxCbG9ja0VsZW1lbnRdXCJcbiAgICAgICovXG4gICAgICBpZiAob2JqLnRhZ05hbWUgPT09ICdCTE9DS1FVT1RFJykge1xuICAgICAgICByZXR1cm4gJ0hUTUxRdW90ZUVsZW1lbnQnO1xuICAgICAgfVxuXG4gICAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVkYXRhY2VsbGVsZW1lbnQpXG4gICAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZURhdGFDZWxsRWxlbWVudGBcbiAgICAgICAqIE5vdGU6IE1vc3QgYnJvd3NlcnMgY3VycmVudGx5IGFkaGVyIHRvIHRoZSBXM0MgRE9NIExldmVsIDIgc3BlY1xuICAgICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC04MjkxNTA3NSlcbiAgICAgICAqICAgICAgIHdoaWNoIHN1Z2dlc3RzIHRoYXQgYnJvd3NlcnMgc2hvdWxkIHVzZSBIVE1MVGFibGVDZWxsRWxlbWVudCBmb3JcbiAgICAgICAqICAgICAgIGJvdGggVEQgYW5kIFRIIGVsZW1lbnRzLiBXaGF0V0cgc2VwYXJhdGVzIHRoZXNlLlxuICAgICAgICogVGVzdDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpXG4gICAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAgICovXG4gICAgICBpZiAob2JqLnRhZ05hbWUgPT09ICdURCcpIHtcbiAgICAgICAgcmV0dXJuICdIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnQnO1xuICAgICAgfVxuXG4gICAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVoZWFkZXJjZWxsZWxlbWVudClcbiAgICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnRgXG4gICAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcbiAgICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG4gICAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cbiAgICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuICAgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgICAqL1xuICAgICAgaWYgKG9iai50YWdOYW1lID09PSAnVEgnKSB7XG4gICAgICAgIHJldHVybiAnSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICogUHJlOlxuICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNjI1LDY0NCBvcHMvc2VjIMKxMS41OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDEsMjc5LDg1MiBvcHMvc2VjIMKxMi45MSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDEsMTc4LDE4NSBvcHMvc2VjIMKxMS45NSUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDEsMDA4LDM4MCBvcHMvc2VjIMKxMi4yNSUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDEsMTI4LDA0MCBvcHMvc2VjIMKxMi4xMSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDEsMTcwLDExOSBvcHMvc2VjIMKxMi44OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDEsMTc2LDM0OCBvcHMvc2VjIMKxNS43OSUgKDg2IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDEsMDU4LDcwNyBvcHMvc2VjIMKxNC45NCUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDEsMTEwLDYzMyBvcHMvc2VjIMKxNC4yMCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiBQb3N0OlxuICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNywxMDUsNjcxIG9wcy9zZWMgwrExMy40NyUgKDY0IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDUsODg3LDkxMiBvcHMvc2VjIMKxMS40NiUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDYsNDkxLDY2MSBvcHMvc2VjIMKxMS43NiUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDYsNTU5LDc5NSBvcHMvc2VjIMKxMS42NyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDYsNDYzLDk2NiBvcHMvc2VjIMKxMS40MyUgKDg1IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDUsNjQxLDg0MSBvcHMvc2VjIMKxMy40OSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDYsNTgzLDUxMSBvcHMvc2VjIMKxMS45OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDYsNjA2LDA3OCBvcHMvc2VjIMKxMS43NCUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDYsNjAyLDIyNCBvcHMvc2VjIMKxMS43NyUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgKi9cbiAgdmFyIHN0cmluZ1RhZyA9IChzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyAmJiBvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gIGlmICh0eXBlb2Ygc3RyaW5nVGFnID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHJpbmdUYWc7XG4gIH1cblxuICB2YXIgb2JqUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICogUHJlOlxuICAqICAgcmVnZXggbGl0ZXJhbCAgICAgIHggMSw3NzIsMzg1IG9wcy9zZWMgwrExLjg1JSAoNzcgcnVucyBzYW1wbGVkKVxuICAqICAgcmVnZXggY29uc3RydWN0b3IgIHggMiwxNDMsNjM0IG9wcy9zZWMgwrEyLjQ2JSAoNzggcnVucyBzYW1wbGVkKVxuICAqIFBvc3Q6XG4gICogICByZWdleCBsaXRlcmFsICAgICAgeCAzLDkyOCwwMDkgb3BzL3NlYyDCsTAuNjUlICg3OCBydW5zIHNhbXBsZWQpXG4gICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAzLDkzMSwxMDggb3BzL3NlYyDCsTAuNTglICg4NCBydW5zIHNhbXBsZWQpXG4gICovXG4gIGlmIChvYmpQcm90b3R5cGUgPT09IFJlZ0V4cC5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gJ1JlZ0V4cCc7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAqIFByZTpcbiAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDIsMTMwLDA3NCBvcHMvc2VjIMKxNC40MiUgKDY4IHJ1bnMgc2FtcGxlZClcbiAgKiBQb3N0OlxuICAqICAgZGF0ZSAgICAgICAgICAgICAgIHggMyw5NTMsNzc5IG9wcy9zZWMgwrExLjM1JSAoNzcgcnVucyBzYW1wbGVkKVxuICAqL1xuICBpZiAob2JqUHJvdG90eXBlID09PSBEYXRlLnByb3RvdHlwZSkge1xuICAgIHJldHVybiAnRGF0ZSc7XG4gIH1cblxuICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtcHJvbWlzZS5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcbiAgICogRVM2JDI1LjQuNS40IC0gUHJvbWlzZS5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiUHJvbWlzZVwiOlxuICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFByb21pc2UucmVzb2x2ZSgpKWBgXG4gICAqICAtIENocm9tZSA8PTQ3ID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAqICAtIEVkZ2UgPD0yMCA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgKiAgLSBGaXJlZm94IDI5LUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcbiAgICogIC0gU2FmYXJpIDcuMS1MYXRlc3QgPT09IFwiW29iamVjdCBQcm9taXNlXVwiXG4gICAqL1xuICBpZiAocHJvbWlzZUV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFByb21pc2UucHJvdG90eXBlKSB7XG4gICAgcmV0dXJuICdQcm9taXNlJztcbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICogUHJlOlxuICAqICAgc2V0ICAgICAgICAgICAgICAgIHggMiwyMjIsMTg2IG9wcy9zZWMgwrExLjMxJSAoODIgcnVucyBzYW1wbGVkKVxuICAqIFBvc3Q6XG4gICogICBzZXQgICAgICAgICAgICAgICAgeCA0LDU0NSw4Nzkgb3BzL3NlYyDCsTEuMTMlICg4MyBydW5zIHNhbXBsZWQpXG4gICovXG4gIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBTZXQucHJvdG90eXBlKSB7XG4gICAgcmV0dXJuICdTZXQnO1xuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgKiBQcmU6XG4gICogICBtYXAgICAgICAgICAgICAgICAgeCAyLDM5Niw4NDIgb3BzL3NlYyDCsTEuNTklICg4MSBydW5zIHNhbXBsZWQpXG4gICogUG9zdDpcbiAgKiAgIG1hcCAgICAgICAgICAgICAgICB4IDQsMTgzLDk0NSBvcHMvc2VjIMKxNi41OSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKi9cbiAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IE1hcC5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gJ01hcCc7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAqIFByZTpcbiAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDEsMzIzLDIyMCBvcHMvc2VjIMKxMi4xNyUgKDc2IHJ1bnMgc2FtcGxlZClcbiAgKiBQb3N0OlxuICAqICAgd2Vha3NldCAgICAgICAgICAgIHggNCwyMzcsNTEwIG9wcy9zZWMgwrEyLjAxJSAoNzcgcnVucyBzYW1wbGVkKVxuICAqL1xuICBpZiAod2Vha1NldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtTZXQucHJvdG90eXBlKSB7XG4gICAgcmV0dXJuICdXZWFrU2V0JztcbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICogUHJlOlxuICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMSw1MDAsMjYwIG9wcy9zZWMgwrEyLjAyJSAoNzggcnVucyBzYW1wbGVkKVxuICAqIFBvc3Q6XG4gICogICB3ZWFrbWFwICAgICAgICAgICAgeCAzLDg4MSwzODQgb3BzL3NlYyDCsTEuNDUlICg4MiBydW5zIHNhbXBsZWQpXG4gICovXG4gIGlmICh3ZWFrTWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha01hcC5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gJ1dlYWtNYXAnO1xuICB9XG5cbiAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLWRhdGF2aWV3LnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnKVxuICAgKiBFUzYkMjQuMi40LjIxIC0gRGF0YVZpZXcucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkRhdGFWaWV3XCI6XG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpYGBcbiAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAqL1xuICBpZiAoZGF0YVZpZXdFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBEYXRhVmlldy5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gJ0RhdGFWaWV3JztcbiAgfVxuXG4gIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lbWFwaXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAqIEVTNiQyMy4xLjUuMi4yIC0gJU1hcEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJNYXAgSXRlcmF0b3JcIjpcbiAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgTWFwKCkuZW50cmllcygpKWBgXG4gICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgKi9cbiAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IG1hcEl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgcmV0dXJuICdNYXAgSXRlcmF0b3InO1xuICB9XG5cbiAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzZXRpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICogRVM2JDIzLjIuNS4yLjIgLSAlU2V0SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlNldCBJdGVyYXRvclwiOlxuICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBTZXQoKS5lbnRyaWVzKCkpYGBcbiAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAqL1xuICBpZiAoc2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc2V0SXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICByZXR1cm4gJ1NldCBJdGVyYXRvcic7XG4gIH1cblxuICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJWFycmF5aXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAqIEVTNiQyMi4xLjUuMi4yIC0gJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkFycmF5IEl0ZXJhdG9yXCI6XG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW11bU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG4gICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgKi9cbiAgaWYgKGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBhcnJheUl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgcmV0dXJuICdBcnJheSBJdGVyYXRvcic7XG4gIH1cblxuICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXN0cmluZ2l0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgKiBFUzYkMjEuMS41LjIuMiAtICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiU3RyaW5nIEl0ZXJhdG9yXCI6XG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJydbU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG4gICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgKi9cbiAgaWYgKHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc3RyaW5nSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICByZXR1cm4gJ1N0cmluZyBJdGVyYXRvcic7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAqIFByZTpcbiAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDIsNDI0LDMyMCBvcHMvc2VjIMKxMS42NyUgKDc2IHJ1bnMgc2FtcGxlZClcbiAgKiBQb3N0OlxuICAqICAgb2JqZWN0IGZyb20gbnVsbCAgIHggNSw4MzgsMDAwIG9wcy9zZWMgwrEwLjk5JSAoODQgcnVucyBzYW1wbGVkKVxuICAqL1xuICBpZiAob2JqUHJvdG90eXBlID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdFxuICAgIC5wcm90b3R5cGVcbiAgICAudG9TdHJpbmdcbiAgICAuY2FsbChvYmopXG4gICAgLnNsaWNlKHRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoLCB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGgpO1xufVxuXG5yZXR1cm4gdHlwZURldGVjdDtcblxufSkpKTtcbiIsIi8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgU3ltYm9sICovXG4vKmpzaGludCAtVzA1NiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbHMpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBzdHJpbmdzLCBtZXNzYWdlcywgcHJlZGljYXRlcywgZnVuY3Rpb25zLCBhc3NlcnQsIG5vdCwgbWF5YmUsXG4gICAgICBjb2xsZWN0aW9ucywgc2xpY2UsIG5lZ2luZiwgcG9zaW5mLCBpc0FycmF5LCBoYXZlU3ltYm9scztcblxuICBzdHJpbmdzID0ge1xuICAgIHY6ICd2YWx1ZScsXG4gICAgbjogJ251bWJlcicsXG4gICAgczogJ3N0cmluZycsXG4gICAgYjogJ2Jvb2xlYW4nLFxuICAgIG86ICdvYmplY3QnLFxuICAgIHQ6ICd0eXBlJyxcbiAgICBhOiAnYXJyYXknLFxuICAgIGFsOiAnYXJyYXktbGlrZScsXG4gICAgaTogJ2l0ZXJhYmxlJyxcbiAgICBkOiAnZGF0ZScsXG4gICAgZjogJ2Z1bmN0aW9uJyxcbiAgICBsOiAnbGVuZ3RoJ1xuICB9O1xuXG4gIG1lc3NhZ2VzID0ge307XG4gIHByZWRpY2F0ZXMgPSB7fTtcblxuICBbXG4gICAgeyBuOiAnZXF1YWwnLCBmOiBlcXVhbCwgczogJ3YnIH0sXG4gICAgeyBuOiAndW5kZWZpbmVkJywgZjogaXNVbmRlZmluZWQsIHM6ICd2JyB9LFxuICAgIHsgbjogJ251bGwnLCBmOiBpc051bGwsIHM6ICd2JyB9LFxuICAgIHsgbjogJ2Fzc2lnbmVkJywgZjogYXNzaWduZWQsIHM6ICd2JyB9LFxuICAgIHsgbjogJ3ByaW1pdGl2ZScsIGY6IHByaW1pdGl2ZSwgczogJ3YnIH0sXG4gICAgeyBuOiAnaW5jbHVkZXMnLCBmOiBpbmNsdWRlcywgczogJ3YnIH0sXG4gICAgeyBuOiAnemVybycsIGY6IHplcm8gfSxcbiAgICB7IG46ICdpbmZpbml0eScsIGY6IGluZmluaXR5IH0sXG4gICAgeyBuOiAnbnVtYmVyJywgZjogbnVtYmVyIH0sXG4gICAgeyBuOiAnaW50ZWdlcicsIGY6IGludGVnZXIgfSxcbiAgICB7IG46ICdldmVuJywgZjogZXZlbiB9LFxuICAgIHsgbjogJ29kZCcsIGY6IG9kZCB9LFxuICAgIHsgbjogJ2dyZWF0ZXInLCBmOiBncmVhdGVyIH0sXG4gICAgeyBuOiAnbGVzcycsIGY6IGxlc3MgfSxcbiAgICB7IG46ICdiZXR3ZWVuJywgZjogYmV0d2VlbiB9LFxuICAgIHsgbjogJ2dyZWF0ZXJPckVxdWFsJywgZjogZ3JlYXRlck9yRXF1YWwgfSxcbiAgICB7IG46ICdsZXNzT3JFcXVhbCcsIGY6IGxlc3NPckVxdWFsIH0sXG4gICAgeyBuOiAnaW5SYW5nZScsIGY6IGluUmFuZ2UgfSxcbiAgICB7IG46ICdwb3NpdGl2ZScsIGY6IHBvc2l0aXZlIH0sXG4gICAgeyBuOiAnbmVnYXRpdmUnLCBmOiBuZWdhdGl2ZSB9LFxuICAgIHsgbjogJ3N0cmluZycsIGY6IHN0cmluZywgczogJ3MnIH0sXG4gICAgeyBuOiAnZW1wdHlTdHJpbmcnLCBmOiBlbXB0eVN0cmluZywgczogJ3MnIH0sXG4gICAgeyBuOiAnbm9uRW1wdHlTdHJpbmcnLCBmOiBub25FbXB0eVN0cmluZywgczogJ3MnIH0sXG4gICAgeyBuOiAnY29udGFpbnMnLCBmOiBjb250YWlucywgczogJ3MnIH0sXG4gICAgeyBuOiAnbWF0Y2gnLCBmOiBtYXRjaCwgczogJ3MnIH0sXG4gICAgeyBuOiAnYm9vbGVhbicsIGY6IGJvb2xlYW4sIHM6ICdiJyB9LFxuICAgIHsgbjogJ29iamVjdCcsIGY6IG9iamVjdCwgczogJ28nIH0sXG4gICAgeyBuOiAnZW1wdHlPYmplY3QnLCBmOiBlbXB0eU9iamVjdCwgczogJ28nIH0sXG4gICAgeyBuOiAnbm9uRW1wdHlPYmplY3QnLCBmOiBub25FbXB0eU9iamVjdCwgczogJ28nIH0sXG4gICAgeyBuOiAnaW5zdGFuY2VTdHJpY3QnLCBmOiBpbnN0YW5jZVN0cmljdCwgczogJ3QnIH0sXG4gICAgeyBuOiAnaW5zdGFuY2UnLCBmOiBpbnN0YW5jZSwgczogJ3QnIH0sXG4gICAgeyBuOiAnbGlrZScsIGY6IGxpa2UsIHM6ICd0JyB9LFxuICAgIHsgbjogJ2FycmF5JywgZjogYXJyYXksIHM6ICdhJyB9LFxuICAgIHsgbjogJ2VtcHR5QXJyYXknLCBmOiBlbXB0eUFycmF5LCBzOiAnYScgfSxcbiAgICB7IG46ICdub25FbXB0eUFycmF5JywgZjogbm9uRW1wdHlBcnJheSwgczogJ2EnIH0sXG4gICAgeyBuOiAnYXJyYXlMaWtlJywgZjogYXJyYXlMaWtlLCBzOiAnYWwnIH0sXG4gICAgeyBuOiAnaXRlcmFibGUnLCBmOiBpdGVyYWJsZSwgczogJ2knIH0sXG4gICAgeyBuOiAnZGF0ZScsIGY6IGRhdGUsIHM6ICdkJyB9LFxuICAgIHsgbjogJ2Z1bmN0aW9uJywgZjogaXNGdW5jdGlvbiwgczogJ2YnIH0sXG4gICAgeyBuOiAnaGFzTGVuZ3RoJywgZjogaGFzTGVuZ3RoLCBzOiAnbCcgfSxcbiAgXS5tYXAoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgbiA9IGRhdGEubjtcbiAgICBtZXNzYWdlc1tuXSA9ICdJbnZhbGlkICcgKyBzdHJpbmdzW2RhdGEucyB8fCAnbiddO1xuICAgIHByZWRpY2F0ZXNbbl0gPSBkYXRhLmY7XG4gIH0pO1xuXG4gIGZ1bmN0aW9ucyA9IHtcbiAgICBhcHBseTogYXBwbHksXG4gICAgbWFwOiBtYXAsXG4gICAgYWxsOiBhbGwsXG4gICAgYW55OiBhbnlcbiAgfTtcblxuICBjb2xsZWN0aW9ucyA9IFsgJ2FycmF5JywgJ2FycmF5TGlrZScsICdpdGVyYWJsZScsICdvYmplY3QnIF07XG4gIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuICBuZWdpbmYgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gIHBvc2luZiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gIGhhdmVTeW1ib2xzID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJztcblxuICBmdW5jdGlvbnMgPSBtaXhpbihmdW5jdGlvbnMsIHByZWRpY2F0ZXMpO1xuICBhc3NlcnQgPSBjcmVhdGVNb2RpZmllZFByZWRpY2F0ZXMoYXNzZXJ0TW9kaWZpZXIsIGFzc2VydEltcGwpO1xuICBub3QgPSBjcmVhdGVNb2RpZmllZFByZWRpY2F0ZXMobm90TW9kaWZpZXIsIG5vdEltcGwpO1xuICBtYXliZSA9IGNyZWF0ZU1vZGlmaWVkUHJlZGljYXRlcyhtYXliZU1vZGlmaWVyLCBtYXliZUltcGwpO1xuICBhc3NlcnQubm90ID0gY3JlYXRlTW9kaWZpZWRNb2RpZmllcihhc3NlcnRNb2RpZmllciwgbm90KTtcbiAgYXNzZXJ0Lm1heWJlID0gY3JlYXRlTW9kaWZpZWRNb2RpZmllcihhc3NlcnRNb2RpZmllciwgbWF5YmUpO1xuXG4gIGNvbGxlY3Rpb25zLmZvckVhY2goY3JlYXRlT2ZQcmVkaWNhdGVzKTtcbiAgY3JlYXRlT2ZNb2RpZmllcnMoYXNzZXJ0LCBhc3NlcnRNb2RpZmllcik7XG4gIGNyZWF0ZU9mTW9kaWZpZXJzKG5vdCwgbm90TW9kaWZpZXIpO1xuICBjb2xsZWN0aW9ucy5mb3JFYWNoKGNyZWF0ZU1heWJlT2ZNb2RpZmllcnMpO1xuXG4gIGV4cG9ydEZ1bmN0aW9ucyhtaXhpbihmdW5jdGlvbnMsIHtcbiAgICBhc3NlcnQ6IGFzc2VydCxcbiAgICBub3Q6IG5vdCxcbiAgICBtYXliZTogbWF5YmVcbiAgfSkpO1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGVxdWFsYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBsaHNgIGFuZCBgcmhzYCBhcmUgc3RyaWN0bHkgZXF1YWwsIHdpdGhvdXQgY29lcmNpb24uXG4gICAqIFJldHVybnMgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gZXF1YWwgKGxocywgcmhzKSB7XG4gICAgcmV0dXJuIGxocyA9PT0gcmhzO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyB1bmRlZmluZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGlzVW5kZWZpbmVkIChkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYG51bGxgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIG51bGwsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGlzTnVsbCAoZGF0YSkge1xuICAgIHJldHVybiBkYXRhID09PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgYXNzaWduZWRgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNzaWduZWQgKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YSAhPT0gdW5kZWZpbmVkICYmIGRhdGEgIT09IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBwcmltaXRpdmVgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGEgcHJpbWl0aXZlIHR5cGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHByaW1pdGl2ZSAoZGF0YSkge1xuICAgIHZhciB0eXBlO1xuXG4gICAgc3dpdGNoIChkYXRhKSB7XG4gICAgICBjYXNlIG51bGw6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgIGNhc2UgZmFsc2U6XG4gICAgICBjYXNlIHRydWU6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHR5cGUgPSB0eXBlb2YgZGF0YTtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgfHwgKGhhdmVTeW1ib2xzICYmIHR5cGUgPT09ICdzeW1ib2wnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYHplcm9gLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIHplcm8sIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHplcm8gKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YSA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGluZmluaXR5YC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbmZpbml0eSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gaW5maW5pdHkgKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YSA9PT0gbmVnaW5mIHx8IGRhdGEgPT09IHBvc2luZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYG51bWJlcmAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBudW1iZXIsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIG51bWJlciAoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicgJiYgZGF0YSA+IG5lZ2luZiAmJiBkYXRhIDwgcG9zaW5mO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgaW50ZWdlcmAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYW4gaW50ZWdlciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gaW50ZWdlciAoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicgJiYgZGF0YSAlIDEgPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBldmVuYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhbiBldmVuIG51bWJlciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gZXZlbiAoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicgJiYgZGF0YSAlIDIgPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBvZGRgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGFuIG9kZCBudW1iZXIsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIG9kZCAoZGF0YSkge1xuICAgIHJldHVybiBpbnRlZ2VyKGRhdGEpICYmIGRhdGEgJSAyICE9PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgZ3JlYXRlcmAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgbGhzYCBpcyBhIG51bWJlciBncmVhdGVyIHRoYW4gYHJoc2AsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdyZWF0ZXIgKGxocywgcmhzKSB7XG4gICAgcmV0dXJuIG51bWJlcihsaHMpICYmIGxocyA+IHJocztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGxlc3NgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGxoc2AgaXMgYSBudW1iZXIgbGVzcyB0aGFuIGByaHNgLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBsZXNzIChsaHMsIHJocykge1xuICAgIHJldHVybiBudW1iZXIobGhzKSAmJiBsaHMgPCByaHM7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBiZXR3ZWVuYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhIG51bWJlciBiZXR3ZWVuIGB4YCBhbmQgYHlgLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBiZXR3ZWVuIChkYXRhLCB4LCB5KSB7XG4gICAgaWYgKHggPCB5KSB7XG4gICAgICByZXR1cm4gZ3JlYXRlcihkYXRhLCB4KSAmJiBkYXRhIDwgeTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGVzcyhkYXRhLCB4KSAmJiBkYXRhID4geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGdyZWF0ZXJPckVxdWFsYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBsaHNgIGlzIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgcmhzYCwgZmFsc2VcbiAgICogb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ3JlYXRlck9yRXF1YWwgKGxocywgcmhzKSB7XG4gICAgcmV0dXJuIG51bWJlcihsaHMpICYmIGxocyA+PSByaHM7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBsZXNzT3JFcXVhbGAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgbGhzYCBpcyBhIG51bWJlciBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYHJoc2AsIGZhbHNlXG4gICAqIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGxlc3NPckVxdWFsIChsaHMsIHJocykge1xuICAgIHJldHVybiBudW1iZXIobGhzKSAmJiBsaHMgPD0gcmhzO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgaW5SYW5nZWAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBudW1iZXIgaW4gdGhlIHJhbmdlIGB4Li55YCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gaW5SYW5nZSAoZGF0YSwgeCwgeSkge1xuICAgIGlmICh4IDwgeSkge1xuICAgICAgcmV0dXJuIGdyZWF0ZXJPckVxdWFsKGRhdGEsIHgpICYmIGRhdGEgPD0geTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGVzc09yRXF1YWwoZGF0YSwgeCkgJiYgZGF0YSA+PSB5O1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgcG9zaXRpdmVgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGEgcG9zaXRpdmUgbnVtYmVyLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBwb3NpdGl2ZSAoZGF0YSkge1xuICAgIHJldHVybiBncmVhdGVyKGRhdGEsIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgbmVnYXRpdmVgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGEgbmVnYXRpdmUgbnVtYmVyLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBuZWdhdGl2ZSAoZGF0YSkge1xuICAgIHJldHVybiBsZXNzKGRhdGEsIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgc3RyaW5nYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhIHN0cmluZywgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nIChkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGVtcHR5U3RyaW5nYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyB0aGUgZW1wdHkgc3RyaW5nLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBlbXB0eVN0cmluZyAoZGF0YSkge1xuICAgIHJldHVybiBkYXRhID09PSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYG5vbkVtcHR5U3RyaW5nYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhIG5vbi1lbXB0eSBzdHJpbmcsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIG5vbkVtcHR5U3RyaW5nIChkYXRhKSB7XG4gICAgcmV0dXJuIHN0cmluZyhkYXRhKSAmJiBkYXRhICE9PSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGNvbnRhaW5zYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhIHN0cmluZyB0aGF0IGNvbnRhaW5zIGBzdWJzdHJpbmdgLCBmYWxzZVxuICAgKiBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBjb250YWlucyAoZGF0YSwgc3Vic3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZyhkYXRhKSAmJiBkYXRhLmluZGV4T2Yoc3Vic3RyaW5nKSAhPT0gLTE7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBtYXRjaGAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBzdHJpbmcgdGhhdCBtYXRjaGVzIGByZWdleGAsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIG1hdGNoIChkYXRhLCByZWdleCkge1xuICAgIHJldHVybiBzdHJpbmcoZGF0YSkgJiYgISEgZGF0YS5tYXRjaChyZWdleCk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBib29sZWFuYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhIGJvb2xlYW4gdmFsdWUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJvb2xlYW4gKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YSA9PT0gZmFsc2UgfHwgZGF0YSA9PT0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYG9iamVjdGAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBwbGFpbi1vbGQgSlMgb2JqZWN0LCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBvYmplY3QgKGRhdGEpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGEpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGVtcHR5T2JqZWN0YC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhbiBlbXB0eSBvYmplY3QsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGVtcHR5T2JqZWN0IChkYXRhKSB7XG4gICAgcmV0dXJuIG9iamVjdChkYXRhKSAmJiBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBub25FbXB0eU9iamVjdGAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBub24tZW1wdHkgb2JqZWN0LCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBub25FbXB0eU9iamVjdCAoZGF0YSkge1xuICAgIHJldHVybiBvYmplY3QoZGF0YSkgJiYgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGluc3RhbmNlU3RyaWN0YC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhbiBpbnN0YW5jZSBvZiBgcHJvdG90eXBlYCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gaW5zdGFuY2VTdHJpY3QgKGRhdGEsIHByb3RvdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIHByb3RvdHlwZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGluc3RhbmNlYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhbiBpbnN0YW5jZSBvZiBgcHJvdG90eXBlYCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBGYWxscyBiYWNrIHRvIHRlc3RpbmcgY29uc3RydWN0b3IubmFtZSBhbmQgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuICAgKiBpZiB0aGUgaW5pdGlhbCBpbnN0YW5jZW9mIHRlc3QgZmFpbHMuXG4gICAqL1xuICBmdW5jdGlvbiBpbnN0YW5jZSAoZGF0YSwgcHJvdG90eXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBpbnN0YW5jZVN0cmljdChkYXRhLCBwcm90b3R5cGUpIHx8XG4gICAgICAgIGRhdGEuY29uc3RydWN0b3IubmFtZSA9PT0gcHJvdG90eXBlLm5hbWUgfHxcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGEpID09PSAnW29iamVjdCAnICsgcHJvdG90eXBlLm5hbWUgKyAnXSc7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBsaWtlYC5cbiAgICpcbiAgICogVGVzdHMgd2hldGhlciBgZGF0YWAgJ3F1YWNrcyBsaWtlIGEgZHVjaycuIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaGFzIGFsbFxuICAgKiBvZiB0aGUgcHJvcGVydGllcyBvZiBgYXJjaGV0eXBlYCAodGhlICdkdWNrJyksIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGxpa2UgKGRhdGEsIGFyY2hldHlwZSkge1xuICAgIHZhciBuYW1lO1xuXG4gICAgZm9yIChuYW1lIGluIGFyY2hldHlwZSkge1xuICAgICAgaWYgKGFyY2hldHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSA9PT0gZmFsc2UgfHwgdHlwZW9mIGRhdGFbbmFtZV0gIT09IHR5cGVvZiBhcmNoZXR5cGVbbmFtZV0pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JqZWN0KGRhdGFbbmFtZV0pICYmIGxpa2UoZGF0YVtuYW1lXSwgYXJjaGV0eXBlW25hbWVdKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGFycmF5YC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhbiBhcnJheSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXkgKGRhdGEpIHtcbiAgICByZXR1cm4gaXNBcnJheShkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGVtcHR5QXJyYXlgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGFuIGVtcHR5IGFycmF5LCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBlbXB0eUFycmF5IChkYXRhKSB7XG4gICAgcmV0dXJuIGFycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgbm9uRW1wdHlBcnJheWAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBub24tZW1wdHkgYXJyYXksIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIG5vbkVtcHR5QXJyYXkgKGRhdGEpIHtcbiAgICByZXR1cm4gYXJyYXkoZGF0YSkgJiYgZ3JlYXRlcihkYXRhLmxlbmd0aCwgMCk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBhcnJheUxpa2VgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUxpa2UgKGRhdGEpIHtcbiAgICByZXR1cm4gYXNzaWduZWQoZGF0YSkgJiYgZ3JlYXRlck9yRXF1YWwoZGF0YS5sZW5ndGgsIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgaXRlcmFibGVgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGlzIGFuIGl0ZXJhYmxlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYWJsZSAoZGF0YSkge1xuICAgIGlmICghIGhhdmVTeW1ib2xzKSB7XG4gICAgICAvLyBGYWxsIGJhY2sgdG8gYGFycmF5TGlrZWAgcHJlZGljYXRlIGluIHByZS1FUzYgZW52aXJvbm1lbnRzLlxuICAgICAgcmV0dXJuIGFycmF5TGlrZShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXNzaWduZWQoZGF0YSkgJiYgaXNGdW5jdGlvbihkYXRhW1N5bWJvbC5pdGVyYXRvcl0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgaW5jbHVkZXNgLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYGRhdGFgIGNvbnRhaW5zIGB2YWx1ZWAsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGluY2x1ZGVzIChkYXRhLCB2YWx1ZSkge1xuICAgIHZhciBpdGVyYXRvciwgaXRlcmF0aW9uLCBrZXlzLCBsZW5ndGgsIGk7XG5cbiAgICBpZiAoISBhc3NpZ25lZChkYXRhKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChoYXZlU3ltYm9scyAmJiBkYXRhW1N5bWJvbC5pdGVyYXRvcl0gJiYgaXNGdW5jdGlvbihkYXRhLnZhbHVlcykpIHtcbiAgICAgIGl0ZXJhdG9yID0gZGF0YS52YWx1ZXMoKTtcblxuICAgICAgZG8ge1xuICAgICAgICBpdGVyYXRpb24gPSBpdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgICAgaWYgKGl0ZXJhdGlvbi52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoISBpdGVyYXRpb24uZG9uZSk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoZGF0YVtrZXlzW2ldXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBmdW5jdGlvbiBgaGFzTGVuZ3RoYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBoYXMgYSBsZW5ndGggcHJvcGVydHkgdGhhdCBlcXVhbHMgYGxlbmd0aGAsIGZhbHNlXG4gICAqIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc0xlbmd0aCAoZGF0YSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFzc2lnbmVkKGRhdGEpICYmIGRhdGEubGVuZ3RoID09PSBsZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBkYXRlYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIGBkYXRhYCBpcyBhIHZhbGlkIGRhdGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGRhdGUgKGRhdGEpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VTdHJpY3QoZGF0YSwgRGF0ZSkgJiYgaW50ZWdlcihkYXRhLmdldFRpbWUoKSk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBmdW5jdGlvbmAuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBgZGF0YWAgaXMgYSBmdW5jdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbiAoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGFwcGx5YC5cbiAgICpcbiAgICogTWFwcyBlYWNoIHZhbHVlIGZyb20gdGhlIGBkYXRhYCB0byB0aGUgY29ycmVzcG9uZGluZyBwcmVkaWNhdGUgYW5kIHJldHVybnNcbiAgICogdGhlIHJlc3VsdCBhcnJheS4gSWYgdGhlIHNhbWUgZnVuY3Rpb24gaXMgdG8gYmUgYXBwbGllZCBhY3Jvc3MgYWxsIG9mIHRoZVxuICAgKiBkYXRhLCBhIHNpbmdsZSBwcmVkaWNhdGUgZnVuY3Rpb24gbWF5IGJlIHBhc3NlZCBpbi5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5IChkYXRhLCBwcmVkaWNhdGVzKSB7XG4gICAgYXNzZXJ0LmFycmF5KGRhdGEpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24ocHJlZGljYXRlcykpIHtcbiAgICAgIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZXModmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXNzZXJ0LmFycmF5KHByZWRpY2F0ZXMpO1xuICAgIGFzc2VydC5oYXNMZW5ndGgoZGF0YSwgcHJlZGljYXRlcy5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIGRhdGEubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBwcmVkaWNhdGVzW2luZGV4XSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIGZ1bmN0aW9uIGBtYXBgLlxuICAgKlxuICAgKiBNYXBzIGVhY2ggdmFsdWUgZnJvbSB0aGUgYGRhdGFgIHRvIHRoZSBjb3JyZXNwb25kaW5nIHByZWRpY2F0ZSBhbmQgcmV0dXJuc1xuICAgKiB0aGUgcmVzdWx0IG9iamVjdC4gU3VwcG9ydHMgbmVzdGVkIG9iamVjdHMuIElmIHRoZSBgZGF0YWAgaXMgbm90IG5lc3RlZCBhbmRcbiAgICogdGhlIHNhbWUgZnVuY3Rpb24gaXMgdG8gYmUgYXBwbGllZCBhY3Jvc3MgYWxsIG9mIGl0LCBhIHNpbmdsZSBwcmVkaWNhdGVcbiAgICogZnVuY3Rpb24gbWF5IGJlIHBhc3NlZCBpbi5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIG1hcCAoZGF0YSwgcHJlZGljYXRlcykge1xuICAgIGFzc2VydC5vYmplY3QoZGF0YSk7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihwcmVkaWNhdGVzKSkge1xuICAgICAgcmV0dXJuIG1hcFNpbXBsZShkYXRhLCBwcmVkaWNhdGVzKTtcbiAgICB9XG5cbiAgICBhc3NlcnQub2JqZWN0KHByZWRpY2F0ZXMpO1xuXG4gICAgcmV0dXJuIG1hcENvbXBsZXgoZGF0YSwgcHJlZGljYXRlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBTaW1wbGUgKGRhdGEsIHByZWRpY2F0ZSkge1xuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBwcmVkaWNhdGUoZGF0YVtrZXldKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBDb21wbGV4IChkYXRhLCBwcmVkaWNhdGVzKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMocHJlZGljYXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgcHJlZGljYXRlID0gcHJlZGljYXRlc1trZXldO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihwcmVkaWNhdGUpKSB7XG4gICAgICAgIGlmIChub3QuYXNzaWduZWQoZGF0YSkpIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9ICEhcHJlZGljYXRlLm07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBwcmVkaWNhdGUoZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvYmplY3QocHJlZGljYXRlKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IG1hcENvbXBsZXgoZGF0YVtrZXldLCBwcmVkaWNhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGFsbGBcbiAgICpcbiAgICogQ2hlY2sgdGhhdCBhbGwgYm9vbGVhbiB2YWx1ZXMgYXJlIHRydWVcbiAgICogaW4gYW4gYXJyYXkgKHJldHVybmVkIGZyb20gYGFwcGx5YClcbiAgICogb3Igb2JqZWN0IChyZXR1cm5lZCBmcm9tIGBtYXBgKS5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIGFsbCAoZGF0YSkge1xuICAgIGlmIChhcnJheShkYXRhKSkge1xuICAgICAgcmV0dXJuIHRlc3RBcnJheShkYXRhLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgYXNzZXJ0Lm9iamVjdChkYXRhKTtcblxuICAgIHJldHVybiB0ZXN0T2JqZWN0KGRhdGEsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRlc3RBcnJheSAoZGF0YSwgcmVzdWx0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGRhdGFbaV0gPT09IHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAhcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gdGVzdE9iamVjdCAoZGF0YSwgcmVzdWx0KSB7XG4gICAgdmFyIGtleSwgdmFsdWU7XG5cbiAgICBmb3IgKGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHZhbHVlID0gZGF0YVtrZXldO1xuXG4gICAgICAgIGlmIChvYmplY3QodmFsdWUpICYmIHRlc3RPYmplY3QodmFsdWUsIHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUgPT09IHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gIXJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgZnVuY3Rpb24gYGFueWBcbiAgICpcbiAgICogQ2hlY2sgdGhhdCBhdCBsZWFzdCBvbmUgYm9vbGVhbiB2YWx1ZSBpcyB0cnVlXG4gICAqIGluIGFuIGFycmF5IChyZXR1cm5lZCBmcm9tIGBhcHBseWApXG4gICAqIG9yIG9iamVjdCAocmV0dXJuZWQgZnJvbSBgbWFwYCkuXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBhbnkgKGRhdGEpIHtcbiAgICBpZiAoYXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybiB0ZXN0QXJyYXkoZGF0YSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgYXNzZXJ0Lm9iamVjdChkYXRhKTtcblxuICAgIHJldHVybiB0ZXN0T2JqZWN0KGRhdGEsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWl4aW4gKHRhcmdldCwgc291cmNlKSB7XG4gICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBtb2RpZmllciBgYXNzZXJ0YC5cbiAgICpcbiAgICogVGhyb3dzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2UuXG4gICAqL1xuICBmdW5jdGlvbiBhc3NlcnRNb2RpZmllciAocHJlZGljYXRlLCBkZWZhdWx0TWVzc2FnZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXNzZXJ0UHJlZGljYXRlKHByZWRpY2F0ZSwgYXJndW1lbnRzLCBkZWZhdWx0TWVzc2FnZSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzc2VydFByZWRpY2F0ZSAocHJlZGljYXRlLCBhcmdzLCBkZWZhdWx0TWVzc2FnZSkge1xuICAgIHZhciBhcmdDb3VudCA9IHByZWRpY2F0ZS5sIHx8IHByZWRpY2F0ZS5sZW5ndGg7XG4gICAgdmFyIG1lc3NhZ2UgPSBhcmdzW2FyZ0NvdW50XTtcbiAgICB2YXIgRXJyb3JUeXBlID0gYXJnc1thcmdDb3VudCArIDFdO1xuICAgIGFzc2VydEltcGwoXG4gICAgICBwcmVkaWNhdGUuYXBwbHkobnVsbCwgYXJncyksXG4gICAgICBub25FbXB0eVN0cmluZyhtZXNzYWdlKSA/IG1lc3NhZ2UgOiBkZWZhdWx0TWVzc2FnZSxcbiAgICAgIGlzRnVuY3Rpb24oRXJyb3JUeXBlKSA/IEVycm9yVHlwZSA6IFR5cGVFcnJvclxuICAgICk7XG4gICAgcmV0dXJuIGFyZ3NbMF07XG4gIH1cblxuICBmdW5jdGlvbiBhc3NlcnRJbXBsICh2YWx1ZSwgbWVzc2FnZSwgRXJyb3JUeXBlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRocm93IG5ldyAoRXJyb3JUeXBlIHx8IEVycm9yKShtZXNzYWdlIHx8ICdBc3NlcnRpb24gZmFpbGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1vZGlmaWVyIGBub3RgLlxuICAgKlxuICAgKiBOZWdhdGVzIGBwcmVkaWNhdGVgLlxuICAgKi9cbiAgZnVuY3Rpb24gbm90TW9kaWZpZXIgKHByZWRpY2F0ZSkge1xuICAgIHZhciBtb2RpZmllZFByZWRpY2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBub3RJbXBsKHByZWRpY2F0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICAgIG1vZGlmaWVkUHJlZGljYXRlLmwgPSBwcmVkaWNhdGUubGVuZ3RoO1xuICAgIHJldHVybiBtb2RpZmllZFByZWRpY2F0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdEltcGwgKHZhbHVlKSB7XG4gICAgcmV0dXJuICF2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgbW9kaWZpZXIgYG1heWJlYC5cbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIHByZWRpY2F0ZSBhcmd1bWVudCBpcyAgbnVsbCBvciB1bmRlZmluZWQsXG4gICAqIG90aGVyd2lzZSBwcm9wYWdhdGVzIHRoZSByZXR1cm4gdmFsdWUgZnJvbSBgcHJlZGljYXRlYC5cbiAgICovXG4gIGZ1bmN0aW9uIG1heWJlTW9kaWZpZXIgKHByZWRpY2F0ZSkge1xuICAgIHZhciBtb2RpZmllZFByZWRpY2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChub3QuYXNzaWduZWQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZWRpY2F0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgbW9kaWZpZWRQcmVkaWNhdGUubCA9IHByZWRpY2F0ZS5sZW5ndGg7XG5cbiAgICAvLyBIYWNraXNobHkgaW5kaWNhdGUgdGhhdCB0aGlzIGlzIGEgbWF5YmUueHh4IHByZWRpY2F0ZS5cbiAgICAvLyBXaXRob3V0IHRoaXMgZmxhZywgdGhlIGFsdGVybmF0aXZlIHdvdWxkIGJlIHRvIGl0ZXJhdGVcbiAgICAvLyB0aHJvdWdoIHRoZSBtYXliZSBwcmVkaWNhdGVzIG9yIHVzZSBpbmRleE9mIHRvIGNoZWNrLFxuICAgIC8vIHdoaWNoIHdvdWxkIGJlIHRpbWUtY29uc3VtaW5nLlxuICAgIG1vZGlmaWVkUHJlZGljYXRlLm0gPSB0cnVlO1xuXG4gICAgcmV0dXJuIG1vZGlmaWVkUHJlZGljYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF5YmVJbXBsICh2YWx1ZSkge1xuICAgIGlmIChhc3NpZ25lZCh2YWx1ZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1vZGlmaWVyIGBvZmAuXG4gICAqXG4gICAqIEFwcGxpZXMgdGhlIGNoYWluZWQgcHJlZGljYXRlIHRvIG1lbWJlcnMgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvZk1vZGlmaWVyICh0YXJnZXQsIHR5cGUsIHByZWRpY2F0ZSkge1xuICAgIHZhciBtb2RpZmllZFByZWRpY2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb2xsZWN0aW9uLCBhcmdzO1xuXG4gICAgICBjb2xsZWN0aW9uID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAodGFyZ2V0ID09PSAnbWF5YmUnICYmIG5vdC5hc3NpZ25lZChjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0eXBlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29sbGVjdGlvbiA9IGNvZXJjZUNvbGxlY3Rpb24odHlwZSwgY29sbGVjdGlvbik7XG4gICAgICBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAodGFyZ2V0ICE9PSAnbWF5YmUnIHx8IGFzc2lnbmVkKGl0ZW0pKSAmJlxuICAgICAgICAgICAgIXByZWRpY2F0ZS5hcHBseShudWxsLCBbIGl0ZW0gXS5jb25jYXQoYXJncykpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggZm9yLi4ub2Ygd2hlbiBFUzYgaXMgcmVxdWlyZWQuXG4gICAgICAgICAgICB0aHJvdyAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChpZ25vcmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIG1vZGlmaWVkUHJlZGljYXRlLmwgPSBwcmVkaWNhdGUubGVuZ3RoO1xuICAgIHJldHVybiBtb2RpZmllZFByZWRpY2F0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZUNvbGxlY3Rpb24gKHR5cGUsIGNvbGxlY3Rpb24pIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgYXJyYXlMaWtlOlxuICAgICAgICByZXR1cm4gc2xpY2UuY2FsbChjb2xsZWN0aW9uKTtcbiAgICAgIGNhc2Ugb2JqZWN0OlxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoY29sbGVjdGlvbikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbltrZXldO1xuICAgICAgICB9KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU1vZGlmaWVkUHJlZGljYXRlcyAobW9kaWZpZXIsIG9iamVjdCkge1xuICAgIHJldHVybiBjcmVhdGVNb2RpZmllZEZ1bmN0aW9ucyhbIG1vZGlmaWVyLCBwcmVkaWNhdGVzLCBvYmplY3QgXSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVNb2RpZmllZEZ1bmN0aW9ucyAoYXJncykge1xuICAgIHZhciBtb2RpZmllciwgb2JqZWN0LCBmdW5jdGlvbnMsIHJlc3VsdDtcblxuICAgIG1vZGlmaWVyID0gYXJncy5zaGlmdCgpO1xuICAgIG9iamVjdCA9IGFyZ3MucG9wKCk7XG4gICAgZnVuY3Rpb25zID0gYXJncy5wb3AoKTtcblxuICAgIHJlc3VsdCA9IG9iamVjdCB8fCB7fTtcblxuICAgIE9iamVjdC5rZXlzKGZ1bmN0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogbW9kaWZpZXIuYXBwbHkobnVsbCwgYXJncy5jb25jYXQoZnVuY3Rpb25zW2tleV0sIG1lc3NhZ2VzW2tleV0pKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTW9kaWZpZWRNb2RpZmllciAobW9kaWZpZXIsIG1vZGlmaWVkKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU1vZGlmaWVkRnVuY3Rpb25zKFsgbW9kaWZpZXIsIG1vZGlmaWVkLCBudWxsIF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlT2ZQcmVkaWNhdGVzIChrZXkpIHtcbiAgICBwcmVkaWNhdGVzW2tleV0ub2YgPSBjcmVhdGVNb2RpZmllZEZ1bmN0aW9ucyhcbiAgICAgIFsgb2ZNb2RpZmllci5iaW5kKG51bGwsIG51bGwpLCBwcmVkaWNhdGVzW2tleV0sIHByZWRpY2F0ZXMsIG51bGwgXVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPZk1vZGlmaWVycyAoYmFzZSwgbW9kaWZpZXIpIHtcbiAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGJhc2Vba2V5XS5vZiA9IGNyZWF0ZU1vZGlmaWVkTW9kaWZpZXIobW9kaWZpZXIsIHByZWRpY2F0ZXNba2V5XS5vZik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVNYXliZU9mTW9kaWZpZXJzIChrZXkpIHtcbiAgICBtYXliZVtrZXldLm9mID0gY3JlYXRlTW9kaWZpZWRGdW5jdGlvbnMoXG4gICAgICBbIG9mTW9kaWZpZXIuYmluZChudWxsLCAnbWF5YmUnKSwgcHJlZGljYXRlc1trZXldLCBwcmVkaWNhdGVzLCBudWxsIF1cbiAgICApO1xuICAgIGFzc2VydC5tYXliZVtrZXldLm9mID0gY3JlYXRlTW9kaWZpZWRNb2RpZmllcihhc3NlcnRNb2RpZmllciwgbWF5YmVba2V5XS5vZik7XG4gICAgYXNzZXJ0Lm5vdFtrZXldLm9mID0gY3JlYXRlTW9kaWZpZWRNb2RpZmllcihhc3NlcnRNb2RpZmllciwgbm90W2tleV0ub2YpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwb3J0RnVuY3Rpb25zIChmdW5jdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25zO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUgIT09IG51bGwgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxzLmNoZWNrID0gZnVuY3Rpb25zO1xuICAgIH1cbiAgfVxufSh0aGlzKSk7XG4iLCJpbXBvcnQge0lNUE9SVEFOVCwgUkVHRVhfS0VCQUIsIFJFR0VYX1NQQUNFLCBSRUdFWF9ESUdJVFMsIFJFR0VYX0xFTl9WQUwsIFBPU1NJQkxFX1BSRUZJWEVTLCBSRVFVSVJFU19VTklUX1ZBTFVFfSBmcm9tICcuL2NvbnN0YW50cydcblNBTVBMRV9TVFlMRSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlXG5cbmV4cG9ydCBpbmNsdWRlcyA9ICh0YXJnZXQsIGl0ZW0pLT5cblx0dGFyZ2V0IGFuZCB0YXJnZXQuaW5kZXhPZihpdGVtKSBpc250IC0xXG5cbmV4cG9ydCBpc0l0ZXJhYmxlID0gKHRhcmdldCktPlxuXHR0YXJnZXQgYW5kXG5cdHR5cGVvZiB0YXJnZXQgaXMgJ29iamVjdCcgYW5kXG5cdHR5cGVvZiB0YXJnZXQubGVuZ3RoIGlzICdudW1iZXInIGFuZFxuXHRub3QgdGFyZ2V0Lm5vZGVUeXBlXG5cbmV4cG9ydCB0b0tlYmFiQ2FzZSA9IChzdHJpbmcpLT5cblx0c3RyaW5nLnJlcGxhY2UgUkVHRVhfS0VCQUIsIChlLGxldHRlciktPiBcIi0je2xldHRlci50b0xvd2VyQ2FzZSgpfVwiXG5cbmV4cG9ydCBpc1Byb3BTdXBwb3J0ZWQgPSAocHJvcGVydHkpLT5cblx0dHlwZW9mIFNBTVBMRV9TVFlMRVtwcm9wZXJ0eV0gaXNudCAndW5kZWZpbmVkJ1xuXG5leHBvcnQgaXNWYWx1ZVN1cHBvcnRlZCA9IChwcm9wZXJ0eSwgdmFsdWUpLT5cblx0aWYgd2luZG93LkNTUyBhbmQgd2luZG93LkNTUy5zdXBwb3J0c1xuXHRcdHJldHVybiB3aW5kb3cuQ1NTLnN1cHBvcnRzKHByb3BlcnR5LCB2YWx1ZSlcblx0ZWxzZVxuXHRcdFNBTVBMRV9TVFlMRVtwcm9wZXJ0eV0gPSB2YWx1ZVxuXHRcdHJldHVybiBTQU1QTEVfU1RZTEVbcHJvcGVydHldIGlzICcnK3ZhbHVlXG5cbmV4cG9ydCBnZXRQcmVmaXggPSAocHJvcGVydHksIHNraXBJbml0aWFsQ2hlY2spLT5cblx0aWYgc2tpcEluaXRpYWxDaGVjayBvciBub3QgaXNQcm9wU3VwcG9ydGVkKHByb3BlcnR5KVxuXHRcdGZvciBwcmVmaXggaW4gUE9TU0lCTEVfUFJFRklYRVNcblx0XHRcdCMjIyBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAjIyNcblx0XHRcdHJldHVybiBcIi0je3ByZWZpeH0tXCIgaWYgaXNQcm9wU3VwcG9ydGVkKFwiLSN7cHJlZml4fS0je3Byb3BlcnR5fVwiKVxuXHRcblx0cmV0dXJuICcnXG5cbmV4cG9ydCBub3JtYWxpemVQcm9wZXJ0eSA9IChwcm9wZXJ0eSktPlx0XG5cdHByb3BlcnR5ID0gdG9LZWJhYkNhc2UocHJvcGVydHkpXG5cdFxuXHRpZiBpc1Byb3BTdXBwb3J0ZWQocHJvcGVydHkpXG5cdFx0cmV0dXJuIHByb3BlcnR5XG5cdGVsc2Vcblx0XHRyZXR1cm4gXCIje2dldFByZWZpeChwcm9wZXJ0eSx0cnVlKX0je3Byb3BlcnR5fVwiXG5cbmV4cG9ydCBub3JtYWxpemVWYWx1ZSA9IChwcm9wZXJ0eSwgdmFsdWUpLT5cblx0aWYgaW5jbHVkZXMoUkVRVUlSRVNfVU5JVF9WQUxVRSwgcHJvcGVydHkpIGFuZCB2YWx1ZSBpc250IG51bGxcblx0XHR2YWx1ZSA9ICcnK3ZhbHVlXG5cdFx0aWYgIFJFR0VYX0RJR0lUUy50ZXN0KHZhbHVlKSBhbmRcblx0XHRcdG5vdCBSRUdFWF9MRU5fVkFMLnRlc3QodmFsdWUpIGFuZFxuXHRcdFx0bm90IFJFR0VYX1NQQUNFLnRlc3QodmFsdWUpXG5cdFx0XHRcdHZhbHVlICs9IGlmIHByb3BlcnR5IGlzICdsaW5lLWhlaWdodCcgdGhlbiAnZW0nIGVsc2UgJ3B4J1xuXG5cdHJldHVybiB2YWx1ZVxuXG5cbmV4cG9ydCBzb3J0ID0gKGFycmF5KS0+XG5cdGlmIGFycmF5Lmxlbmd0aCA8IDJcblx0XHRyZXR1cm4gYXJyYXlcblx0ZWxzZVxuXHRcdHBpdm90ID0gYXJyYXlbMF07IGxlc3MgPSBbXTsgZ3JlYXQgPSBbXTsgbGVuID0gYXJyYXkubGVuZ3RoOyBpID0gMDtcblx0XHRcblx0XHR3aGlsZSArK2kgaXNudCBsZW5cblx0XHRcdGlmIGFycmF5W2ldIDw9IHBpdm90XG5cdFx0XHRcdGxlc3MucHVzaChhcnJheVtpXSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0Z3JlYXQucHVzaChhcnJheVtpXSlcblxuXHRcdHJldHVybiBzb3J0KGxlc3MpLmNvbmNhdChwaXZvdCwgc29ydChncmVhdCkpXG5cblxuZXhwb3J0IGhhc2ggPSAoc3RyaW5nKS0+XG5cdGhzaCA9IDUzODE7IGkgPSAtMTsgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuXHRcblx0d2hpbGUgKytpIGlzbnQgc3RyaW5nLmxlbmd0aFxuXHRcdGhzaCA9ICgoaHNoIDw8IDUpIC0gaHNoKSArIHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cdFx0aHNoIHw9IDBcblxuXHRyZXR1cm4gJ18nKyhpZiBoc2ggPCAwIHRoZW4gaHNoICogLTIgZWxzZSBoc2gpXG5cblxuZXhwb3J0IHJ1bGVUb1N0cmluZyA9IChydWxlLCBpbXBvcnRhbnQpLT5cblx0b3V0cHV0ID0gJydcblx0cHJvcHMgPSBzb3J0KE9iamVjdC5rZXlzKHJ1bGUpKVxuXHRcblx0Zm9yIHByb3AgaW4gcHJvcHNcblx0XHRpZiB0eXBlb2YgcnVsZVtwcm9wXSBpcyAnc3RyaW5nJyBvciB0eXBlb2YgcnVsZVtwcm9wXSBpcyAnbnVtYmVyJ1xuXHRcdFx0cHJvcGVydHkgPSBub3JtYWxpemVQcm9wZXJ0eShwcm9wKVxuXHRcdFx0dmFsdWUgPSBub3JtYWxpemVWYWx1ZShwcm9wZXJ0eSwgcnVsZVtwcm9wXSlcblx0XHRcdHZhbHVlICs9IFwiICFpbXBvcnRhbnRcIiBpZiBpbXBvcnRhbnRcblx0XHRcdG91dHB1dCArPSBcIiN7cHJvcGVydHl9OiN7dmFsdWV9O1wiXG5cdFxuXHRyZXR1cm4gb3V0cHV0XG5cbmV4cG9ydCBpbmxpbmVTdHlsZUNvbmZpZyA9IHN0eWxlQ29uZmlnID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuZXhwb3J0IGlubGluZVN0eWxlID0gKHJ1bGUsIHZhbHVlVG9TdG9yZSwgbGV2ZWwpLT5cblx0aWYgbm90IGNvbmZpZz1zdHlsZUNvbmZpZ1tsZXZlbF1cblx0XHRzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuXHRcdHN0eWxlRWwuaWQgPSBcInF1aWNrY3NzI3tsZXZlbCBvciAnJ31cIlxuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbClcblx0XHRzdHlsZUNvbmZpZ1tsZXZlbF0gPSBjb25maWcgPSBlbDpzdHlsZUVsLCBjb250ZW50OicnLCBjYWNoZTpPYmplY3QuY3JlYXRlKG51bGwpXG5cdFxuXHR1bmxlc3MgY29uZmlnLmNhY2hlW3J1bGVdXG5cdFx0Y29uZmlnLmNhY2hlW3J1bGVdID0gdmFsdWVUb1N0b3JlIG9yIHRydWVcblx0XHRjb25maWcuZWwudGV4dENvbnRlbnQgPSBjb25maWcuY29udGVudCArPSBydWxlXG5cdFxuXHRyZXR1cm5cblxuXG5leHBvcnQgY2xlYXJJbmxpbmVTdHlsZSA9IChsZXZlbCktPiBpZiBjb25maWcgPSBzdHlsZUNvbmZpZ1tsZXZlbF1cblx0cmV0dXJuIGlmIG5vdCBjb25maWcuY29udGVudFxuXHRjb25maWcuZWwudGV4dENvbnRlbnQgPSBjb25maWcuY29udGVudCA9ICcnXG5cdGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcuY2FjaGUpXG5cdGNvbmZpZy5jYWNoZVtrZXldID0gbnVsbCBmb3Iga2V5IGluIGtleXNcblx0cmV0dXJuXG5cblxuXG5cblxuIiwiZXhwb3J0IFJFR0VYX0xFTl9WQUwgPSAvXlxcZCsoPzpbYS16XXxcXCUpKyQvaVxuZXhwb3J0IFJFR0VYX0RJR0lUUyA9IC9cXGQrJC9cbmV4cG9ydCBSRUdFWF9TUEFDRSA9IC9cXHMvXG5leHBvcnQgUkVHRVhfS0VCQUIgPSAvKFtBLVpdKSsvZ1xuZXhwb3J0IElNUE9SVEFOVCA9ICdpbXBvcnRhbnQnXG5cbmV4cG9ydCBQT1NTSUJMRV9QUkVGSVhFUyA9IFtcblx0J3dlYmtpdCdcblx0J21veidcblx0J21zJ1xuXHQnbydcbl1cbmV4cG9ydCBSRVFVSVJFU19VTklUX1ZBTFVFID0gW1xuXHQnYmFja2dyb3VuZC1wb3NpdGlvbi14J1xuXHQnYmFja2dyb3VuZC1wb3NpdGlvbi15J1xuXHQnYmxvY2stc2l6ZSdcblx0J2JvcmRlci13aWR0aCdcblx0J2NvbHVtblJ1bGUtd2lkdGgnXG5cdCdjeCdcblx0J2N5J1xuXHQnZm9udC1zaXplJ1xuXHQnZ3JpZC1jb2x1bW4tZ2FwJ1xuXHQnZ3JpZC1yb3ctZ2FwJ1xuXHQnaGVpZ2h0J1xuXHQnaW5saW5lLXNpemUnXG5cdCdsaW5lLWhlaWdodCdcblx0J21pbkJsb2NrLXNpemUnXG5cdCdtaW4taGVpZ2h0J1xuXHQnbWluLWlubGluZS1zaXplJ1xuXHQnbWluLXdpZHRoJ1xuXHQnbWF4LWhlaWdodCdcblx0J21heC13aWR0aCdcblx0J291dGxpbmUtb2Zmc2V0J1xuXHQnb3V0bGluZS13aWR0aCdcblx0J3BlcnNwZWN0aXZlJ1xuXHQnc2hhcGUtbWFyZ2luJ1xuXHQnc3Ryb2tlLWRhc2hvZmZzZXQnXG5cdCdzdHJva2Utd2lkdGgnXG5cdCd0ZXh0LWluZGVudCdcblx0J3dpZHRoJ1xuXHQnd29yZC1zcGFjaW5nJ1xuXHQndG9wJ1xuXHQnYm90dG9tJ1xuXHQnbGVmdCdcblx0J3JpZ2h0J1xuXHQneCdcblx0J3knXG5dXG5cbmV4cG9ydCBRVUFEX1NIT1JUSEFORFMgPSBbXG5cdCdtYXJnaW4nXG5cdCdwYWRkaW5nJ1xuXHQnYm9yZGVyJ1xuXHQnYm9yZGVyLXJhZGl1cydcbl1cbmV4cG9ydCBESVJFQ1RJT05TID0gWyd0b3AnLCdib3R0b20nLCdsZWZ0JywncmlnaHQnXVxuXG5RVUFEX1NIT1JUSEFORFMuZm9yRWFjaCAocHJvcGVydHkpLT5cblx0UkVRVUlSRVNfVU5JVF9WQUxVRS5wdXNoIHByb3BlcnR5XG5cdGZvciBkaXJlY3Rpb24gaW4gRElSRUNUSU9OU1xuXHRcdFJFUVVJUkVTX1VOSVRfVkFMVUUucHVzaCBwcm9wZXJ0eSsnLScrZGlyZWN0aW9uXG5cdHJldHVyblxuXG5cblxuXG5cbiIsImlzQXJyYXkgPSAodGFyZ2V0KS0+XG5cdEFycmF5LmlzQXJyYXkodGFyZ2V0KVxuXG5pc09iamVjdCA9ICh0YXJnZXQpLT5cblx0dGFyZ2V0IGFuZCBPYmplY3Q6OnRvU3RyaW5nLmNhbGwodGFyZ2V0KSBpcyAnW29iamVjdCBPYmplY3RdJyBvciBpc0FycmF5KHRhcmdldClcblxuc2hvdWxkRGVlcEV4dGVuZCA9IChvcHRpb25zLCB0YXJnZXQsIHBhcmVudEtleSktPlxuXHRpZiBvcHRpb25zLmRlZXBcblx0XHRpZiBvcHRpb25zLm5vdERlZXAgdGhlbiBub3Qgb3B0aW9ucy5ub3REZWVwW3RhcmdldF0gZWxzZSB0cnVlXG5cblx0ZWxzZSBpZiBvcHRpb25zLmRlZXBPbmx5XG5cdFx0b3B0aW9ucy5kZWVwT25seVt0YXJnZXRdIG9yIHBhcmVudEtleSBhbmQgc2hvdWxkRGVlcEV4dGVuZChvcHRpb25zLCBwYXJlbnRLZXkpXG5cblx0IyBlbHNlIGZhbHNlXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQgPSAob3B0aW9ucywgdGFyZ2V0LCBzb3VyY2VzLCBwYXJlbnRLZXkpLT5cblx0dGFyZ2V0ID0ge30gaWYgbm90IHRhcmdldCBvciB0eXBlb2YgdGFyZ2V0IGlzbnQgJ29iamVjdCcgYW5kIHR5cGVvZiB0YXJnZXQgaXNudCAnZnVuY3Rpb24nXG5cblx0Zm9yIHNvdXJjZSBpbiBzb3VyY2VzIHdoZW4gc291cmNlP1xuXHRcdGZvciBrZXkgb2Ygc291cmNlXG5cdFx0XHRzb3VyY2VWYWx1ZSA9IHNvdXJjZVtrZXldXG5cdFx0XHR0YXJnZXRWYWx1ZSA9IHRhcmdldFtrZXldXG5cdFx0XHRcblx0XHRcdGNvbnRpbnVlIGlmIHNvdXJjZVZhbHVlIGlzIHRhcmdldCBvclxuXHRcdFx0XHRcdFx0c291cmNlVmFsdWUgaXMgdW5kZWZpbmVkIG9yXG5cdFx0XHRcdFx0XHQoc291cmNlVmFsdWUgaXMgbnVsbCBhbmQgbm90IG9wdGlvbnMuYWxsb3dOdWxsIGFuZCBub3Qgb3B0aW9ucy5udWxsRGVsZXRlcykgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLmtleXMgYW5kIG5vdCBvcHRpb25zLmtleXNba2V5XSkgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLm5vdEtleXMgYW5kIG9wdGlvbnMubm90S2V5c1trZXldKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMub3duIGFuZCBub3Qgc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIG9yXG5cdFx0XHRcdFx0XHQob3B0aW9ucy5nbG9iYWxGaWx0ZXIgYW5kIG5vdCBvcHRpb25zLmdsb2JhbEZpbHRlcihzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMuZmlsdGVycyBhbmQgb3B0aW9ucy5maWx0ZXJzW2tleV0gYW5kIG5vdCBvcHRpb25zLmZpbHRlcnNba2V5XShzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpKVxuXHRcdFx0XG5cdFx0XHRpZiBzb3VyY2VWYWx1ZSBpcyBudWxsIGFuZCBvcHRpb25zLm51bGxEZWxldGVzXG5cdFx0XHRcdGRlbGV0ZSB0YXJnZXRba2V5XVxuXHRcdFx0XHRjb250aW51ZVxuXHRcdFx0aWYgb3B0aW9ucy5nbG9iYWxUcmFuc2Zvcm1cblx0XHRcdFx0c291cmNlVmFsdWUgPSBvcHRpb25zLmdsb2JhbFRyYW5zZm9ybShzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpXG5cdFx0XHRpZiBvcHRpb25zLnRyYW5zZm9ybXMgYW5kIG9wdGlvbnMudHJhbnNmb3Jtc1trZXldXG5cdFx0XHRcdHNvdXJjZVZhbHVlID0gb3B0aW9ucy50cmFuc2Zvcm1zW2tleV0oc291cmNlVmFsdWUsIGtleSwgc291cmNlKVxuXHRcblx0XHRcdHN3aXRjaFxuXHRcdFx0XHR3aGVuIG9wdGlvbnMuY29uY2F0IGFuZCBpc0FycmF5KHNvdXJjZVZhbHVlKSBhbmQgaXNBcnJheSh0YXJnZXRWYWx1ZSlcblx0XHRcdFx0XHR0YXJnZXRba2V5XSA9IHRhcmdldFZhbHVlLmNvbmNhdChzb3VyY2VWYWx1ZSlcblx0XHRcdFx0XG5cdFx0XHRcdHdoZW4gc2hvdWxkRGVlcEV4dGVuZChvcHRpb25zLCBrZXksIHBhcmVudEtleSkgYW5kIGlzT2JqZWN0KHNvdXJjZVZhbHVlKVxuXHRcdFx0XHRcdHN1YlRhcmdldCA9IGlmIGlzT2JqZWN0KHRhcmdldFZhbHVlKSB0aGVuIHRhcmdldFZhbHVlIGVsc2UgaWYgaXNBcnJheShzb3VyY2VWYWx1ZSkgdGhlbiBbXSBlbHNlIHt9XG5cdFx0XHRcdFx0dGFyZ2V0W2tleV0gPSBleHRlbmQob3B0aW9ucywgc3ViVGFyZ2V0LCBbc291cmNlVmFsdWVdLCBrZXkpXG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRhcmdldFtrZXldID0gc291cmNlVmFsdWVcblxuXG5cdHJldHVybiB0YXJnZXRcblxuXG5cblxuXG5cblxuIiwiYXZhaWxTZXRzID0gXG5cdG5hdGl2ZXM6IGltcG9ydCAnLi9uYXRpdmVzJ1xuXHRkb206IGltcG9ydCAnLi9kb20nXG5cbmNsYXNzIENoZWNrc1xuXHRjcmVhdGU6ICgpLT5cblx0XHRhcmdzID0gQXJyYXk6OnNsaWNlLmNhbGwoYXJndW1lbnRzKSBpZiBhcmd1bWVudHMubGVuZ3RoXG5cdFx0bmV3IENoZWNrcyhhcmdzKVxuXHRcblxuXHRjb25zdHJ1Y3RvcjogKHNldHMpLT5cblx0XHRzZXRzID89IFsnbmF0aXZlcyddXG5cdFx0XG5cdFx0Zm9yIHNldCBpbiBzZXRzXG5cdFx0XHRAbG9hZChhdmFpbFNldHNbc2V0XSkgaWYgYXZhaWxTZXRzW3NldF1cblxuXG5cdGxvYWQ6IChzZXQpLT5cblx0XHRzZXQgPSBhdmFpbFNldHNbc2V0XSBpZiBhdmFpbFNldHMubmF0aXZlcy5zdHJpbmcoc2V0KVxuXHRcdHJldHVybiBpZiBub3QgYXZhaWxTZXRzLm5hdGl2ZXMub2JqZWN0UGxhaW4oc2V0KVxuXHRcdFxuXHRcdGZvciBrZXksdmFsdWUgb2Ygc2V0XG5cdFx0XHRAW2tleV0gPSB2YWx1ZVxuXHRcdFxuXHRcdHJldHVyblxuXHRcblx0XG5tb2R1bGUuZXhwb3J0cyA9IENoZWNrczo6Y3JlYXRlKCkiLCIvKiFcbiAqIGFzc2VydGlvbi1lcnJvclxuICogQ29weXJpZ2h0KGMpIDIwMTMgSmFrZSBMdWVyIDxqYWtlQHF1YWxpYW5jeS5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKiFcbiAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogb25lIG9iamVjdCB0byBhbm90aGVyIGV4Y2x1ZGluZyBhbnkgb3JpZ2luYWxseVxuICogbGlzdGVkLiBSZXR1cm5lZCBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIG5ldyBge31gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBleGNsdWRlZCBwcm9wZXJ0aWVzIC4uLlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cblxuZnVuY3Rpb24gZXhjbHVkZSAoKSB7XG4gIHZhciBleGNsdWRlcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBmdW5jdGlvbiBleGNsdWRlUHJvcHMgKHJlcywgb2JqKSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghfmV4Y2x1ZGVzLmluZGV4T2Yoa2V5KSkgcmVzW2tleV0gPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBleHRlbmRFeGNsdWRlICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgICAgLCBpID0gMFxuICAgICAgLCByZXMgPSB7fTtcblxuICAgIGZvciAoOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgZXhjbHVkZVByb3BzKHJlcywgYXJnc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbn07XG5cbi8qIVxuICogUHJpbWFyeSBFeHBvcnRzXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBBc3NlcnRpb25FcnJvcjtcblxuLyoqXG4gKiAjIyMgQXNzZXJ0aW9uRXJyb3JcbiAqXG4gKiBBbiBleHRlbnNpb24gb2YgdGhlIEphdmFTY3JpcHQgYEVycm9yYCBjb25zdHJ1Y3RvciBmb3JcbiAqIGFzc2VydGlvbiBhbmQgdmFsaWRhdGlvbiBzY2VuYXJpb3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIHRvIGluY2x1ZGUgKG9wdGlvbmFsKVxuICogQHBhcmFtIHtjYWxsZWV9IHN0YXJ0IHN0YWNrIGZ1bmN0aW9uIChvcHRpb25hbClcbiAqL1xuXG5mdW5jdGlvbiBBc3NlcnRpb25FcnJvciAobWVzc2FnZSwgX3Byb3BzLCBzc2YpIHtcbiAgdmFyIGV4dGVuZCA9IGV4Y2x1ZGUoJ25hbWUnLCAnbWVzc2FnZScsICdzdGFjaycsICdjb25zdHJ1Y3RvcicsICd0b0pTT04nKVxuICAgICwgcHJvcHMgPSBleHRlbmQoX3Byb3BzIHx8IHt9KTtcblxuICAvLyBkZWZhdWx0IHZhbHVlc1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8ICdVbnNwZWNpZmllZCBBc3NlcnRpb25FcnJvcic7XG4gIHRoaXMuc2hvd0RpZmYgPSBmYWxzZTtcblxuICAvLyBjb3B5IGZyb20gcHJvcGVydGllc1xuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB0aGlzW2tleV0gPSBwcm9wc1trZXldO1xuICB9XG5cbiAgLy8gY2FwdHVyZSBzdGFjayB0cmFjZVxuICBzc2YgPSBzc2YgfHwgQXNzZXJ0aW9uRXJyb3I7XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHNzZik7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgdGhpcy5zdGFjayA9IGUuc3RhY2s7XG4gICAgfVxuICB9XG59XG5cbi8qIVxuICogSW5oZXJpdCBmcm9tIEVycm9yLnByb3RvdHlwZVxuICovXG5cbkFzc2VydGlvbkVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcblxuLyohXG4gKiBTdGF0aWNhbGx5IHNldCBuYW1lXG4gKi9cblxuQXNzZXJ0aW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuXG4vKiFcbiAqIEVuc3VyZSBjb3JyZWN0IGNvbnN0cnVjdG9yXG4gKi9cblxuQXNzZXJ0aW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXNzZXJ0aW9uRXJyb3I7XG5cbi8qKlxuICogQWxsb3cgZXJyb3JzIHRvIGJlIGNvbnZlcnRlZCB0byBKU09OIGZvciBzdGF0aWMgdHJhbnNmZXIuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBpbmNsdWRlIHN0YWNrIChkZWZhdWx0OiBgdHJ1ZWApXG4gKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCB0aGF0IGNhbiBiZSBgSlNPTi5zdHJpbmdpZnlgXG4gKi9cblxuQXNzZXJ0aW9uRXJyb3IucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIChzdGFjaykge1xuICB2YXIgZXh0ZW5kID0gZXhjbHVkZSgnY29uc3RydWN0b3InLCAndG9KU09OJywgJ3N0YWNrJylcbiAgICAsIHByb3BzID0gZXh0ZW5kKHsgbmFtZTogdGhpcy5uYW1lIH0sIHRoaXMpO1xuXG4gIC8vIGluY2x1ZGUgc3RhY2sgaWYgZXhpc3RzIGFuZCBub3QgdHVybmVkIG9mZlxuICBpZiAoZmFsc2UgIT09IHN0YWNrICYmIHRoaXMuc3RhY2spIHtcbiAgICBwcm9wcy5zdGFjayA9IHRoaXMuc3RhY2s7XG4gIH1cblxuICByZXR1cm4gcHJvcHM7XG59O1xuIiwiLyohXG4gKiBjaGFpXG4gKiBDb3B5cmlnaHQoYykgMjAxMSBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qIVxuICogRGVwZW5kZW5jaWVzIHRoYXQgYXJlIHVzZWQgZm9yIG11bHRpcGxlIGV4cG9ydHMgYXJlIHJlcXVpcmVkIGhlcmUgb25seSBvbmNlXG4gKi9cblxudmFyIHBhdGh2YWwgPSByZXF1aXJlKCdwYXRodmFsJyk7XG5cbi8qIVxuICogdGVzdCB1dGlsaXR5XG4gKi9cblxuZXhwb3J0cy50ZXN0ID0gcmVxdWlyZSgnLi90ZXN0Jyk7XG5cbi8qIVxuICogdHlwZSB1dGlsaXR5XG4gKi9cblxuZXhwb3J0cy50eXBlID0gcmVxdWlyZSgndHlwZS1kZXRlY3QnKTtcblxuLyohXG4gKiBleHBlY3RUeXBlcyB1dGlsaXR5XG4gKi9cbmV4cG9ydHMuZXhwZWN0VHlwZXMgPSByZXF1aXJlKCcuL2V4cGVjdFR5cGVzJyk7XG5cbi8qIVxuICogbWVzc2FnZSB1dGlsaXR5XG4gKi9cblxuZXhwb3J0cy5nZXRNZXNzYWdlID0gcmVxdWlyZSgnLi9nZXRNZXNzYWdlJyk7XG5cbi8qIVxuICogYWN0dWFsIHV0aWxpdHlcbiAqL1xuXG5leHBvcnRzLmdldEFjdHVhbCA9IHJlcXVpcmUoJy4vZ2V0QWN0dWFsJyk7XG5cbi8qIVxuICogSW5zcGVjdCB1dGlsXG4gKi9cblxuZXhwb3J0cy5pbnNwZWN0ID0gcmVxdWlyZSgnLi9pbnNwZWN0Jyk7XG5cbi8qIVxuICogT2JqZWN0IERpc3BsYXkgdXRpbFxuICovXG5cbmV4cG9ydHMub2JqRGlzcGxheSA9IHJlcXVpcmUoJy4vb2JqRGlzcGxheScpO1xuXG4vKiFcbiAqIEZsYWcgdXRpbGl0eVxuICovXG5cbmV4cG9ydHMuZmxhZyA9IHJlcXVpcmUoJy4vZmxhZycpO1xuXG4vKiFcbiAqIEZsYWcgdHJhbnNmZXJyaW5nIHV0aWxpdHlcbiAqL1xuXG5leHBvcnRzLnRyYW5zZmVyRmxhZ3MgPSByZXF1aXJlKCcuL3RyYW5zZmVyRmxhZ3MnKTtcblxuLyohXG4gKiBEZWVwIGVxdWFsIHV0aWxpdHlcbiAqL1xuXG5leHBvcnRzLmVxbCA9IHJlcXVpcmUoJ2RlZXAtZXFsJyk7XG5cbi8qIVxuICogRGVlcCBwYXRoIGluZm9cbiAqL1xuXG5leHBvcnRzLmdldFBhdGhJbmZvID0gcGF0aHZhbC5nZXRQYXRoSW5mbztcblxuLyohXG4gKiBDaGVjayBpZiBhIHByb3BlcnR5IGV4aXN0c1xuICovXG5cbmV4cG9ydHMuaGFzUHJvcGVydHkgPSBwYXRodmFsLmhhc1Byb3BlcnR5O1xuXG4vKiFcbiAqIEZ1bmN0aW9uIG5hbWVcbiAqL1xuXG5leHBvcnRzLmdldE5hbWUgPSByZXF1aXJlKCdnZXQtZnVuYy1uYW1lJyk7XG5cbi8qIVxuICogYWRkIFByb3BlcnR5XG4gKi9cblxuZXhwb3J0cy5hZGRQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vYWRkUHJvcGVydHknKTtcblxuLyohXG4gKiBhZGQgTWV0aG9kXG4gKi9cblxuZXhwb3J0cy5hZGRNZXRob2QgPSByZXF1aXJlKCcuL2FkZE1ldGhvZCcpO1xuXG4vKiFcbiAqIG92ZXJ3cml0ZSBQcm9wZXJ0eVxuICovXG5cbmV4cG9ydHMub3ZlcndyaXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL292ZXJ3cml0ZVByb3BlcnR5Jyk7XG5cbi8qIVxuICogb3ZlcndyaXRlIE1ldGhvZFxuICovXG5cbmV4cG9ydHMub3ZlcndyaXRlTWV0aG9kID0gcmVxdWlyZSgnLi9vdmVyd3JpdGVNZXRob2QnKTtcblxuLyohXG4gKiBBZGQgYSBjaGFpbmFibGUgbWV0aG9kXG4gKi9cblxuZXhwb3J0cy5hZGRDaGFpbmFibGVNZXRob2QgPSByZXF1aXJlKCcuL2FkZENoYWluYWJsZU1ldGhvZCcpO1xuXG4vKiFcbiAqIE92ZXJ3cml0ZSBjaGFpbmFibGUgbWV0aG9kXG4gKi9cblxuZXhwb3J0cy5vdmVyd3JpdGVDaGFpbmFibGVNZXRob2QgPSByZXF1aXJlKCcuL292ZXJ3cml0ZUNoYWluYWJsZU1ldGhvZCcpO1xuXG4vKiFcbiAqIENvbXBhcmUgYnkgaW5zcGVjdCBtZXRob2RcbiAqL1xuXG5leHBvcnRzLmNvbXBhcmVCeUluc3BlY3QgPSByZXF1aXJlKCcuL2NvbXBhcmVCeUluc3BlY3QnKTtcblxuLyohXG4gKiBHZXQgb3duIGVudW1lcmFibGUgcHJvcGVydHkgc3ltYm9scyBtZXRob2RcbiAqL1xuXG5leHBvcnRzLmdldE93bkVudW1lcmFibGVQcm9wZXJ0eVN5bWJvbHMgPSByZXF1aXJlKCcuL2dldE93bkVudW1lcmFibGVQcm9wZXJ0eVN5bWJvbHMnKTtcblxuLyohXG4gKiBHZXQgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBtZXRob2RcbiAqL1xuXG5leHBvcnRzLmdldE93bkVudW1lcmFibGVQcm9wZXJ0aWVzID0gcmVxdWlyZSgnLi9nZXRPd25FbnVtZXJhYmxlUHJvcGVydGllcycpO1xuXG4vKiFcbiAqIENoZWNrcyBlcnJvciBhZ2FpbnN0IGEgZ2l2ZW4gc2V0IG9mIGNyaXRlcmlhXG4gKi9cblxuZXhwb3J0cy5jaGVja0Vycm9yID0gcmVxdWlyZSgnY2hlY2stZXJyb3InKTtcblxuLyohXG4gKiBQcm94aWZ5IHV0aWxcbiAqL1xuXG5leHBvcnRzLnByb3hpZnkgPSByZXF1aXJlKCcuL3Byb3hpZnknKTtcblxuLyohXG4gKiBhZGRMZW5ndGhHdWFyZCB1dGlsXG4gKi9cblxuZXhwb3J0cy5hZGRMZW5ndGhHdWFyZCA9IHJlcXVpcmUoJy4vYWRkTGVuZ3RoR3VhcmQnKTtcblxuLyohXG4gKiBpc1Byb3h5RW5hYmxlZCBoZWxwZXJcbiAqL1xuXG5leHBvcnRzLmlzUHJveHlFbmFibGVkID0gcmVxdWlyZSgnLi9pc1Byb3h5RW5hYmxlZCcpO1xuXG4vKiFcbiAqIGlzTmFOIG1ldGhvZFxuICovXG5cbmV4cG9ydHMuaXNOYU4gPSByZXF1aXJlKCcuL2lzTmFOJyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblxuICAvKipcbiAgICogIyMjIGNvbmZpZy5pbmNsdWRlU3RhY2tcbiAgICpcbiAgICogVXNlciBjb25maWd1cmFibGUgcHJvcGVydHksIGluZmx1ZW5jZXMgd2hldGhlciBzdGFjayB0cmFjZVxuICAgKiBpcyBpbmNsdWRlZCBpbiBBc3NlcnRpb24gZXJyb3IgbWVzc2FnZS4gRGVmYXVsdCBvZiBmYWxzZVxuICAgKiBzdXBwcmVzc2VzIHN0YWNrIHRyYWNlIGluIHRoZSBlcnJvciBtZXNzYWdlLlxuICAgKlxuICAgKiAgICAgY2hhaS5jb25maWcuaW5jbHVkZVN0YWNrID0gdHJ1ZTsgIC8vIGVuYWJsZSBzdGFjayBvbiBlcnJvclxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGluY2x1ZGVTdGFjazogZmFsc2UsXG5cbiAgLyoqXG4gICAqICMjIyBjb25maWcuc2hvd0RpZmZcbiAgICpcbiAgICogVXNlciBjb25maWd1cmFibGUgcHJvcGVydHksIGluZmx1ZW5jZXMgd2hldGhlciBvciBub3RcbiAgICogdGhlIGBzaG93RGlmZmAgZmxhZyBzaG91bGQgYmUgaW5jbHVkZWQgaW4gdGhlIHRocm93blxuICAgKiBBc3NlcnRpb25FcnJvcnMuIGBmYWxzZWAgd2lsbCBhbHdheXMgYmUgYGZhbHNlYDsgYHRydWVgXG4gICAqIHdpbGwgYmUgdHJ1ZSB3aGVuIHRoZSBhc3NlcnRpb24gaGFzIHJlcXVlc3RlZCBhIGRpZmZcbiAgICogYmUgc2hvd24uXG4gICAqXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgc2hvd0RpZmY6IHRydWUsXG5cbiAgLyoqXG4gICAqICMjIyBjb25maWcudHJ1bmNhdGVUaHJlc2hvbGRcbiAgICpcbiAgICogVXNlciBjb25maWd1cmFibGUgcHJvcGVydHksIHNldHMgbGVuZ3RoIHRocmVzaG9sZCBmb3IgYWN0dWFsIGFuZFxuICAgKiBleHBlY3RlZCB2YWx1ZXMgaW4gYXNzZXJ0aW9uIGVycm9ycy4gSWYgdGhpcyB0aHJlc2hvbGQgaXMgZXhjZWVkZWQsIGZvclxuICAgKiBleGFtcGxlIGZvciBsYXJnZSBkYXRhIHN0cnVjdHVyZXMsIHRoZSB2YWx1ZSBpcyByZXBsYWNlZCB3aXRoIHNvbWV0aGluZ1xuICAgKiBsaWtlIGBbIEFycmF5KDMpIF1gIG9yIGB7IE9iamVjdCAocHJvcDEsIHByb3AyKSB9YC5cbiAgICpcbiAgICogU2V0IGl0IHRvIHplcm8gaWYgeW91IHdhbnQgdG8gZGlzYWJsZSB0cnVuY2F0aW5nIGFsdG9nZXRoZXIuXG4gICAqXG4gICAqIFRoaXMgaXMgZXNwZWNpYWxseSB1c2VyZnVsIHdoZW4gZG9pbmcgYXNzZXJ0aW9ucyBvbiBhcnJheXM6IGhhdmluZyB0aGlzXG4gICAqIHNldCB0byBhIHJlYXNvbmFibGUgbGFyZ2UgdmFsdWUgbWFrZXMgdGhlIGZhaWx1cmUgbWVzc2FnZXMgcmVhZGlseVxuICAgKiBpbnNwZWN0YWJsZS5cbiAgICpcbiAgICogICAgIGNoYWkuY29uZmlnLnRydW5jYXRlVGhyZXNob2xkID0gMDsgIC8vIGRpc2FibGUgdHJ1bmNhdGluZ1xuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdHJ1bmNhdGVUaHJlc2hvbGQ6IDQwLFxuXG4gIC8qKlxuICAgKiAjIyMgY29uZmlnLnVzZVByb3h5XG4gICAqXG4gICAqIFVzZXIgY29uZmlndXJhYmxlIHByb3BlcnR5LCBkZWZpbmVzIGlmIGNoYWkgd2lsbCB1c2UgYSBQcm94eSB0byB0aHJvd1xuICAgKiBhbiBlcnJvciB3aGVuIGEgbm9uLWV4aXN0ZW50IHByb3BlcnR5IGlzIHJlYWQsIHdoaWNoIHByb3RlY3RzIHVzZXJzXG4gICAqIGZyb20gdHlwb3Mgd2hlbiB1c2luZyBwcm9wZXJ0eS1iYXNlZCBhc3NlcnRpb25zLlxuICAgKlxuICAgKiBTZXQgaXQgdG8gZmFsc2UgaWYgeW91IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGZlYXR1cmUuXG4gICAqXG4gICAqICAgICBjaGFpLmNvbmZpZy51c2VQcm94eSA9IGZhbHNlOyAgLy8gZGlzYWJsZSB1c2Ugb2YgUHJveHlcbiAgICpcbiAgICogVGhpcyBmZWF0dXJlIGlzIGF1dG9tYXRpY2FsbHkgZGlzYWJsZWQgcmVnYXJkbGVzcyBvZiB0aGlzIGNvbmZpZyB2YWx1ZVxuICAgKiBpbiBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBzdXBwb3J0IHByb3hpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdXNlUHJveHk6IHRydWUsXG5cbiAgLyoqXG4gICAqICMjIyBjb25maWcucHJveHlFeGNsdWRlZEtleXNcbiAgICpcbiAgICogVXNlciBjb25maWd1cmFibGUgcHJvcGVydHksIGRlZmluZXMgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgaWdub3JlZFxuICAgKiBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yIGlmIHRoZXkgZG8gbm90IGV4aXN0IG9uIHRoZSBhc3NlcnRpb24uXG4gICAqIFRoaXMgaXMgb25seSBhcHBsaWVkIGlmIHRoZSBlbnZpcm9ubWVudCBDaGFpIGlzIHJ1bm5pbmcgaW4gc3VwcG9ydHMgcHJveGllcyBhbmRcbiAgICogaWYgdGhlIGB1c2VQcm94eWAgY29uZmlndXJhdGlvbiBzZXR0aW5nIGlzIGVuYWJsZWQuXG4gICAqIEJ5IGRlZmF1bHQsIGB0aGVuYCBhbmQgYGluc3BlY3RgIHdpbGwgbm90IHRocm93IGFuIGVycm9yIGlmIHRoZXkgZG8gbm90IGV4aXN0IG9uIHRoZVxuICAgKiBhc3NlcnRpb24gb2JqZWN0IGJlY2F1c2UgdGhlIGAuaW5zcGVjdGAgcHJvcGVydHkgaXMgcmVhZCBieSBgdXRpbC5pbnNwZWN0YCAoZm9yIGV4YW1wbGUsIHdoZW5cbiAgICogdXNpbmcgYGNvbnNvbGUubG9nYCBvbiB0aGUgYXNzZXJ0aW9uIG9iamVjdCkgYW5kIGAudGhlbmAgaXMgbmVjZXNzYXJ5IGZvciBwcm9taXNlIHR5cGUtY2hlY2tpbmcuXG4gICAqXG4gICAqICAgICAvLyBCeSBkZWZhdWx0IHRoZXNlIGtleXMgd2lsbCBub3QgdGhyb3cgYW4gZXJyb3IgaWYgdGhleSBkbyBub3QgZXhpc3Qgb24gdGhlIGFzc2VydGlvbiBvYmplY3RcbiAgICogICAgIGNoYWkuY29uZmlnLnByb3h5RXhjbHVkZWRLZXlzID0gWyd0aGVuJywgJ2luc3BlY3QnXTtcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgcHJveHlFeGNsdWRlZEtleXM6IFsndGhlbicsICdjYXRjaCcsICdpbnNwZWN0JywgJ3RvSlNPTiddXG59O1xuIiwiLyohXG4gKiBjaGFpXG4gKiBodHRwOi8vY2hhaWpzLmNvbVxuICogQ29weXJpZ2h0KGMpIDIwMTEtMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfY2hhaSwgdXRpbCkge1xuICAvKiFcbiAgICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAgICovXG5cbiAgdmFyIEFzc2VydGlvbkVycm9yID0gX2NoYWkuQXNzZXJ0aW9uRXJyb3JcbiAgICAsIGZsYWcgPSB1dGlsLmZsYWc7XG5cbiAgLyohXG4gICAqIE1vZHVsZSBleHBvcnQuXG4gICAqL1xuXG4gIF9jaGFpLkFzc2VydGlvbiA9IEFzc2VydGlvbjtcblxuICAvKiFcbiAgICogQXNzZXJ0aW9uIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIENyZWF0ZXMgb2JqZWN0IGZvciBjaGFpbmluZy5cbiAgICpcbiAgICogYEFzc2VydGlvbmAgb2JqZWN0cyBjb250YWluIG1ldGFkYXRhIGluIHRoZSBmb3JtIG9mIGZsYWdzLiBUaHJlZSBmbGFncyBjYW5cbiAgICogYmUgYXNzaWduZWQgZHVyaW5nIGluc3RhbnRpYXRpb24gYnkgcGFzc2luZyBhcmd1bWVudHMgdG8gdGhpcyBjb25zdHJ1Y3RvcjpcbiAgICpcbiAgICogLSBgb2JqZWN0YDogVGhpcyBmbGFnIGNvbnRhaW5zIHRoZSB0YXJnZXQgb2YgdGhlIGFzc2VydGlvbi4gRm9yIGV4YW1wbGUsIGluXG4gICAqICAgdGhlIGFzc2VydGlvbiBgZXhwZWN0KG51bUtpdHRlbnMpLnRvLmVxdWFsKDcpO2AsIHRoZSBgb2JqZWN0YCBmbGFnIHdpbGxcbiAgICogICBjb250YWluIGBudW1LaXR0ZW5zYCBzbyB0aGF0IHRoZSBgZXF1YWxgIGFzc2VydGlvbiBjYW4gcmVmZXJlbmNlIGl0IHdoZW5cbiAgICogICBuZWVkZWQuXG4gICAqXG4gICAqIC0gYG1lc3NhZ2VgOiBUaGlzIGZsYWcgY29udGFpbnMgYW4gb3B0aW9uYWwgY3VzdG9tIGVycm9yIG1lc3NhZ2UgdG8gYmVcbiAgICogICBwcmVwZW5kZWQgdG8gdGhlIGVycm9yIG1lc3NhZ2UgdGhhdCdzIGdlbmVyYXRlZCBieSB0aGUgYXNzZXJ0aW9uIHdoZW4gaXRcbiAgICogICBmYWlscy5cbiAgICpcbiAgICogLSBgc3NmaWA6IFRoaXMgZmxhZyBzdGFuZHMgZm9yIFwic3RhcnQgc3RhY2sgZnVuY3Rpb24gaW5kaWNhdG9yXCIuIEl0XG4gICAqICAgY29udGFpbnMgYSBmdW5jdGlvbiByZWZlcmVuY2UgdGhhdCBzZXJ2ZXMgYXMgdGhlIHN0YXJ0aW5nIHBvaW50IGZvclxuICAgKiAgIHJlbW92aW5nIGZyYW1lcyBmcm9tIHRoZSBzdGFjayB0cmFjZSBvZiB0aGUgZXJyb3IgdGhhdCdzIGNyZWF0ZWQgYnkgdGhlXG4gICAqICAgYXNzZXJ0aW9uIHdoZW4gaXQgZmFpbHMuIFRoZSBnb2FsIGlzIHRvIHByb3ZpZGUgYSBjbGVhbmVyIHN0YWNrIHRyYWNlIHRvXG4gICAqICAgZW5kIHVzZXJzIGJ5IHJlbW92aW5nIENoYWkncyBpbnRlcm5hbCBmdW5jdGlvbnMuIE5vdGUgdGhhdCBpdCBvbmx5IHdvcmtzXG4gICAqICAgaW4gZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2VgLCBhbmQgb25seSB3aGVuXG4gICAqICAgYENoYWkuY29uZmlnLmluY2x1ZGVTdGFja2AgaGFzbid0IGJlZW4gc2V0IHRvIGBmYWxzZWAuXG4gICAqXG4gICAqIC0gYGxvY2tTc2ZpYDogVGhpcyBmbGFnIGNvbnRyb2xzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBgc3NmaWAgZmxhZ1xuICAgKiAgIHNob3VsZCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWUsIGV2ZW4gYXMgYXNzZXJ0aW9ucyBhcmUgY2hhaW5lZCBvZmYgb2ZcbiAgICogICB0aGlzIG9iamVjdC4gVGhpcyBpcyB1c3VhbGx5IHNldCB0byBgdHJ1ZWAgd2hlbiBjcmVhdGluZyBhIG5ldyBhc3NlcnRpb25cbiAgICogICBmcm9tIHdpdGhpbiBhbm90aGVyIGFzc2VydGlvbi4gSXQncyBhbHNvIHRlbXBvcmFyaWx5IHNldCB0byBgdHJ1ZWAgYmVmb3JlXG4gICAqICAgYW4gb3ZlcndyaXR0ZW4gYXNzZXJ0aW9uIGdldHMgY2FsbGVkIGJ5IHRoZSBvdmVyd3JpdGluZyBhc3NlcnRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iaiB0YXJnZXQgb2YgdGhlIGFzc2VydGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIChvcHRpb25hbCkgY3VzdG9tIGVycm9yIG1lc3NhZ2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3NmaSAob3B0aW9uYWwpIHN0YXJ0aW5nIHBvaW50IGZvciByZW1vdmluZyBzdGFjayBmcmFtZXNcbiAgICogQHBhcmFtIHtCb29sZWFufSBsb2NrU3NmaSAob3B0aW9uYWwpIHdoZXRoZXIgb3Igbm90IHRoZSBzc2ZpIGZsYWcgaXMgbG9ja2VkXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBBc3NlcnRpb24gKG9iaiwgbXNnLCBzc2ZpLCBsb2NrU3NmaSkge1xuICAgIGZsYWcodGhpcywgJ3NzZmknLCBzc2ZpIHx8IEFzc2VydGlvbik7XG4gICAgZmxhZyh0aGlzLCAnbG9ja1NzZmknLCBsb2NrU3NmaSk7XG4gICAgZmxhZyh0aGlzLCAnb2JqZWN0Jywgb2JqKTtcbiAgICBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcblxuICAgIHJldHVybiB1dGlsLnByb3hpZnkodGhpcyk7XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXNzZXJ0aW9uLCAnaW5jbHVkZVN0YWNrJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Fzc2VydGlvbi5pbmNsdWRlU3RhY2sgaXMgZGVwcmVjYXRlZCwgdXNlIGNoYWkuY29uZmlnLmluY2x1ZGVTdGFjayBpbnN0ZWFkLicpO1xuICAgICAgcmV0dXJuIGNvbmZpZy5pbmNsdWRlU3RhY2s7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Fzc2VydGlvbi5pbmNsdWRlU3RhY2sgaXMgZGVwcmVjYXRlZCwgdXNlIGNoYWkuY29uZmlnLmluY2x1ZGVTdGFjayBpbnN0ZWFkLicpO1xuICAgICAgY29uZmlnLmluY2x1ZGVTdGFjayA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFzc2VydGlvbiwgJ3Nob3dEaWZmJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Fzc2VydGlvbi5zaG93RGlmZiBpcyBkZXByZWNhdGVkLCB1c2UgY2hhaS5jb25maWcuc2hvd0RpZmYgaW5zdGVhZC4nKTtcbiAgICAgIHJldHVybiBjb25maWcuc2hvd0RpZmY7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Fzc2VydGlvbi5zaG93RGlmZiBpcyBkZXByZWNhdGVkLCB1c2UgY2hhaS5jb25maWcuc2hvd0RpZmYgaW5zdGVhZC4nKTtcbiAgICAgIGNvbmZpZy5zaG93RGlmZiA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5ID0gZnVuY3Rpb24gKG5hbWUsIGZuKSB7XG4gICAgdXRpbC5hZGRQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZm4pO1xuICB9O1xuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QgPSBmdW5jdGlvbiAobmFtZSwgZm4pIHtcbiAgICB1dGlsLmFkZE1ldGhvZCh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZm4pO1xuICB9O1xuXG4gIEFzc2VydGlvbi5hZGRDaGFpbmFibGVNZXRob2QgPSBmdW5jdGlvbiAobmFtZSwgZm4sIGNoYWluaW5nQmVoYXZpb3IpIHtcbiAgICB1dGlsLmFkZENoYWluYWJsZU1ldGhvZCh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZm4sIGNoYWluaW5nQmVoYXZpb3IpO1xuICB9O1xuXG4gIEFzc2VydGlvbi5vdmVyd3JpdGVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChuYW1lLCBmbikge1xuICAgIHV0aWwub3ZlcndyaXRlUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIGZuKTtcbiAgfTtcblxuICBBc3NlcnRpb24ub3ZlcndyaXRlTWV0aG9kID0gZnVuY3Rpb24gKG5hbWUsIGZuKSB7XG4gICAgdXRpbC5vdmVyd3JpdGVNZXRob2QodGhpcy5wcm90b3R5cGUsIG5hbWUsIGZuKTtcbiAgfTtcblxuICBBc3NlcnRpb24ub3ZlcndyaXRlQ2hhaW5hYmxlTWV0aG9kID0gZnVuY3Rpb24gKG5hbWUsIGZuLCBjaGFpbmluZ0JlaGF2aW9yKSB7XG4gICAgdXRpbC5vdmVyd3JpdGVDaGFpbmFibGVNZXRob2QodGhpcy5wcm90b3R5cGUsIG5hbWUsIGZuLCBjaGFpbmluZ0JlaGF2aW9yKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5hc3NlcnQoZXhwcmVzc2lvbiwgbWVzc2FnZSwgbmVnYXRlTWVzc2FnZSwgZXhwZWN0ZWQsIGFjdHVhbCwgc2hvd0RpZmYpXG4gICAqXG4gICAqIEV4ZWN1dGVzIGFuIGV4cHJlc3Npb24gYW5kIGNoZWNrIGV4cGVjdGF0aW9ucy4gVGhyb3dzIEFzc2VydGlvbkVycm9yIGZvciByZXBvcnRpbmcgaWYgdGVzdCBkb2Vzbid0IHBhc3MuXG4gICAqXG4gICAqIEBuYW1lIGFzc2VydFxuICAgKiBAcGFyYW0ge1BoaWxvc29waGljYWx9IGV4cHJlc3Npb24gdG8gYmUgdGVzdGVkXG4gICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBtZXNzYWdlIG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBtZXNzYWdlIHRvIGRpc3BsYXkgaWYgZXhwcmVzc2lvbiBmYWlsc1xuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gbmVnYXRlZE1lc3NhZ2Ugb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIG5lZ2F0ZWRNZXNzYWdlIHRvIGRpc3BsYXkgaWYgbmVnYXRlZCBleHByZXNzaW9uIGZhaWxzXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGV4cGVjdGVkIHZhbHVlIChyZW1lbWJlciB0byBjaGVjayBmb3IgbmVnYXRpb24pXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbCAob3B0aW9uYWwpIHdpbGwgZGVmYXVsdCB0byBgdGhpcy5vYmpgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2hvd0RpZmYgKG9wdGlvbmFsKSB3aGVuIHNldCB0byBgdHJ1ZWAsIGFzc2VydCB3aWxsIGRpc3BsYXkgYSBkaWZmIGluIGFkZGl0aW9uIHRvIHRoZSBtZXNzYWdlIGlmIGV4cHJlc3Npb24gZmFpbHNcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIEFzc2VydGlvbi5wcm90b3R5cGUuYXNzZXJ0ID0gZnVuY3Rpb24gKGV4cHIsIG1zZywgbmVnYXRlTXNnLCBleHBlY3RlZCwgX2FjdHVhbCwgc2hvd0RpZmYpIHtcbiAgICB2YXIgb2sgPSB1dGlsLnRlc3QodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoZmFsc2UgIT09IHNob3dEaWZmKSBzaG93RGlmZiA9IHRydWU7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gZXhwZWN0ZWQgJiYgdW5kZWZpbmVkID09PSBfYWN0dWFsKSBzaG93RGlmZiA9IGZhbHNlO1xuICAgIGlmICh0cnVlICE9PSBjb25maWcuc2hvd0RpZmYpIHNob3dEaWZmID0gZmFsc2U7XG5cbiAgICBpZiAoIW9rKSB7XG4gICAgICBtc2cgPSB1dGlsLmdldE1lc3NhZ2UodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHZhciBhY3R1YWwgPSB1dGlsLmdldEFjdHVhbCh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKG1zZywge1xuICAgICAgICAgIGFjdHVhbDogYWN0dWFsXG4gICAgICAgICwgZXhwZWN0ZWQ6IGV4cGVjdGVkXG4gICAgICAgICwgc2hvd0RpZmY6IHNob3dEaWZmXG4gICAgICB9LCAoY29uZmlnLmluY2x1ZGVTdGFjaykgPyB0aGlzLmFzc2VydCA6IGZsYWcodGhpcywgJ3NzZmknKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qIVxuICAgKiAjIyMgLl9vYmpcbiAgICpcbiAgICogUXVpY2sgcmVmZXJlbmNlIHRvIHN0b3JlZCBgYWN0dWFsYCB2YWx1ZSBmb3IgcGx1Z2luIGRldmVsb3BlcnMuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXNzZXJ0aW9uLnByb3RvdHlwZSwgJ19vYmonLFxuICAgIHsgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbGFnKHRoaXMsICdvYmplY3QnKTtcbiAgICAgIH1cbiAgICAsIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICBmbGFnKHRoaXMsICdvYmplY3QnLCB2YWwpO1xuICAgICAgfVxuICB9KTtcbn07XG4iLCIvKiFcbiAqIGNoYWlcbiAqIGh0dHA6Ly9jaGFpanMuY29tXG4gKiBDb3B5cmlnaHQoYykgMjAxMS0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY2hhaSwgXykge1xuICB2YXIgQXNzZXJ0aW9uID0gY2hhaS5Bc3NlcnRpb25cbiAgICAsIEFzc2VydGlvbkVycm9yID0gY2hhaS5Bc3NlcnRpb25FcnJvclxuICAgICwgZmxhZyA9IF8uZmxhZztcblxuICAvKipcbiAgICogIyMjIExhbmd1YWdlIENoYWluc1xuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIGFyZSBwcm92aWRlZCBhcyBjaGFpbmFibGUgZ2V0dGVycyB0byBpbXByb3ZlIHRoZSByZWFkYWJpbGl0eVxuICAgKiBvZiB5b3VyIGFzc2VydGlvbnMuXG4gICAqXG4gICAqICoqQ2hhaW5zKipcbiAgICpcbiAgICogLSB0b1xuICAgKiAtIGJlXG4gICAqIC0gYmVlblxuICAgKiAtIGlzXG4gICAqIC0gdGhhdFxuICAgKiAtIHdoaWNoXG4gICAqIC0gYW5kXG4gICAqIC0gaGFzXG4gICAqIC0gaGF2ZVxuICAgKiAtIHdpdGhcbiAgICogLSBhdFxuICAgKiAtIG9mXG4gICAqIC0gc2FtZVxuICAgKiAtIGJ1dFxuICAgKiAtIGRvZXNcbiAgICogLSBzdGlsbFxuICAgKlxuICAgKiBAbmFtZSBsYW5ndWFnZSBjaGFpbnNcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgWyAndG8nLCAnYmUnLCAnYmVlbicsICdpcydcbiAgLCAnYW5kJywgJ2hhcycsICdoYXZlJywgJ3dpdGgnXG4gICwgJ3RoYXQnLCAnd2hpY2gnLCAnYXQnLCAnb2YnXG4gICwgJ3NhbWUnLCAnYnV0JywgJ2RvZXMnLCAnc3RpbGwnIF0uZm9yRWFjaChmdW5jdGlvbiAoY2hhaW4pIHtcbiAgICBBc3NlcnRpb24uYWRkUHJvcGVydHkoY2hhaW4pO1xuICB9KTtcblxuICAvKipcbiAgICogIyMjIC5ub3RcbiAgICpcbiAgICogTmVnYXRlcyBhbGwgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4uXG4gICAqXG4gICAqICAgICBleHBlY3QoZnVuY3Rpb24gKCkge30pLnRvLm5vdC50aHJvdygpO1xuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8ubm90LmhhdmUucHJvcGVydHkoJ2InKTtcbiAgICogICAgIGV4cGVjdChbMSwgMl0pLnRvLmJlLmFuKCdhcnJheScpLnRoYXQuZG9lcy5ub3QuaW5jbHVkZSgzKTtcbiAgICpcbiAgICogSnVzdCBiZWNhdXNlIHlvdSBjYW4gbmVnYXRlIGFueSBhc3NlcnRpb24gd2l0aCBgLm5vdGAgZG9lc24ndCBtZWFuIHlvdVxuICAgKiBzaG91bGQuIFdpdGggZ3JlYXQgcG93ZXIgY29tZXMgZ3JlYXQgcmVzcG9uc2liaWxpdHkuIEl0J3Mgb2Z0ZW4gYmVzdCB0b1xuICAgKiBhc3NlcnQgdGhhdCB0aGUgb25lIGV4cGVjdGVkIG91dHB1dCB3YXMgcHJvZHVjZWQsIHJhdGhlciB0aGFuIGFzc2VydGluZ1xuICAgKiB0aGF0IG9uZSBvZiBjb3VudGxlc3MgdW5leHBlY3RlZCBvdXRwdXRzIHdhc24ndCBwcm9kdWNlZC4gU2VlIGluZGl2aWR1YWxcbiAgICogYXNzZXJ0aW9ucyBmb3Igc3BlY2lmaWMgZ3VpZGFuY2UuXG4gICAqXG4gICAqICAgICBleHBlY3QoMikudG8uZXF1YWwoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMikudG8ubm90LmVxdWFsKDEpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQG5hbWUgbm90XG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnbm90JywgZnVuY3Rpb24gKCkge1xuICAgIGZsYWcodGhpcywgJ25lZ2F0ZScsIHRydWUpO1xuICB9KTtcblxuICAvKipcbiAgICogIyMjIC5kZWVwXG4gICAqXG4gICAqIENhdXNlcyBhbGwgYC5lcXVhbGAsIGAuaW5jbHVkZWAsIGAubWVtYmVyc2AsIGAua2V5c2AsIGFuZCBgLnByb3BlcnR5YFxuICAgKiBhc3NlcnRpb25zIHRoYXQgZm9sbG93IGluIHRoZSBjaGFpbiB0byB1c2UgZGVlcCBlcXVhbGl0eSBpbnN0ZWFkIG9mIHN0cmljdFxuICAgKiAoYD09PWApIGVxdWFsaXR5LiBTZWUgdGhlIGBkZWVwLWVxbGAgcHJvamVjdCBwYWdlIGZvciBpbmZvIG9uIHRoZSBkZWVwXG4gICAqIGVxdWFsaXR5IGFsZ29yaXRobTogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBvYmplY3QgZGVlcGx5IChidXQgbm90IHN0cmljdGx5KSBlcXVhbHMgYHthOiAxfWBcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmRlZXAuZXF1YWwoe2E6IDF9KTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLm5vdC5lcXVhbCh7YTogMX0pO1xuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IGFycmF5IGRlZXBseSAoYnV0IG5vdCBzdHJpY3RseSkgaW5jbHVkZXMgYHthOiAxfWBcbiAgICogICAgIGV4cGVjdChbe2E6IDF9XSkudG8uZGVlcC5pbmNsdWRlKHthOiAxfSk7XG4gICAqICAgICBleHBlY3QoW3thOiAxfV0pLnRvLm5vdC5pbmNsdWRlKHthOiAxfSk7XG4gICAqXG4gICAqICAgICAvLyBUYXJnZXQgb2JqZWN0IGRlZXBseSAoYnV0IG5vdCBzdHJpY3RseSkgaW5jbHVkZXMgYHg6IHthOiAxfWBcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8uZGVlcC5pbmNsdWRlKHt4OiB7YTogMX19KTtcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8ubm90LmluY2x1ZGUoe3g6IHthOiAxfX0pO1xuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IGFycmF5IGRlZXBseSAoYnV0IG5vdCBzdHJpY3RseSkgaGFzIG1lbWJlciBge2E6IDF9YFxuICAgKiAgICAgZXhwZWN0KFt7YTogMX1dKS50by5oYXZlLmRlZXAubWVtYmVycyhbe2E6IDF9XSk7XG4gICAqICAgICBleHBlY3QoW3thOiAxfV0pLnRvLm5vdC5oYXZlLm1lbWJlcnMoW3thOiAxfV0pO1xuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IHNldCBkZWVwbHkgKGJ1dCBub3Qgc3RyaWN0bHkpIGhhcyBrZXkgYHthOiAxfWBcbiAgICogICAgIGV4cGVjdChuZXcgU2V0KFt7YTogMX1dKSkudG8uaGF2ZS5kZWVwLmtleXMoW3thOiAxfV0pO1xuICAgKiAgICAgZXhwZWN0KG5ldyBTZXQoW3thOiAxfV0pKS50by5ub3QuaGF2ZS5rZXlzKFt7YTogMX1dKTtcbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBvYmplY3QgZGVlcGx5IChidXQgbm90IHN0cmljdGx5KSBoYXMgcHJvcGVydHkgYHg6IHthOiAxfWBcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8uaGF2ZS5kZWVwLnByb3BlcnR5KCd4Jywge2E6IDF9KTtcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8ubm90LmhhdmUucHJvcGVydHkoJ3gnLCB7YTogMX0pO1xuICAgKlxuICAgKiBAbmFtZSBkZWVwXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnZGVlcCcsIGZ1bmN0aW9uICgpIHtcbiAgICBmbGFnKHRoaXMsICdkZWVwJywgdHJ1ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLm5lc3RlZFxuICAgKlxuICAgKiBFbmFibGVzIGRvdC0gYW5kIGJyYWNrZXQtbm90YXRpb24gaW4gYWxsIGAucHJvcGVydHlgIGFuZCBgLmluY2x1ZGVgXG4gICAqIGFzc2VydGlvbnMgdGhhdCBmb2xsb3cgaW4gdGhlIGNoYWluLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiB7YjogWyd4JywgJ3knXX19KS50by5oYXZlLm5lc3RlZC5wcm9wZXJ0eSgnYS5iWzFdJyk7XG4gICAqICAgICBleHBlY3Qoe2E6IHtiOiBbJ3gnLCAneSddfX0pLnRvLm5lc3RlZC5pbmNsdWRlKHsnYS5iWzFdJzogJ3knfSk7XG4gICAqXG4gICAqIElmIGAuYCBvciBgW11gIGFyZSBwYXJ0IG9mIGFuIGFjdHVhbCBwcm9wZXJ0eSBuYW1lLCB0aGV5IGNhbiBiZSBlc2NhcGVkIGJ5XG4gICAqIGFkZGluZyB0d28gYmFja3NsYXNoZXMgYmVmb3JlIHRoZW0uXG4gICAqXG4gICAqICAgICBleHBlY3QoeycuYSc6IHsnW2JdJzogJ3gnfX0pLnRvLmhhdmUubmVzdGVkLnByb3BlcnR5KCdcXFxcLmEuXFxcXFtiXFxcXF0nKTtcbiAgICogICAgIGV4cGVjdCh7Jy5hJzogeydbYl0nOiAneCd9fSkudG8ubmVzdGVkLmluY2x1ZGUoeydcXFxcLmEuXFxcXFtiXFxcXF0nOiAneCd9KTtcbiAgICpcbiAgICogYC5uZXN0ZWRgIGNhbm5vdCBiZSBjb21iaW5lZCB3aXRoIGAub3duYC5cbiAgICpcbiAgICogQG5hbWUgbmVzdGVkXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnbmVzdGVkJywgZnVuY3Rpb24gKCkge1xuICAgIGZsYWcodGhpcywgJ25lc3RlZCcsIHRydWUpO1xuICB9KTtcblxuICAvKipcbiAgICogIyMjIC5vd25cbiAgICpcbiAgICogQ2F1c2VzIGFsbCBgLnByb3BlcnR5YCBhbmQgYC5pbmNsdWRlYCBhc3NlcnRpb25zIHRoYXQgZm9sbG93IGluIHRoZSBjaGFpblxuICAgKiB0byBpZ25vcmUgaW5oZXJpdGVkIHByb3BlcnRpZXMuXG4gICAqXG4gICAqICAgICBPYmplY3QucHJvdG90eXBlLmIgPSAyO1xuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8uaGF2ZS5vd24ucHJvcGVydHkoJ2EnKTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUucHJvcGVydHkoJ2InKTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLm5vdC5oYXZlLm93bi5wcm9wZXJ0eSgnYicpO1xuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8ub3duLmluY2x1ZGUoe2E6IDF9KTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmluY2x1ZGUoe2I6IDJ9KS5idXQubm90Lm93bi5pbmNsdWRlKHtiOiAyfSk7XG4gICAqXG4gICAqIGAub3duYCBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBgLm5lc3RlZGAuXG4gICAqXG4gICAqIEBuYW1lIG93blxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ293bicsIGZ1bmN0aW9uICgpIHtcbiAgICBmbGFnKHRoaXMsICdvd24nLCB0cnVlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqICMjIyAub3JkZXJlZFxuICAgKlxuICAgKiBDYXVzZXMgYWxsIGAubWVtYmVyc2AgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4gdG8gcmVxdWlyZSB0aGF0XG4gICAqIG1lbWJlcnMgYmUgaW4gdGhlIHNhbWUgb3JkZXIuXG4gICAqXG4gICAqICAgICBleHBlY3QoWzEsIDJdKS50by5oYXZlLm9yZGVyZWQubWVtYmVycyhbMSwgMl0pXG4gICAqICAgICAgIC5idXQubm90LmhhdmUub3JkZXJlZC5tZW1iZXJzKFsyLCAxXSk7XG4gICAqXG4gICAqIFdoZW4gYC5pbmNsdWRlYCBhbmQgYC5vcmRlcmVkYCBhcmUgY29tYmluZWQsIHRoZSBvcmRlcmluZyBiZWdpbnMgYXQgdGhlXG4gICAqIHN0YXJ0IG9mIGJvdGggYXJyYXlzLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaW5jbHVkZS5vcmRlcmVkLm1lbWJlcnMoWzEsIDJdKVxuICAgKiAgICAgICAuYnV0Lm5vdC5pbmNsdWRlLm9yZGVyZWQubWVtYmVycyhbMiwgM10pO1xuICAgKlxuICAgKiBAbmFtZSBvcmRlcmVkXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnb3JkZXJlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBmbGFnKHRoaXMsICdvcmRlcmVkJywgdHJ1ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmFueVxuICAgKlxuICAgKiBDYXVzZXMgYWxsIGAua2V5c2AgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4gdG8gb25seSByZXF1aXJlIHRoYXRcbiAgICogdGhlIHRhcmdldCBoYXZlIGF0IGxlYXN0IG9uZSBvZiB0aGUgZ2l2ZW4ga2V5cy4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUgb2ZcbiAgICogYC5hbGxgLCB3aGljaCByZXF1aXJlcyB0aGF0IHRoZSB0YXJnZXQgaGF2ZSBhbGwgb2YgdGhlIGdpdmVuIGtleXMuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDJ9KS50by5ub3QuaGF2ZS5hbnkua2V5cygnYycsICdkJyk7XG4gICAqXG4gICAqIFNlZSB0aGUgYC5rZXlzYCBkb2MgZm9yIGd1aWRhbmNlIG9uIHdoZW4gdG8gdXNlIGAuYW55YCBvciBgLmFsbGAuXG4gICAqXG4gICAqIEBuYW1lIGFueVxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ2FueScsIGZ1bmN0aW9uICgpIHtcbiAgICBmbGFnKHRoaXMsICdhbnknLCB0cnVlKTtcbiAgICBmbGFnKHRoaXMsICdhbGwnLCBmYWxzZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmFsbFxuICAgKlxuICAgKiBDYXVzZXMgYWxsIGAua2V5c2AgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4gdG8gcmVxdWlyZSB0aGF0IHRoZVxuICAgKiB0YXJnZXQgaGF2ZSBhbGwgb2YgdGhlIGdpdmVuIGtleXMuIFRoaXMgaXMgdGhlIG9wcG9zaXRlIG9mIGAuYW55YCwgd2hpY2hcbiAgICogb25seSByZXF1aXJlcyB0aGF0IHRoZSB0YXJnZXQgaGF2ZSBhdCBsZWFzdCBvbmUgb2YgdGhlIGdpdmVuIGtleXMuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDJ9KS50by5oYXZlLmFsbC5rZXlzKCdhJywgJ2InKTtcbiAgICpcbiAgICogTm90ZSB0aGF0IGAuYWxsYCBpcyB1c2VkIGJ5IGRlZmF1bHQgd2hlbiBuZWl0aGVyIGAuYWxsYCBub3IgYC5hbnlgIGFyZVxuICAgKiBhZGRlZCBlYXJsaWVyIGluIHRoZSBjaGFpbi4gSG93ZXZlciwgaXQncyBvZnRlbiBiZXN0IHRvIGFkZCBgLmFsbGAgYW55d2F5XG4gICAqIGJlY2F1c2UgaXQgaW1wcm92ZXMgcmVhZGFiaWxpdHkuXG4gICAqXG4gICAqIFNlZSB0aGUgYC5rZXlzYCBkb2MgZm9yIGd1aWRhbmNlIG9uIHdoZW4gdG8gdXNlIGAuYW55YCBvciBgLmFsbGAuXG4gICAqXG4gICAqIEBuYW1lIGFsbFxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ2FsbCcsIGZ1bmN0aW9uICgpIHtcbiAgICBmbGFnKHRoaXMsICdhbGwnLCB0cnVlKTtcbiAgICBmbGFnKHRoaXMsICdhbnknLCBmYWxzZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmEodHlwZVssIG1zZ10pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0J3MgdHlwZSBpcyBlcXVhbCB0byB0aGUgZ2l2ZW4gc3RyaW5nIGB0eXBlYC4gVHlwZXNcbiAgICogYXJlIGNhc2UgaW5zZW5zaXRpdmUuIFNlZSB0aGUgYHR5cGUtZGV0ZWN0YCBwcm9qZWN0IHBhZ2UgZm9yIGluZm8gb24gdGhlXG4gICAqIHR5cGUgZGV0ZWN0aW9uIGFsZ29yaXRobTogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy90eXBlLWRldGVjdC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgnZm9vJykudG8uYmUuYSgnc3RyaW5nJyk7XG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAqICAgICBleHBlY3QobnVsbCkudG8uYmUuYSgnbnVsbCcpO1xuICAgKiAgICAgZXhwZWN0KHVuZGVmaW5lZCkudG8uYmUuYW4oJ3VuZGVmaW5lZCcpO1xuICAgKiAgICAgZXhwZWN0KG5ldyBFcnJvcikudG8uYmUuYW4oJ2Vycm9yJyk7XG4gICAqICAgICBleHBlY3QoUHJvbWlzZS5yZXNvbHZlKCkpLnRvLmJlLmEoJ3Byb21pc2UnKTtcbiAgICogICAgIGV4cGVjdChuZXcgRmxvYXQzMkFycmF5KS50by5iZS5hKCdmbG9hdDMyYXJyYXknKTtcbiAgICogICAgIGV4cGVjdChTeW1ib2woKSkudG8uYmUuYSgnc3ltYm9sJyk7XG4gICAqXG4gICAqIGAuYWAgc3VwcG9ydHMgb2JqZWN0cyB0aGF0IGhhdmUgYSBjdXN0b20gdHlwZSBzZXQgdmlhIGBTeW1ib2wudG9TdHJpbmdUYWdgLlxuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge1xuICAgKiAgICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ215Q3VzdG9tVHlwZSdcbiAgICogICAgIH07XG4gICAqXG4gICAqICAgICBleHBlY3QobXlPYmopLnRvLmJlLmEoJ215Q3VzdG9tVHlwZScpLmJ1dC5ub3QuYW4oJ29iamVjdCcpO1xuICAgKlxuICAgKiBJdCdzIG9mdGVuIGJlc3QgdG8gdXNlIGAuYWAgdG8gY2hlY2sgYSB0YXJnZXQncyB0eXBlIGJlZm9yZSBtYWtpbmcgbW9yZVxuICAgKiBhc3NlcnRpb25zIG9uIHRoZSBzYW1lIHRhcmdldC4gVGhhdCB3YXksIHlvdSBhdm9pZCB1bmV4cGVjdGVkIGJlaGF2aW9yIGZyb21cbiAgICogYW55IGFzc2VydGlvbiB0aGF0IGRvZXMgZGlmZmVyZW50IHRoaW5ncyBiYXNlZCBvbiB0aGUgdGFyZ2V0J3MgdHlwZS5cbiAgICpcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmJlLmFuKCdhcnJheScpLnRoYXQuaW5jbHVkZXMoMik7XG4gICAqICAgICBleHBlY3QoW10pLnRvLmJlLmFuKCdhcnJheScpLnRoYXQuaXMuZW1wdHk7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuYWAuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW4gYmVzdCB0b1xuICAgKiBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIHRoZSBleHBlY3RlZCB0eXBlLCByYXRoZXIgdGhhbiBhc3NlcnRpbmcgdGhhdCBpdFxuICAgKiBpc24ndCBvbmUgb2YgbWFueSB1bmV4cGVjdGVkIHR5cGVzLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5iZS5hKCdzdHJpbmcnKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgnZm9vJykudG8ubm90LmJlLmFuKCdhcnJheScpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5hYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yIG1lc3NhZ2UgdG9cbiAgICogc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzIHRoZSBzZWNvbmRcbiAgICogYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uYmUuYSgnc3RyaW5nJywgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KDEsICdub29vIHdoeSBmYWlsPz8nKS50by5iZS5hKCdzdHJpbmcnKTtcbiAgICpcbiAgICogYC5hYCBjYW4gYWxzbyBiZSB1c2VkIGFzIGEgbGFuZ3VhZ2UgY2hhaW4gdG8gaW1wcm92ZSB0aGUgcmVhZGFiaWxpdHkgb2ZcbiAgICogeW91ciBhc3NlcnRpb25zLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHtiOiAyfSkudG8uaGF2ZS5hLnByb3BlcnR5KCdiJyk7XG4gICAqXG4gICAqIFRoZSBhbGlhcyBgLmFuYCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLmFgLlxuICAgKlxuICAgKiBAbmFtZSBhXG4gICAqIEBhbGlhcyBhblxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gYW4gKHR5cGUsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIGFydGljbGUgPSB+WyAnYScsICdlJywgJ2knLCAnbycsICd1JyBdLmluZGV4T2YodHlwZS5jaGFyQXQoMCkpID8gJ2FuICcgOiAnYSAnO1xuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIHR5cGUgPT09IF8udHlwZShvYmopLnRvTG93ZXJDYXNlKClcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgJyArIGFydGljbGUgKyB0eXBlXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IG5vdCB0byBiZSAnICsgYXJ0aWNsZSArIHR5cGVcbiAgICApO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZENoYWluYWJsZU1ldGhvZCgnYW4nLCBhbik7XG4gIEFzc2VydGlvbi5hZGRDaGFpbmFibGVNZXRob2QoJ2EnLCBhbik7XG5cbiAgLyoqXG4gICAqICMjIyAuaW5jbHVkZSh2YWxbLCBtc2ddKVxuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgYSBzdHJpbmcsIGAuaW5jbHVkZWAgYXNzZXJ0cyB0aGF0IHRoZSBnaXZlbiBzdHJpbmcgYHZhbGBcbiAgICogaXMgYSBzdWJzdHJpbmcgb2YgdGhlIHRhcmdldC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgnZm9vYmFyJykudG8uaW5jbHVkZSgnZm9vJyk7XG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBhbiBhcnJheSwgYC5pbmNsdWRlYCBhc3NlcnRzIHRoYXQgdGhlIGdpdmVuIGB2YWxgIGlzIGFcbiAgICogbWVtYmVyIG9mIHRoZSB0YXJnZXQuXG4gICAqXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5pbmNsdWRlKDIpO1xuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgYW4gb2JqZWN0LCBgLmluY2x1ZGVgIGFzc2VydHMgdGhhdCB0aGUgZ2l2ZW4gb2JqZWN0XG4gICAqIGB2YWxgJ3MgcHJvcGVydGllcyBhcmUgYSBzdWJzZXQgb2YgdGhlIHRhcmdldCdzIHByb3BlcnRpZXMuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDIsIGM6IDN9KS50by5pbmNsdWRlKHthOiAxLCBiOiAyfSk7XG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBhIFNldCBvciBXZWFrU2V0LCBgLmluY2x1ZGVgIGFzc2VydHMgdGhhdCB0aGUgZ2l2ZW4gYHZhbGAgaXMgYVxuICAgKiBtZW1iZXIgb2YgdGhlIHRhcmdldC4gU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG0gaXMgdXNlZC5cbiAgICpcbiAgICogICAgIGV4cGVjdChuZXcgU2V0KFsxLCAyXSkpLnRvLmluY2x1ZGUoMik7XG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBhIE1hcCwgYC5pbmNsdWRlYCBhc3NlcnRzIHRoYXQgdGhlIGdpdmVuIGB2YWxgIGlzIG9uZSBvZlxuICAgKiB0aGUgdmFsdWVzIG9mIHRoZSB0YXJnZXQuIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtIGlzIHVzZWQuXG4gICAqXG4gICAqICAgICBleHBlY3QobmV3IE1hcChbWydhJywgMV0sIFsnYicsIDJdXSkpLnRvLmluY2x1ZGUoMik7XG4gICAqXG4gICAqIEJlY2F1c2UgYC5pbmNsdWRlYCBkb2VzIGRpZmZlcmVudCB0aGluZ3MgYmFzZWQgb24gdGhlIHRhcmdldCdzIHR5cGUsIGl0J3NcbiAgICogaW1wb3J0YW50IHRvIGNoZWNrIHRoZSB0YXJnZXQncyB0eXBlIGJlZm9yZSB1c2luZyBgLmluY2x1ZGVgLiBTZWUgdGhlIGAuYWBcbiAgICogZG9jIGZvciBpbmZvIG9uIHRlc3RpbmcgYSB0YXJnZXQncyB0eXBlLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uYmUuYW4oJ2FycmF5JykudGhhdC5pbmNsdWRlcygyKTtcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgc3RyaWN0IChgPT09YCkgZXF1YWxpdHkgaXMgdXNlZCB0byBjb21wYXJlIGFycmF5IG1lbWJlcnMgYW5kXG4gICAqIG9iamVjdCBwcm9wZXJ0aWVzLiBBZGQgYC5kZWVwYCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byB1c2UgZGVlcCBlcXVhbGl0eVxuICAgKiBpbnN0ZWFkIChXZWFrU2V0IHRhcmdldHMgYXJlIG5vdCBzdXBwb3J0ZWQpLiBTZWUgdGhlIGBkZWVwLWVxbGAgcHJvamVjdFxuICAgKiBwYWdlIGZvciBpbmZvIG9uIHRoZSBkZWVwIGVxdWFsaXR5IGFsZ29yaXRobTogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBhcnJheSBkZWVwbHkgKGJ1dCBub3Qgc3RyaWN0bHkpIGluY2x1ZGVzIGB7YTogMX1gXG4gICAqICAgICBleHBlY3QoW3thOiAxfV0pLnRvLmRlZXAuaW5jbHVkZSh7YTogMX0pO1xuICAgKiAgICAgZXhwZWN0KFt7YTogMX1dKS50by5ub3QuaW5jbHVkZSh7YTogMX0pO1xuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IG9iamVjdCBkZWVwbHkgKGJ1dCBub3Qgc3RyaWN0bHkpIGluY2x1ZGVzIGB4OiB7YTogMX1gXG4gICAqICAgICBleHBlY3Qoe3g6IHthOiAxfX0pLnRvLmRlZXAuaW5jbHVkZSh7eDoge2E6IDF9fSk7XG4gICAqICAgICBleHBlY3Qoe3g6IHthOiAxfX0pLnRvLm5vdC5pbmNsdWRlKHt4OiB7YTogMX19KTtcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgYWxsIG9mIHRoZSB0YXJnZXQncyBwcm9wZXJ0aWVzIGFyZSBzZWFyY2hlZCB3aGVuIHdvcmtpbmcgd2l0aFxuICAgKiBvYmplY3RzLiBUaGlzIGluY2x1ZGVzIHByb3BlcnRpZXMgdGhhdCBhcmUgaW5oZXJpdGVkIGFuZC9vciBub24tZW51bWVyYWJsZS5cbiAgICogQWRkIGAub3duYCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBleGNsdWRlIHRoZSB0YXJnZXQncyBpbmhlcml0ZWRcbiAgICogcHJvcGVydGllcyBmcm9tIHRoZSBzZWFyY2guXG4gICAqXG4gICAqICAgICBPYmplY3QucHJvdG90eXBlLmIgPSAyO1xuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8ub3duLmluY2x1ZGUoe2E6IDF9KTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmluY2x1ZGUoe2I6IDJ9KS5idXQubm90Lm93bi5pbmNsdWRlKHtiOiAyfSk7XG4gICAqXG4gICAqIE5vdGUgdGhhdCBhIHRhcmdldCBvYmplY3QgaXMgYWx3YXlzIG9ubHkgc2VhcmNoZWQgZm9yIGB2YWxgJ3Mgb3duXG4gICAqIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICpcbiAgICogYC5kZWVwYCBhbmQgYC5vd25gIGNhbiBiZSBjb21iaW5lZC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YToge2I6IDJ9fSkudG8uZGVlcC5vd24uaW5jbHVkZSh7YToge2I6IDJ9fSk7XG4gICAqXG4gICAqIEFkZCBgLm5lc3RlZGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gZW5hYmxlIGRvdC0gYW5kIGJyYWNrZXQtbm90YXRpb24gd2hlblxuICAgKiByZWZlcmVuY2luZyBuZXN0ZWQgcHJvcGVydGllcy5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YToge2I6IFsneCcsICd5J119fSkudG8ubmVzdGVkLmluY2x1ZGUoeydhLmJbMV0nOiAneSd9KTtcbiAgICpcbiAgICogSWYgYC5gIG9yIGBbXWAgYXJlIHBhcnQgb2YgYW4gYWN0dWFsIHByb3BlcnR5IG5hbWUsIHRoZXkgY2FuIGJlIGVzY2FwZWQgYnlcbiAgICogYWRkaW5nIHR3byBiYWNrc2xhc2hlcyBiZWZvcmUgdGhlbS5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7Jy5hJzogeydbYl0nOiAyfX0pLnRvLm5lc3RlZC5pbmNsdWRlKHsnXFxcXC5hLlxcXFxbYlxcXFxdJzogMn0pO1xuICAgKlxuICAgKiBgLmRlZXBgIGFuZCBgLm5lc3RlZGAgY2FuIGJlIGNvbWJpbmVkLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiB7YjogW3tjOiAzfV19fSkudG8uZGVlcC5uZXN0ZWQuaW5jbHVkZSh7J2EuYlswXSc6IHtjOiAzfX0pO1xuICAgKlxuICAgKiBgLm93bmAgYW5kIGAubmVzdGVkYCBjYW5ub3QgYmUgY29tYmluZWQuXG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuaW5jbHVkZWAuXG4gICAqXG4gICAqICAgICBleHBlY3QoJ2Zvb2JhcicpLnRvLm5vdC5pbmNsdWRlKCd0YWNvJyk7XG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5ub3QuaW5jbHVkZSg0KTtcbiAgICpcbiAgICogSG93ZXZlciwgaXQncyBkYW5nZXJvdXMgdG8gbmVnYXRlIGAuaW5jbHVkZWAgd2hlbiB0aGUgdGFyZ2V0IGlzIGFuIG9iamVjdC5cbiAgICogVGhlIHByb2JsZW0gaXMgdGhhdCBpdCBjcmVhdGVzIHVuY2VydGFpbiBleHBlY3RhdGlvbnMgYnkgYXNzZXJ0aW5nIHRoYXQgdGhlXG4gICAqIHRhcmdldCBvYmplY3QgZG9lc24ndCBoYXZlIGFsbCBvZiBgdmFsYCdzIGtleS92YWx1ZSBwYWlycyBidXQgbWF5IG9yIG1heVxuICAgKiBub3QgaGF2ZSBzb21lIG9mIHRoZW0uIEl0J3Mgb2Z0ZW4gYmVzdCB0byBpZGVudGlmeSB0aGUgZXhhY3Qgb3V0cHV0IHRoYXQnc1xuICAgKiBleHBlY3RlZCwgYW5kIHRoZW4gd3JpdGUgYW4gYXNzZXJ0aW9uIHRoYXQgb25seSBhY2NlcHRzIHRoYXQgZXhhY3Qgb3V0cHV0LlxuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgb2JqZWN0IGlzbid0IGV2ZW4gZXhwZWN0ZWQgdG8gaGF2ZSBgdmFsYCdzIGtleXMsIGl0J3NcbiAgICogb2Z0ZW4gYmVzdCB0byBhc3NlcnQgZXhhY3RseSB0aGF0LlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHtjOiAzfSkudG8ubm90LmhhdmUuYW55LmtleXMoJ2EnLCAnYicpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHtjOiAzfSkudG8ubm90LmluY2x1ZGUoe2E6IDEsIGI6IDJ9KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBvYmplY3QgaXMgZXhwZWN0ZWQgdG8gaGF2ZSBgdmFsYCdzIGtleXMsIGl0J3Mgb2Z0ZW4gYmVzdCB0b1xuICAgKiBhc3NlcnQgdGhhdCBlYWNoIG9mIHRoZSBwcm9wZXJ0aWVzIGhhcyBpdHMgZXhwZWN0ZWQgdmFsdWUsIHJhdGhlciB0aGFuXG4gICAqIGFzc2VydGluZyB0aGF0IGVhY2ggcHJvcGVydHkgZG9lc24ndCBoYXZlIG9uZSBvZiBtYW55IHVuZXhwZWN0ZWQgdmFsdWVzLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAzLCBiOiA0fSkudG8uaW5jbHVkZSh7YTogMywgYjogNH0pOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHthOiAzLCBiOiA0fSkudG8ubm90LmluY2x1ZGUoe2E6IDEsIGI6IDJ9KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIGAuaW5jbHVkZWAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvclxuICAgKiBtZXNzYWdlIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhc1xuICAgKiB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaW5jbHVkZSg0LCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uaW5jbHVkZSg0KTtcbiAgICpcbiAgICogYC5pbmNsdWRlYCBjYW4gYWxzbyBiZSB1c2VkIGFzIGEgbGFuZ3VhZ2UgY2hhaW4sIGNhdXNpbmcgYWxsIGAubWVtYmVyc2AgYW5kXG4gICAqIGAua2V5c2AgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4gdG8gcmVxdWlyZSB0aGUgdGFyZ2V0IHRvIGJlIGFcbiAgICogc3VwZXJzZXQgb2YgdGhlIGV4cGVjdGVkIHNldCwgcmF0aGVyIHRoYW4gYW4gaWRlbnRpY2FsIHNldC4gTm90ZSB0aGF0XG4gICAqIGAubWVtYmVyc2AgaWdub3JlcyBkdXBsaWNhdGVzIGluIHRoZSBzdWJzZXQgd2hlbiBgLmluY2x1ZGVgIGlzIGFkZGVkLlxuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IG9iamVjdCdzIGtleXMgYXJlIGEgc3VwZXJzZXQgb2YgWydhJywgJ2InXSBidXQgbm90IGlkZW50aWNhbFxuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyLCBjOiAzfSkudG8uaW5jbHVkZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDIsIGM6IDN9KS50by5ub3QuaGF2ZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqXG4gICAqICAgICAvLyBUYXJnZXQgYXJyYXkgaXMgYSBzdXBlcnNldCBvZiBbMSwgMl0gYnV0IG5vdCBpZGVudGljYWxcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmluY2x1ZGUubWVtYmVycyhbMSwgMl0pO1xuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8ubm90LmhhdmUubWVtYmVycyhbMSwgMl0pO1xuICAgKlxuICAgKiAgICAgLy8gRHVwbGljYXRlcyBpbiB0aGUgc3Vic2V0IGFyZSBpZ25vcmVkXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5pbmNsdWRlLm1lbWJlcnMoWzEsIDIsIDIsIDJdKTtcbiAgICpcbiAgICogTm90ZSB0aGF0IGFkZGluZyBgLmFueWAgZWFybGllciBpbiB0aGUgY2hhaW4gY2F1c2VzIHRoZSBgLmtleXNgIGFzc2VydGlvblxuICAgKiB0byBpZ25vcmUgYC5pbmNsdWRlYC5cbiAgICpcbiAgICogICAgIC8vIEJvdGggYXNzZXJ0aW9ucyBhcmUgaWRlbnRpY2FsXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5pbmNsdWRlLmFueS5rZXlzKCdhJywgJ2InKTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUuYW55LmtleXMoJ2EnLCAnYicpO1xuICAgKlxuICAgKiBUaGUgYWxpYXNlcyBgLmluY2x1ZGVzYCwgYC5jb250YWluYCwgYW5kIGAuY29udGFpbnNgIGNhbiBiZSB1c2VkXG4gICAqIGludGVyY2hhbmdlYWJseSB3aXRoIGAuaW5jbHVkZWAuXG4gICAqXG4gICAqIEBuYW1lIGluY2x1ZGVcbiAgICogQGFsaWFzIGNvbnRhaW5cbiAgICogQGFsaWFzIGluY2x1ZGVzXG4gICAqIEBhbGlhcyBjb250YWluc1xuICAgKiBAcGFyYW0ge01peGVkfSB2YWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIFNhbWVWYWx1ZVplcm8oYSwgYikge1xuICAgIHJldHVybiAoXy5pc05hTihhKSAmJiBfLmlzTmFOKGIpKSB8fCBhID09PSBiO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5jbHVkZUNoYWluaW5nQmVoYXZpb3IgKCkge1xuICAgIGZsYWcodGhpcywgJ2NvbnRhaW5zJywgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbmNsdWRlICh2YWwsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuXG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIG9ialR5cGUgPSBfLnR5cGUob2JqKS50b0xvd2VyQ2FzZSgpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgbmVnYXRlID0gZmxhZyh0aGlzLCAnbmVnYXRlJylcbiAgICAgICwgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKVxuICAgICAgLCBpc0RlZXAgPSBmbGFnKHRoaXMsICdkZWVwJylcbiAgICAgICwgZGVzY3JpcHRvciA9IGlzRGVlcCA/ICdkZWVwICcgOiAnJztcblxuICAgIGZsYWdNc2cgPSBmbGFnTXNnID8gZmxhZ01zZyArICc6ICcgOiAnJztcblxuICAgIHZhciBpbmNsdWRlZCA9IGZhbHNlO1xuXG4gICAgc3dpdGNoIChvYmpUeXBlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICBpbmNsdWRlZCA9IG9iai5pbmRleE9mKHZhbCkgIT09IC0xO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnd2Vha3NldCc6XG4gICAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgICAgICBmbGFnTXNnICsgJ3VuYWJsZSB0byB1c2UgLmRlZXAuaW5jbHVkZSB3aXRoIFdlYWtTZXQnLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3NmaVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmNsdWRlZCA9IG9iai5oYXModmFsKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ21hcCc6XG4gICAgICAgIHZhciBpc0VxbCA9IGlzRGVlcCA/IF8uZXFsIDogU2FtZVZhbHVlWmVybztcbiAgICAgICAgb2JqLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBpbmNsdWRlZCA9IGluY2x1ZGVkIHx8IGlzRXFsKGl0ZW0sIHZhbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpbmNsdWRlZCA9IGluY2x1ZGVkIHx8IF8uZXFsKGl0ZW0sIHZhbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5jbHVkZWQgPSBvYmouaGFzKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICAgIGluY2x1ZGVkID0gb2JqLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBfLmVxbChpdGVtLCB2YWwpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5jbHVkZWQgPSBvYmouaW5kZXhPZih2YWwpICE9PSAtMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gVGhpcyBibG9jayBpcyBmb3IgYXNzZXJ0aW5nIGEgc3Vic2V0IG9mIHByb3BlcnRpZXMgaW4gYW4gb2JqZWN0LlxuICAgICAgICAvLyBgXy5leHBlY3RUeXBlc2AgaXNuJ3QgdXNlZCBoZXJlIGJlY2F1c2UgYC5pbmNsdWRlYCBzaG91bGQgd29yayB3aXRoXG4gICAgICAgIC8vIG9iamVjdHMgd2l0aCBhIGN1c3RvbSBgQEB0b1N0cmluZ1RhZ2AuXG4gICAgICAgIGlmICh2YWwgIT09IE9iamVjdCh2YWwpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKFxuICAgICAgICAgICAgZmxhZ01zZyArICdvYmplY3QgdGVzdGVkIG11c3QgYmUgYW4gYXJyYXksIGEgbWFwLCBhbiBvYmplY3QsJ1xuICAgICAgICAgICAgICArICcgYSBzZXQsIGEgc3RyaW5nLCBvciBhIHdlYWtzZXQsIGJ1dCAnICsgb2JqVHlwZSArICcgZ2l2ZW4nLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3NmaVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvcHMgPSBPYmplY3Qua2V5cyh2YWwpXG4gICAgICAgICAgLCBmaXJzdEVyciA9IG51bGxcbiAgICAgICAgICAsIG51bUVycnMgPSAwO1xuXG4gICAgICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICB2YXIgcHJvcEFzc2VydGlvbiA9IG5ldyBBc3NlcnRpb24ob2JqKTtcbiAgICAgICAgICBfLnRyYW5zZmVyRmxhZ3ModGhpcywgcHJvcEFzc2VydGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgZmxhZyhwcm9wQXNzZXJ0aW9uLCAnbG9ja1NzZmknLCB0cnVlKTtcblxuICAgICAgICAgIGlmICghbmVnYXRlIHx8IHByb3BzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcHJvcEFzc2VydGlvbi5wcm9wZXJ0eShwcm9wLCB2YWxbcHJvcF0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9wQXNzZXJ0aW9uLnByb3BlcnR5KHByb3AsIHZhbFtwcm9wXSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoIV8uY2hlY2tFcnJvci5jb21wYXRpYmxlQ29uc3RydWN0b3IoZXJyLCBBc3NlcnRpb25FcnJvcikpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0RXJyID09PSBudWxsKSBmaXJzdEVyciA9IGVycjtcbiAgICAgICAgICAgIG51bUVycnMrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIC8vIFdoZW4gdmFsaWRhdGluZyAubm90LmluY2x1ZGUgd2l0aCBtdWx0aXBsZSBwcm9wZXJ0aWVzLCB3ZSBvbmx5IHdhbnRcbiAgICAgICAgLy8gdG8gdGhyb3cgYW4gYXNzZXJ0aW9uIGVycm9yIGlmIGFsbCBvZiB0aGUgcHJvcGVydGllcyBhcmUgaW5jbHVkZWQsXG4gICAgICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UgdGhyb3cgdGhlIGZpcnN0IHByb3BlcnR5IGFzc2VydGlvbiBlcnJvciB0aGF0IHdlXG4gICAgICAgIC8vIGVuY291bnRlcmVkLlxuICAgICAgICBpZiAobmVnYXRlICYmIHByb3BzLmxlbmd0aCA+IDEgJiYgbnVtRXJycyA9PT0gcHJvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgZmlyc3RFcnI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFzc2VydCBpbmNsdXNpb24gaW4gY29sbGVjdGlvbiBvciBzdWJzdHJpbmcgaW4gYSBzdHJpbmcuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICBpbmNsdWRlZFxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byAnICsgZGVzY3JpcHRvciArICdpbmNsdWRlICcgKyBfLmluc3BlY3QodmFsKVxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgJyArIGRlc2NyaXB0b3IgKyAnaW5jbHVkZSAnICsgXy5pbnNwZWN0KHZhbCkpO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZENoYWluYWJsZU1ldGhvZCgnaW5jbHVkZScsIGluY2x1ZGUsIGluY2x1ZGVDaGFpbmluZ0JlaGF2aW9yKTtcbiAgQXNzZXJ0aW9uLmFkZENoYWluYWJsZU1ldGhvZCgnY29udGFpbicsIGluY2x1ZGUsIGluY2x1ZGVDaGFpbmluZ0JlaGF2aW9yKTtcbiAgQXNzZXJ0aW9uLmFkZENoYWluYWJsZU1ldGhvZCgnY29udGFpbnMnLCBpbmNsdWRlLCBpbmNsdWRlQ2hhaW5pbmdCZWhhdmlvcik7XG4gIEFzc2VydGlvbi5hZGRDaGFpbmFibGVNZXRob2QoJ2luY2x1ZGVzJywgaW5jbHVkZSwgaW5jbHVkZUNoYWluaW5nQmVoYXZpb3IpO1xuXG4gIC8qKlxuICAgKiAjIyMgLm9rXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGlzIGEgdHJ1dGh5IHZhbHVlIChjb25zaWRlcmVkIGB0cnVlYCBpbiBib29sZWFuIGNvbnRleHQpLlxuICAgKiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBzdHJpY3RseSAoYD09PWApIG9yXG4gICAqIGRlZXBseSBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uZXF1YWwoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMSkudG8uYmUub2s7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KHRydWUpLnRvLmJlLnRydWU7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QodHJ1ZSkudG8uYmUub2s7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLm9rYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgwKS50by5lcXVhbCgwKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgwKS50by5ub3QuYmUub2s7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KGZhbHNlKS50by5iZS5mYWxzZTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChmYWxzZSkudG8ubm90LmJlLm9rOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogICAgIGV4cGVjdChudWxsKS50by5iZS5udWxsOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KG51bGwpLnRvLm5vdC5iZS5vazsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqICAgICBleHBlY3QodW5kZWZpbmVkKS50by5iZS51bmRlZmluZWQ7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QodW5kZWZpbmVkKS50by5ub3QuYmUub2s7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KGZhbHNlLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUub2s7XG4gICAqXG4gICAqIEBuYW1lIG9rXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnb2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIHRydXRoeSdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgZmFsc3knKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqICMjIyAudHJ1ZVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBzdHJpY3RseSAoYD09PWApIGVxdWFsIHRvIGB0cnVlYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh0cnVlKS50by5iZS50cnVlO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLnRydWVgLiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3RcbiAgICogdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUsIHJhdGhlciB0aGFuIG5vdFxuICAgKiBlcXVhbCB0byBgdHJ1ZWAuXG4gICAqXG4gICAqICAgICBleHBlY3QoZmFsc2UpLnRvLmJlLmZhbHNlOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KGZhbHNlKS50by5ub3QuYmUudHJ1ZTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uZXF1YWwoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMSkudG8ubm90LmJlLnRydWU7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KGZhbHNlLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUudHJ1ZTtcbiAgICpcbiAgICogQG5hbWUgdHJ1ZVxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ3RydWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIHRydWUgPT09IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIHRydWUnXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGZhbHNlJ1xuICAgICAgLCBmbGFnKHRoaXMsICduZWdhdGUnKSA/IGZhbHNlIDogdHJ1ZVxuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmZhbHNlXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGlzIHN0cmljdGx5IChgPT09YCkgZXF1YWwgdG8gYGZhbHNlYC5cbiAgICpcbiAgICogICAgIGV4cGVjdChmYWxzZSkudG8uYmUuZmFsc2U7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuZmFsc2VgLiBIb3dldmVyLCBpdCdzIG9mdGVuXG4gICAqIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUsIHJhdGhlciB0aGFuXG4gICAqIG5vdCBlcXVhbCB0byBgZmFsc2VgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHRydWUpLnRvLmJlLnRydWU7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QodHJ1ZSkudG8ubm90LmJlLmZhbHNlOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5lcXVhbCgxKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5ub3QuYmUuZmFsc2U7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHRydWUsICdub29vIHdoeSBmYWlsPz8nKS50by5iZS5mYWxzZTtcbiAgICpcbiAgICogQG5hbWUgZmFsc2VcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdmYWxzZScsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFzc2VydChcbiAgICAgICAgZmFsc2UgPT09IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGZhbHNlJ1xuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSB0cnVlJ1xuICAgICAgLCBmbGFnKHRoaXMsICduZWdhdGUnKSA/IHRydWUgOiBmYWxzZVxuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLm51bGxcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgc3RyaWN0bHkgKGA9PT1gKSBlcXVhbCB0byBgbnVsbGAuXG4gICAqXG4gICAqICAgICBleHBlY3QobnVsbCkudG8uYmUubnVsbDtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5udWxsYC4gSG93ZXZlciwgaXQncyBvZnRlbiBiZXN0XG4gICAqIHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQgaXMgZXF1YWwgdG8gaXRzIGV4cGVjdGVkIHZhbHVlLCByYXRoZXIgdGhhbiBub3RcbiAgICogZXF1YWwgdG8gYG51bGxgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEpLnRvLmVxdWFsKDEpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDEpLnRvLm5vdC5iZS5udWxsOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQSBjdXN0b20gZXJyb3IgbWVzc2FnZSBjYW4gYmUgZ2l2ZW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCg0MiwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLm51bGw7XG4gICAqXG4gICAqIEBuYW1lIG51bGxcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdudWxsJywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBudWxsID09PSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBudWxsJ1xuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSBub3QgdG8gYmUgbnVsbCdcbiAgICApO1xuICB9KTtcblxuICAvKipcbiAgICogIyMjIC51bmRlZmluZWRcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgc3RyaWN0bHkgKGA9PT1gKSBlcXVhbCB0byBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh1bmRlZmluZWQpLnRvLmJlLnVuZGVmaW5lZDtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC51bmRlZmluZWRgLiBIb3dldmVyLCBpdCdzIG9mdGVuXG4gICAqIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUsIHJhdGhlciB0aGFuXG4gICAqIG5vdCBlcXVhbCB0byBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5lcXVhbCgxKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5ub3QuYmUudW5kZWZpbmVkOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQSBjdXN0b20gZXJyb3IgbWVzc2FnZSBjYW4gYmUgZ2l2ZW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCg0MiwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLnVuZGVmaW5lZDtcbiAgICpcbiAgICogQG5hbWUgdW5kZWZpbmVkXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgndW5kZWZpbmVkJywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICB1bmRlZmluZWQgPT09IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIHVuZGVmaW5lZCdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gbm90IHRvIGJlIHVuZGVmaW5lZCdcbiAgICApO1xuICB9KTtcblxuICAvKipcbiAgICogIyMjIC5OYU5cbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgZXhhY3RseSBgTmFOYC5cbiAgICpcbiAgICogICAgIGV4cGVjdChOYU4pLnRvLmJlLk5hTjtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5OYU5gLiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3RcbiAgICogdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUsIHJhdGhlciB0aGFuIG5vdFxuICAgKiBlcXVhbCB0byBgTmFOYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgnZm9vJykudG8uZXF1YWwoJ2ZvbycpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5ub3QuYmUuTmFOOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQSBjdXN0b20gZXJyb3IgbWVzc2FnZSBjYW4gYmUgZ2l2ZW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCg0MiwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLk5hTjtcbiAgICpcbiAgICogQG5hbWUgTmFOXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnTmFOJywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBfLmlzTmFOKGZsYWcodGhpcywgJ29iamVjdCcpKVxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIE5hTidcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSBub3QgdG8gYmUgTmFOJ1xuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmV4aXN0XG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGlzIG5vdCBzdHJpY3RseSAoYD09PWApIGVxdWFsIHRvIGVpdGhlciBgbnVsbGAgb3JcbiAgICogYHVuZGVmaW5lZGAuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW4gYmVzdCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIGVxdWFsIHRvXG4gICAqIGl0cyBleHBlY3RlZCB2YWx1ZS5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5lcXVhbCgxKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5leGlzdDsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqICAgICBleHBlY3QoMCkudG8uZXF1YWwoMCk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMCkudG8uZXhpc3Q7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmV4aXN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdChudWxsKS50by5iZS5udWxsOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KG51bGwpLnRvLm5vdC5leGlzdDsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqICAgICBleHBlY3QodW5kZWZpbmVkKS50by5iZS51bmRlZmluZWQ7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QodW5kZWZpbmVkKS50by5ub3QuZXhpc3Q7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KG51bGwsICdub29vIHdoeSBmYWlsPz8nKS50by5leGlzdDtcbiAgICpcbiAgICogQG5hbWUgZXhpc3RcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdleGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsID0gZmxhZyh0aGlzLCAnb2JqZWN0Jyk7XG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIHZhbCAhPT0gbnVsbCAmJiB2YWwgIT09IHVuZGVmaW5lZFxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBleGlzdCdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGV4aXN0J1xuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmVtcHR5XG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBhIHN0cmluZyBvciBhcnJheSwgYC5lbXB0eWAgYXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQnc1xuICAgKiBgbGVuZ3RoYCBwcm9wZXJ0eSBpcyBzdHJpY3RseSAoYD09PWApIGVxdWFsIHRvIGAwYC5cbiAgICpcbiAgICogICAgIGV4cGVjdChbXSkudG8uYmUuZW1wdHk7XG4gICAqICAgICBleHBlY3QoJycpLnRvLmJlLmVtcHR5O1xuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgYSBtYXAgb3Igc2V0LCBgLmVtcHR5YCBhc3NlcnRzIHRoYXQgdGhlIHRhcmdldCdzIGBzaXplYFxuICAgKiBwcm9wZXJ0eSBpcyBzdHJpY3RseSBlcXVhbCB0byBgMGAuXG4gICAqXG4gICAqICAgICBleHBlY3QobmV3IFNldCgpKS50by5iZS5lbXB0eTtcbiAgICogICAgIGV4cGVjdChuZXcgTWFwKCkpLnRvLmJlLmVtcHR5O1xuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgYSBub24tZnVuY3Rpb24gb2JqZWN0LCBgLmVtcHR5YCBhc3NlcnRzIHRoYXQgdGhlIHRhcmdldFxuICAgKiBkb2Vzbid0IGhhdmUgYW55IG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIFByb3BlcnRpZXMgd2l0aCBTeW1ib2wtYmFzZWRcbiAgICoga2V5cyBhcmUgZXhjbHVkZWQgZnJvbSB0aGUgY291bnQuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe30pLnRvLmJlLmVtcHR5O1xuICAgKlxuICAgKiBCZWNhdXNlIGAuZW1wdHlgIGRvZXMgZGlmZmVyZW50IHRoaW5ncyBiYXNlZCBvbiB0aGUgdGFyZ2V0J3MgdHlwZSwgaXQnc1xuICAgKiBpbXBvcnRhbnQgdG8gY2hlY2sgdGhlIHRhcmdldCdzIHR5cGUgYmVmb3JlIHVzaW5nIGAuZW1wdHlgLiBTZWUgdGhlIGAuYWBcbiAgICogZG9jIGZvciBpbmZvIG9uIHRlc3RpbmcgYSB0YXJnZXQncyB0eXBlLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFtdKS50by5iZS5hbignYXJyYXknKS50aGF0LmlzLmVtcHR5O1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmVtcHR5YC4gSG93ZXZlciwgaXQncyBvZnRlblxuICAgKiBiZXN0IHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQgY29udGFpbnMgaXRzIGV4cGVjdGVkIG51bWJlciBvZiB2YWx1ZXMsXG4gICAqIHJhdGhlciB0aGFuIGFzc2VydGluZyB0aGF0IGl0J3Mgbm90IGVtcHR5LlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5sZW5ndGhPZigzKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLm5vdC5iZS5lbXB0eTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqICAgICBleHBlY3QobmV3IFNldChbMSwgMiwgM10pKS50by5oYXZlLnByb3BlcnR5KCdzaXplJywgMyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QobmV3IFNldChbMSwgMiwgM10pKS50by5ub3QuYmUuZW1wdHk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KE9iamVjdC5rZXlzKHthOiAxfSkpLnRvLmhhdmUubGVuZ3RoT2YoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5ub3QuYmUuZW1wdHk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLmVtcHR5O1xuICAgKlxuICAgKiBAbmFtZSBlbXB0eVxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ2VtcHR5JywgZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWwgPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBzc2ZpID0gZmxhZyh0aGlzLCAnc3NmaScpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgaXRlbXNDb3VudDtcblxuICAgIGZsYWdNc2cgPSBmbGFnTXNnID8gZmxhZ01zZyArICc6ICcgOiAnJztcblxuICAgIHN3aXRjaCAoXy50eXBlKHZhbCkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgaXRlbXNDb3VudCA9IHZhbC5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWFwJzpcbiAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgIGl0ZW1zQ291bnQgPSB2YWwuc2l6ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3ZWFrbWFwJzpcbiAgICAgIGNhc2UgJ3dlYWtzZXQnOlxuICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgICAgZmxhZ01zZyArICcuZW1wdHkgd2FzIHBhc3NlZCBhIHdlYWsgY29sbGVjdGlvbicsXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIHNzZmlcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgdmFyIG1zZyA9IGZsYWdNc2cgKyAnLmVtcHR5IHdhcyBwYXNzZWQgYSBmdW5jdGlvbiAnICsgXy5nZXROYW1lKHZhbCk7XG4gICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihtc2cudHJpbSgpLCB1bmRlZmluZWQsIHNzZmkpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHZhbCAhPT0gT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgICAgICBmbGFnTXNnICsgJy5lbXB0eSB3YXMgcGFzc2VkIG5vbi1zdHJpbmcgcHJpbWl0aXZlICcgKyBfLmluc3BlY3QodmFsKSxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNzZmlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW1zQ291bnQgPSBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aDtcbiAgICB9XG5cbiAgICB0aGlzLmFzc2VydChcbiAgICAgICAgMCA9PT0gaXRlbXNDb3VudFxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBlbXB0eSdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gbm90IHRvIGJlIGVtcHR5J1xuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmFyZ3VtZW50c1xuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAqXG4gICAqICAgICBmdW5jdGlvbiB0ZXN0ICgpIHtcbiAgICogICAgICAgZXhwZWN0KGFyZ3VtZW50cykudG8uYmUuYXJndW1lbnRzO1xuICAgKiAgICAgfVxuICAgKlxuICAgKiAgICAgdGVzdCgpO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmFyZ3VtZW50c2AuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW5cbiAgICogYmVzdCB0byBhc3NlcnQgd2hpY2ggdHlwZSB0aGUgdGFyZ2V0IGlzIGV4cGVjdGVkIHRvIGJlLCByYXRoZXIgdGhhblxuICAgKiBhc3NlcnRpbmcgdGhhdCBpdHMgbm90IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgnZm9vJykudG8uYmUuYSgnc3RyaW5nJyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoJ2ZvbycpLnRvLm5vdC5iZS5hcmd1bWVudHM7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHt9LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUuYXJndW1lbnRzO1xuICAgKlxuICAgKiBUaGUgYWxpYXMgYC5Bcmd1bWVudHNgIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoIGAuYXJndW1lbnRzYC5cbiAgICpcbiAgICogQG5hbWUgYXJndW1lbnRzXG4gICAqIEBhbGlhcyBBcmd1bWVudHNcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gY2hlY2tBcmd1bWVudHMgKCkge1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCB0eXBlID0gXy50eXBlKG9iaik7XG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICdBcmd1bWVudHMnID09PSB0eXBlXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGFyZ3VtZW50cyBidXQgZ290ICcgKyB0eXBlXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBiZSBhcmd1bWVudHMnXG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnYXJndW1lbnRzJywgY2hlY2tBcmd1bWVudHMpO1xuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ0FyZ3VtZW50cycsIGNoZWNrQXJndW1lbnRzKTtcblxuICAvKipcbiAgICogIyMjIC5lcXVhbCh2YWxbLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBzdHJpY3RseSAoYD09PWApIGVxdWFsIHRvIHRoZSBnaXZlbiBgdmFsYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5lcXVhbCgxKTtcbiAgICogICAgIGV4cGVjdCgnZm9vJykudG8uZXF1YWwoJ2ZvbycpO1xuICAgKlxuICAgKiBBZGQgYC5kZWVwYCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byB1c2UgZGVlcCBlcXVhbGl0eSBpbnN0ZWFkLiBTZWUgdGhlXG4gICAqIGBkZWVwLWVxbGAgcHJvamVjdCBwYWdlIGZvciBpbmZvIG9uIHRoZSBkZWVwIGVxdWFsaXR5IGFsZ29yaXRobTpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBvYmplY3QgZGVlcGx5IChidXQgbm90IHN0cmljdGx5KSBlcXVhbHMgYHthOiAxfWBcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmRlZXAuZXF1YWwoe2E6IDF9KTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLm5vdC5lcXVhbCh7YTogMX0pO1xuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IGFycmF5IGRlZXBseSAoYnV0IG5vdCBzdHJpY3RseSkgZXF1YWxzIGBbMSwgMl1gXG4gICAqICAgICBleHBlY3QoWzEsIDJdKS50by5kZWVwLmVxdWFsKFsxLCAyXSk7XG4gICAqICAgICBleHBlY3QoWzEsIDJdKS50by5ub3QuZXF1YWwoWzEsIDJdKTtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5lcXVhbGAuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW5cbiAgICogYmVzdCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIGVxdWFsIHRvIGl0cyBleHBlY3RlZCB2YWx1ZSwgcmF0aGVyIHRoYW5cbiAgICogbm90IGVxdWFsIHRvIG9uZSBvZiBjb3VudGxlc3MgdW5leHBlY3RlZCB2YWx1ZXMuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uZXF1YWwoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMSkudG8ubm90LmVxdWFsKDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5lcXVhbGAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvciBtZXNzYWdlXG4gICAqIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhcyB0aGVcbiAgICogc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEpLnRvLmVxdWFsKDIsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCgxLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uZXF1YWwoMik7XG4gICAqXG4gICAqIFRoZSBhbGlhc2VzIGAuZXF1YWxzYCBhbmQgYGVxYCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLmVxdWFsYC5cbiAgICpcbiAgICogQG5hbWUgZXF1YWxcbiAgICogQGFsaWFzIGVxdWFsc1xuICAgKiBAYWxpYXMgZXFcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBhc3NlcnRFcXVhbCAodmFsLCBtc2cpIHtcbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0Jyk7XG4gICAgaWYgKGZsYWcodGhpcywgJ2RlZXAnKSkge1xuICAgICAgdmFyIHByZXZMb2NrU3NmaSA9IGZsYWcodGhpcywgJ2xvY2tTc2ZpJyk7XG4gICAgICBmbGFnKHRoaXMsICdsb2NrU3NmaScsIHRydWUpO1xuICAgICAgdGhpcy5lcWwodmFsKTtcbiAgICAgIGZsYWcodGhpcywgJ2xvY2tTc2ZpJywgcHJldkxvY2tTc2ZpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgdmFsID09PSBvYmpcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBlcXVhbCAje2V4cH0nXG4gICAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGVxdWFsICN7ZXhwfSdcbiAgICAgICAgLCB2YWxcbiAgICAgICAgLCB0aGlzLl9vYmpcbiAgICAgICAgLCB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2VxdWFsJywgYXNzZXJ0RXF1YWwpO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdlcXVhbHMnLCBhc3NlcnRFcXVhbCk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2VxJywgYXNzZXJ0RXF1YWwpO1xuXG4gIC8qKlxuICAgKiAjIyMgLmVxbChvYmpbLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBkZWVwbHkgZXF1YWwgdG8gdGhlIGdpdmVuIGBvYmpgLiBTZWUgdGhlXG4gICAqIGBkZWVwLWVxbGAgcHJvamVjdCBwYWdlIGZvciBpbmZvIG9uIHRoZSBkZWVwIGVxdWFsaXR5IGFsZ29yaXRobTpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBvYmplY3QgaXMgZGVlcGx5IChidXQgbm90IHN0cmljdGx5KSBlcXVhbCB0byB7YTogMX1cbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmVxbCh7YTogMX0pLmJ1dC5ub3QuZXF1YWwoe2E6IDF9KTtcbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBhcnJheSBpcyBkZWVwbHkgKGJ1dCBub3Qgc3RyaWN0bHkpIGVxdWFsIHRvIFsxLCAyXVxuICAgKiAgICAgZXhwZWN0KFsxLCAyXSkudG8uZXFsKFsxLCAyXSkuYnV0Lm5vdC5lcXVhbChbMSwgMl0pO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmVxbGAuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW4gYmVzdFxuICAgKiB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIGRlZXBseSBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUsIHJhdGhlclxuICAgKiB0aGFuIG5vdCBkZWVwbHkgZXF1YWwgdG8gb25lIG9mIGNvdW50bGVzcyB1bmV4cGVjdGVkIHZhbHVlcy5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmVxbCh7YTogMX0pOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8ubm90LmVxbCh7YjogMn0pOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5lcWxgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3IgbWVzc2FnZVxuICAgKiB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXMgdGhlXG4gICAqIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmVxbCh7YjogMn0sICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0sICdub29vIHdoeSBmYWlsPz8nKS50by5lcWwoe2I6IDJ9KTtcbiAgICpcbiAgICogVGhlIGFsaWFzIGAuZXFsc2AgY2FuIGJlIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IHdpdGggYC5lcWxgLlxuICAgKlxuICAgKiBUaGUgYC5kZWVwLmVxdWFsYCBhc3NlcnRpb24gaXMgYWxtb3N0IGlkZW50aWNhbCB0byBgLmVxbGAgYnV0IHdpdGggb25lXG4gICAqIGRpZmZlcmVuY2U6IGAuZGVlcC5lcXVhbGAgY2F1c2VzIGRlZXAgZXF1YWxpdHkgY29tcGFyaXNvbnMgdG8gYWxzbyBiZSB1c2VkXG4gICAqIGZvciBhbnkgb3RoZXIgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4uXG4gICAqXG4gICAqIEBuYW1lIGVxbFxuICAgKiBAYWxpYXMgZXFsc1xuICAgKiBAcGFyYW0ge01peGVkfSBvYmpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydEVxbChvYmosIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBfLmVxbChvYmosIGZsYWcodGhpcywgJ29iamVjdCcpKVxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBkZWVwbHkgZXF1YWwgI3tleHB9J1xuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgZGVlcGx5IGVxdWFsICN7ZXhwfSdcbiAgICAgICwgb2JqXG4gICAgICAsIHRoaXMuX29ialxuICAgICAgLCB0cnVlXG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2VxbCcsIGFzc2VydEVxbCk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2VxbHMnLCBhc3NlcnRFcWwpO1xuXG4gIC8qKlxuICAgKiAjIyMgLmFib3ZlKG5bLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhIG51bWJlciBvciBhIGRhdGUgZ3JlYXRlciB0aGFuIHRoZSBnaXZlbiBudW1iZXIgb3IgZGF0ZSBgbmAgcmVzcGVjdGl2ZWx5LlxuICAgKiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBlcXVhbCB0byBpdHMgZXhwZWN0ZWRcbiAgICogdmFsdWUuXG4gICAqXG4gICAqICAgICBleHBlY3QoMikudG8uZXF1YWwoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMikudG8uYmUuYWJvdmUoMSk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBZGQgYC5sZW5ndGhPZmAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCdzIGBsZW5ndGhgXG4gICAqIG9yIGBzaXplYCBpcyBncmVhdGVyIHRoYW4gdGhlIGdpdmVuIG51bWJlciBgbmAuXG4gICAqXG4gICAqICAgICBleHBlY3QoJ2ZvbycpLnRvLmhhdmUubGVuZ3RoT2YoMyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoJ2ZvbycpLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMik7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5sZW5ndGhPZigzKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMik7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmFib3ZlYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgyKS50by5lcXVhbCgyKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5ub3QuYmUuYWJvdmUoMik7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBgLmFib3ZlYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yIG1lc3NhZ2VcbiAgICogdG8gc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzIHRoZVxuICAgKiBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uYmUuYWJvdmUoMiwgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KDEsICdub29vIHdoeSBmYWlsPz8nKS50by5iZS5hYm92ZSgyKTtcbiAgICpcbiAgICogVGhlIGFsaWFzZXMgYC5ndGAgYW5kIGAuZ3JlYXRlclRoYW5gIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoXG4gICAqIGAuYWJvdmVgLlxuICAgKlxuICAgKiBAbmFtZSBhYm92ZVxuICAgKiBAYWxpYXMgZ3RcbiAgICogQGFsaWFzIGdyZWF0ZXJUaGFuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBhc3NlcnRBYm92ZSAobiwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIGRvTGVuZ3RoID0gZmxhZyh0aGlzLCAnZG9MZW5ndGgnKVxuICAgICAgLCBmbGFnTXNnID0gZmxhZyh0aGlzLCAnbWVzc2FnZScpXG4gICAgICAsIG1zZ1ByZWZpeCA9ICgoZmxhZ01zZykgPyBmbGFnTXNnICsgJzogJyA6ICcnKVxuICAgICAgLCBzc2ZpID0gZmxhZyh0aGlzLCAnc3NmaScpXG4gICAgICAsIG9ialR5cGUgPSBfLnR5cGUob2JqKS50b0xvd2VyQ2FzZSgpXG4gICAgICAsIG5UeXBlID0gXy50eXBlKG4pLnRvTG93ZXJDYXNlKClcbiAgICAgICwgZXJyb3JNZXNzYWdlXG4gICAgICAsIHNob3VsZFRocm93ID0gdHJ1ZTtcblxuICAgIGlmIChkb0xlbmd0aCAmJiBvYmpUeXBlICE9PSAnbWFwJyAmJiBvYmpUeXBlICE9PSAnc2V0Jykge1xuICAgICAgbmV3IEFzc2VydGlvbihvYmosIGZsYWdNc2csIHNzZmksIHRydWUpLnRvLmhhdmUucHJvcGVydHkoJ2xlbmd0aCcpO1xuICAgIH1cblxuICAgIGlmICghZG9MZW5ndGggJiYgKG9ialR5cGUgPT09ICdkYXRlJyAmJiBuVHlwZSAhPT0gJ2RhdGUnKSkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gbXNnUHJlZml4ICsgJ3RoZSBhcmd1bWVudCB0byBhYm92ZSBtdXN0IGJlIGEgZGF0ZSc7XG4gICAgfSBlbHNlIGlmIChuVHlwZSAhPT0gJ251bWJlcicgJiYgKGRvTGVuZ3RoIHx8IG9ialR5cGUgPT09ICdudW1iZXInKSkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gbXNnUHJlZml4ICsgJ3RoZSBhcmd1bWVudCB0byBhYm92ZSBtdXN0IGJlIGEgbnVtYmVyJztcbiAgICB9IGVsc2UgaWYgKCFkb0xlbmd0aCAmJiAob2JqVHlwZSAhPT0gJ2RhdGUnICYmIG9ialR5cGUgIT09ICdudW1iZXInKSkge1xuICAgICAgdmFyIHByaW50T2JqID0gKG9ialR5cGUgPT09ICdzdHJpbmcnKSA/IFwiJ1wiICsgb2JqICsgXCInXCIgOiBvYmo7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBtc2dQcmVmaXggKyAnZXhwZWN0ZWQgJyArIHByaW50T2JqICsgJyB0byBiZSBhIG51bWJlciBvciBhIGRhdGUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG91bGRUaHJvdyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRUaHJvdykge1xuICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKGVycm9yTWVzc2FnZSwgdW5kZWZpbmVkLCBzc2ZpKTtcbiAgICB9XG5cbiAgICBpZiAoZG9MZW5ndGgpIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gJ2xlbmd0aCdcbiAgICAgICAgLCBpdGVtc0NvdW50O1xuICAgICAgaWYgKG9ialR5cGUgPT09ICdtYXAnIHx8IG9ialR5cGUgPT09ICdzZXQnKSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSAnc2l6ZSc7XG4gICAgICAgIGl0ZW1zQ291bnQgPSBvYmouc2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1zQ291bnQgPSBvYmoubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgaXRlbXNDb3VudCA+IG5cbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIGFib3ZlICN7ZXhwfSBidXQgZ290ICN7YWN0fSdcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgaGF2ZSBhICcgKyBkZXNjcmlwdG9yICsgJyBhYm92ZSAje2V4cH0nXG4gICAgICAgICwgblxuICAgICAgICAsIGl0ZW1zQ291bnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICAgIG9iaiA+IG5cbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBhYm92ZSAje2V4cH0nXG4gICAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgYXQgbW9zdCAje2V4cH0nXG4gICAgICAgICwgblxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdhYm92ZScsIGFzc2VydEFib3ZlKTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnZ3QnLCBhc3NlcnRBYm92ZSk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2dyZWF0ZXJUaGFuJywgYXNzZXJ0QWJvdmUpO1xuXG4gIC8qKlxuICAgKiAjIyMgLmxlYXN0KG5bLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhIG51bWJlciBvciBhIGRhdGUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlblxuICAgKiBudW1iZXIgb3IgZGF0ZSBgbmAgcmVzcGVjdGl2ZWx5LiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCBpcyBlcXVhbCB0b1xuICAgKiBpdHMgZXhwZWN0ZWQgdmFsdWUuXG4gICAqXG4gICAqICAgICBleHBlY3QoMikudG8uZXF1YWwoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMikudG8uYmUuYXQubGVhc3QoMSk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDIpLnRvLmJlLmF0LmxlYXN0KDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAubGVuZ3RoT2ZgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQncyBgbGVuZ3RoYFxuICAgKiBvciBgc2l6ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiBudW1iZXIgYG5gLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mLmF0LmxlYXN0KDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubGVuZ3RoT2YoMyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mLmF0LmxlYXN0KDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5sZWFzdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uZXF1YWwoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMSkudG8ubm90LmJlLmF0LmxlYXN0KDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5sZWFzdGAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvciBtZXNzYWdlXG4gICAqIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhcyB0aGVcbiAgICogc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEpLnRvLmJlLmF0LmxlYXN0KDIsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCgxLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUuYXQubGVhc3QoMik7XG4gICAqXG4gICAqIFRoZSBhbGlhcyBgLmd0ZWAgY2FuIGJlIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IHdpdGggYC5sZWFzdGAuXG4gICAqXG4gICAqIEBuYW1lIGxlYXN0XG4gICAqIEBhbGlhcyBndGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydExlYXN0IChuLCBtc2cpIHtcbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICAgICwgZG9MZW5ndGggPSBmbGFnKHRoaXMsICdkb0xlbmd0aCcpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgbXNnUHJlZml4ID0gKChmbGFnTXNnKSA/IGZsYWdNc2cgKyAnOiAnIDogJycpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJylcbiAgICAgICwgb2JqVHlwZSA9IF8udHlwZShvYmopLnRvTG93ZXJDYXNlKClcbiAgICAgICwgblR5cGUgPSBfLnR5cGUobikudG9Mb3dlckNhc2UoKVxuICAgICAgLCBlcnJvck1lc3NhZ2VcbiAgICAgICwgc2hvdWxkVGhyb3cgPSB0cnVlO1xuXG4gICAgaWYgKGRvTGVuZ3RoICYmIG9ialR5cGUgIT09ICdtYXAnICYmIG9ialR5cGUgIT09ICdzZXQnKSB7XG4gICAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkudG8uaGF2ZS5wcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgaWYgKCFkb0xlbmd0aCAmJiAob2JqVHlwZSA9PT0gJ2RhdGUnICYmIG5UeXBlICE9PSAnZGF0ZScpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBtc2dQcmVmaXggKyAndGhlIGFyZ3VtZW50IHRvIGxlYXN0IG11c3QgYmUgYSBkYXRlJztcbiAgICB9IGVsc2UgaWYgKG5UeXBlICE9PSAnbnVtYmVyJyAmJiAoZG9MZW5ndGggfHwgb2JqVHlwZSA9PT0gJ251bWJlcicpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBtc2dQcmVmaXggKyAndGhlIGFyZ3VtZW50IHRvIGxlYXN0IG11c3QgYmUgYSBudW1iZXInO1xuICAgIH0gZWxzZSBpZiAoIWRvTGVuZ3RoICYmIChvYmpUeXBlICE9PSAnZGF0ZScgJiYgb2JqVHlwZSAhPT0gJ251bWJlcicpKSB7XG4gICAgICB2YXIgcHJpbnRPYmogPSAob2JqVHlwZSA9PT0gJ3N0cmluZycpID8gXCInXCIgKyBvYmogKyBcIidcIiA6IG9iajtcbiAgICAgIGVycm9yTWVzc2FnZSA9IG1zZ1ByZWZpeCArICdleHBlY3RlZCAnICsgcHJpbnRPYmogKyAnIHRvIGJlIGEgbnVtYmVyIG9yIGEgZGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3VsZFRocm93ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRocm93KSB7XG4gICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyb3JNZXNzYWdlLCB1bmRlZmluZWQsIHNzZmkpO1xuICAgIH1cblxuICAgIGlmIChkb0xlbmd0aCkge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSAnbGVuZ3RoJ1xuICAgICAgICAsIGl0ZW1zQ291bnQ7XG4gICAgICBpZiAob2JqVHlwZSA9PT0gJ21hcCcgfHwgb2JqVHlwZSA9PT0gJ3NldCcpIHtcbiAgICAgICAgZGVzY3JpcHRvciA9ICdzaXplJztcbiAgICAgICAgaXRlbXNDb3VudCA9IG9iai5zaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbXNDb3VudCA9IG9iai5sZW5ndGg7XG4gICAgICB9XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICBpdGVtc0NvdW50ID49IG5cbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIGF0IGxlYXN0ICN7ZXhwfSBidXQgZ290ICN7YWN0fSdcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIGJlbG93ICN7ZXhwfSdcbiAgICAgICAgLCBuXG4gICAgICAgICwgaXRlbXNDb3VudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgb2JqID49IG5cbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBhdCBsZWFzdCAje2V4cH0nXG4gICAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgYmVsb3cgI3tleHB9J1xuICAgICAgICAsIG5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnbGVhc3QnLCBhc3NlcnRMZWFzdCk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2d0ZScsIGFzc2VydExlYXN0KTtcblxuICAvKipcbiAgICogIyMjIC5iZWxvdyhuWywgbXNnXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgYSBudW1iZXIgb3IgYSBkYXRlIGxlc3MgdGhhbiB0aGUgZ2l2ZW4gbnVtYmVyIG9yIGRhdGUgYG5gIHJlc3BlY3RpdmVseS5cbiAgICogSG93ZXZlciwgaXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQgaXMgZXF1YWwgdG8gaXRzIGV4cGVjdGVkXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEpLnRvLmVxdWFsKDEpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDEpLnRvLmJlLmJlbG93KDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAubGVuZ3RoT2ZgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQncyBgbGVuZ3RoYFxuICAgKiBvciBgc2l6ZWAgaXMgbGVzcyB0aGFuIHRoZSBnaXZlbiBudW1iZXIgYG5gLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mLmJlbG93KDQpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubGVuZ3RoKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5sZW5ndGhPZi5iZWxvdyg0KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuYmVsb3dgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDIpLnRvLmVxdWFsKDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDIpLnRvLm5vdC5iZS5iZWxvdygxKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIGAuYmVsb3dgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3IgbWVzc2FnZVxuICAgKiB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXMgdGhlXG4gICAqIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgyKS50by5iZS5iZWxvdygxLCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqICAgICBleHBlY3QoMiwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLmJlbG93KDEpO1xuICAgKlxuICAgKiBUaGUgYWxpYXNlcyBgLmx0YCBhbmQgYC5sZXNzVGhhbmAgY2FuIGJlIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IHdpdGhcbiAgICogYC5iZWxvd2AuXG4gICAqXG4gICAqIEBuYW1lIGJlbG93XG4gICAqIEBhbGlhcyBsdFxuICAgKiBAYWxpYXMgbGVzc1RoYW5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydEJlbG93IChuLCBtc2cpIHtcbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICAgICwgZG9MZW5ndGggPSBmbGFnKHRoaXMsICdkb0xlbmd0aCcpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgbXNnUHJlZml4ID0gKChmbGFnTXNnKSA/IGZsYWdNc2cgKyAnOiAnIDogJycpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJylcbiAgICAgICwgb2JqVHlwZSA9IF8udHlwZShvYmopLnRvTG93ZXJDYXNlKClcbiAgICAgICwgblR5cGUgPSBfLnR5cGUobikudG9Mb3dlckNhc2UoKVxuICAgICAgLCBlcnJvck1lc3NhZ2VcbiAgICAgICwgc2hvdWxkVGhyb3cgPSB0cnVlO1xuXG4gICAgaWYgKGRvTGVuZ3RoICYmIG9ialR5cGUgIT09ICdtYXAnICYmIG9ialR5cGUgIT09ICdzZXQnKSB7XG4gICAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkudG8uaGF2ZS5wcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgaWYgKCFkb0xlbmd0aCAmJiAob2JqVHlwZSA9PT0gJ2RhdGUnICYmIG5UeXBlICE9PSAnZGF0ZScpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBtc2dQcmVmaXggKyAndGhlIGFyZ3VtZW50IHRvIGJlbG93IG11c3QgYmUgYSBkYXRlJztcbiAgICB9IGVsc2UgaWYgKG5UeXBlICE9PSAnbnVtYmVyJyAmJiAoZG9MZW5ndGggfHwgb2JqVHlwZSA9PT0gJ251bWJlcicpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBtc2dQcmVmaXggKyAndGhlIGFyZ3VtZW50IHRvIGJlbG93IG11c3QgYmUgYSBudW1iZXInO1xuICAgIH0gZWxzZSBpZiAoIWRvTGVuZ3RoICYmIChvYmpUeXBlICE9PSAnZGF0ZScgJiYgb2JqVHlwZSAhPT0gJ251bWJlcicpKSB7XG4gICAgICB2YXIgcHJpbnRPYmogPSAob2JqVHlwZSA9PT0gJ3N0cmluZycpID8gXCInXCIgKyBvYmogKyBcIidcIiA6IG9iajtcbiAgICAgIGVycm9yTWVzc2FnZSA9IG1zZ1ByZWZpeCArICdleHBlY3RlZCAnICsgcHJpbnRPYmogKyAnIHRvIGJlIGEgbnVtYmVyIG9yIGEgZGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3VsZFRocm93ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRocm93KSB7XG4gICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyb3JNZXNzYWdlLCB1bmRlZmluZWQsIHNzZmkpO1xuICAgIH1cblxuICAgIGlmIChkb0xlbmd0aCkge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSAnbGVuZ3RoJ1xuICAgICAgICAsIGl0ZW1zQ291bnQ7XG4gICAgICBpZiAob2JqVHlwZSA9PT0gJ21hcCcgfHwgb2JqVHlwZSA9PT0gJ3NldCcpIHtcbiAgICAgICAgZGVzY3JpcHRvciA9ICdzaXplJztcbiAgICAgICAgaXRlbXNDb3VudCA9IG9iai5zaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbXNDb3VudCA9IG9iai5sZW5ndGg7XG4gICAgICB9XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICBpdGVtc0NvdW50IDwgblxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGhhdmUgYSAnICsgZGVzY3JpcHRvciArICcgYmVsb3cgI3tleHB9IGJ1dCBnb3QgI3thY3R9J1xuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIGJlbG93ICN7ZXhwfSdcbiAgICAgICAgLCBuXG4gICAgICAgICwgaXRlbXNDb3VudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgb2JqIDwgblxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGJlbG93ICN7ZXhwfSdcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBhdCBsZWFzdCAje2V4cH0nXG4gICAgICAgICwgblxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdiZWxvdycsIGFzc2VydEJlbG93KTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnbHQnLCBhc3NlcnRCZWxvdyk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2xlc3NUaGFuJywgYXNzZXJ0QmVsb3cpO1xuXG4gIC8qKlxuICAgKiAjIyMgLm1vc3QoblssIG1zZ10pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGlzIGEgbnVtYmVyIG9yIGEgZGF0ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGdpdmVuIG51bWJlclxuICAgKiBvciBkYXRlIGBuYCByZXNwZWN0aXZlbHkuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW4gYmVzdCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIGVxdWFsIHRvIGl0c1xuICAgKiBleHBlY3RlZCB2YWx1ZS5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5lcXVhbCgxKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5iZS5hdC5tb3N0KDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5iZS5hdC5tb3N0KDEpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAubGVuZ3RoT2ZgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQncyBgbGVuZ3RoYFxuICAgKiBvciBgc2l6ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiBudW1iZXIgYG5gLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mLmF0Lm1vc3QoNCk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5sZW5ndGhPZigzKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubGVuZ3RoT2YuYXQubW9zdCg0KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAubW9zdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMikudG8uZXF1YWwoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMikudG8ubm90LmJlLmF0Lm1vc3QoMSk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBgLm1vc3RgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3IgbWVzc2FnZVxuICAgKiB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXMgdGhlXG4gICAqIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgyKS50by5iZS5hdC5tb3N0KDEsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCgyLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUuYXQubW9zdCgxKTtcbiAgICpcbiAgICogVGhlIGFsaWFzIGAubHRlYCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLm1vc3RgLlxuICAgKlxuICAgKiBAbmFtZSBtb3N0XG4gICAqIEBhbGlhcyBsdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydE1vc3QgKG4sIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBkb0xlbmd0aCA9IGZsYWcodGhpcywgJ2RvTGVuZ3RoJylcbiAgICAgICwgZmxhZ01zZyA9IGZsYWcodGhpcywgJ21lc3NhZ2UnKVxuICAgICAgLCBtc2dQcmVmaXggPSAoKGZsYWdNc2cpID8gZmxhZ01zZyArICc6ICcgOiAnJylcbiAgICAgICwgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKVxuICAgICAgLCBvYmpUeXBlID0gXy50eXBlKG9iaikudG9Mb3dlckNhc2UoKVxuICAgICAgLCBuVHlwZSA9IF8udHlwZShuKS50b0xvd2VyQ2FzZSgpXG4gICAgICAsIGVycm9yTWVzc2FnZVxuICAgICAgLCBzaG91bGRUaHJvdyA9IHRydWU7XG5cbiAgICBpZiAoZG9MZW5ndGggJiYgb2JqVHlwZSAhPT0gJ21hcCcgJiYgb2JqVHlwZSAhPT0gJ3NldCcpIHtcbiAgICAgIG5ldyBBc3NlcnRpb24ob2JqLCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS50by5oYXZlLnByb3BlcnR5KCdsZW5ndGgnKTtcbiAgICB9XG5cbiAgICBpZiAoIWRvTGVuZ3RoICYmIChvYmpUeXBlID09PSAnZGF0ZScgJiYgblR5cGUgIT09ICdkYXRlJykpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IG1zZ1ByZWZpeCArICd0aGUgYXJndW1lbnQgdG8gbW9zdCBtdXN0IGJlIGEgZGF0ZSc7XG4gICAgfSBlbHNlIGlmIChuVHlwZSAhPT0gJ251bWJlcicgJiYgKGRvTGVuZ3RoIHx8IG9ialR5cGUgPT09ICdudW1iZXInKSkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gbXNnUHJlZml4ICsgJ3RoZSBhcmd1bWVudCB0byBtb3N0IG11c3QgYmUgYSBudW1iZXInO1xuICAgIH0gZWxzZSBpZiAoIWRvTGVuZ3RoICYmIChvYmpUeXBlICE9PSAnZGF0ZScgJiYgb2JqVHlwZSAhPT0gJ251bWJlcicpKSB7XG4gICAgICB2YXIgcHJpbnRPYmogPSAob2JqVHlwZSA9PT0gJ3N0cmluZycpID8gXCInXCIgKyBvYmogKyBcIidcIiA6IG9iajtcbiAgICAgIGVycm9yTWVzc2FnZSA9IG1zZ1ByZWZpeCArICdleHBlY3RlZCAnICsgcHJpbnRPYmogKyAnIHRvIGJlIGEgbnVtYmVyIG9yIGEgZGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3VsZFRocm93ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRocm93KSB7XG4gICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyb3JNZXNzYWdlLCB1bmRlZmluZWQsIHNzZmkpO1xuICAgIH1cblxuICAgIGlmIChkb0xlbmd0aCkge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSAnbGVuZ3RoJ1xuICAgICAgICAsIGl0ZW1zQ291bnQ7XG4gICAgICBpZiAob2JqVHlwZSA9PT0gJ21hcCcgfHwgb2JqVHlwZSA9PT0gJ3NldCcpIHtcbiAgICAgICAgZGVzY3JpcHRvciA9ICdzaXplJztcbiAgICAgICAgaXRlbXNDb3VudCA9IG9iai5zaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbXNDb3VudCA9IG9iai5sZW5ndGg7XG4gICAgICB9XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICBpdGVtc0NvdW50IDw9IG5cbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIGF0IG1vc3QgI3tleHB9IGJ1dCBnb3QgI3thY3R9J1xuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGhhdmUgYSAnICsgZGVzY3JpcHRvciArICcgYWJvdmUgI3tleHB9J1xuICAgICAgICAsIG5cbiAgICAgICAgLCBpdGVtc0NvdW50XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICBvYmogPD0gblxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGF0IG1vc3QgI3tleHB9J1xuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGFib3ZlICN7ZXhwfSdcbiAgICAgICAgLCBuXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ21vc3QnLCBhc3NlcnRNb3N0KTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnbHRlJywgYXNzZXJ0TW9zdCk7XG5cbiAgLyoqXG4gICAqICMjIyAud2l0aGluKHN0YXJ0LCBmaW5pc2hbLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhIG51bWJlciBvciBhIGRhdGUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlblxuICAgKiBudW1iZXIgb3IgZGF0ZSBgc3RhcnRgLCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiBudW1iZXIgb3IgZGF0ZSBgZmluaXNoYCByZXNwZWN0aXZlbHkuXG4gICAqIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW4gYmVzdCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIGVxdWFsIHRvIGl0cyBleHBlY3RlZFxuICAgKiB2YWx1ZS5cbiAgICpcbiAgICogICAgIGV4cGVjdCgyKS50by5lcXVhbCgyKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgyKS50by5iZS53aXRoaW4oMSwgMyk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDIpLnRvLmJlLndpdGhpbigyLCAzKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMikudG8uYmUud2l0aGluKDEsIDIpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAubGVuZ3RoT2ZgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIGFzc2VydCB0aGF0IHRoZSB0YXJnZXQncyBgbGVuZ3RoYFxuICAgKiBvciBgc2l6ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiBudW1iZXIgYHN0YXJ0YCwgYW5kIGxlc3NcbiAgICogdGhhbiBvciBlcXVhbCB0byB0aGUgZ2l2ZW4gbnVtYmVyIGBmaW5pc2hgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mLndpdGhpbigyLCA0KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5sZW5ndGhPZi53aXRoaW4oMiwgNCk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLndpdGhpbmAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uZXF1YWwoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMSkudG8ubm90LmJlLndpdGhpbigyLCA0KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIGAud2l0aGluYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yXG4gICAqIG1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzXG4gICAqIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoNCkudG8uYmUud2l0aGluKDEsIDMsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCg0LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUud2l0aGluKDEsIDMpO1xuICAgKlxuICAgKiBAbmFtZSB3aXRoaW5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IGxvd2VyIGJvdW5kIGluY2x1c2l2ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gZmluaXNoIHVwcGVyIGJvdW5kIGluY2x1c2l2ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnd2l0aGluJywgZnVuY3Rpb24gKHN0YXJ0LCBmaW5pc2gsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBkb0xlbmd0aCA9IGZsYWcodGhpcywgJ2RvTGVuZ3RoJylcbiAgICAgICwgZmxhZ01zZyA9IGZsYWcodGhpcywgJ21lc3NhZ2UnKVxuICAgICAgLCBtc2dQcmVmaXggPSAoKGZsYWdNc2cpID8gZmxhZ01zZyArICc6ICcgOiAnJylcbiAgICAgICwgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKVxuICAgICAgLCBvYmpUeXBlID0gXy50eXBlKG9iaikudG9Mb3dlckNhc2UoKVxuICAgICAgLCBzdGFydFR5cGUgPSBfLnR5cGUoc3RhcnQpLnRvTG93ZXJDYXNlKClcbiAgICAgICwgZmluaXNoVHlwZSA9IF8udHlwZShmaW5pc2gpLnRvTG93ZXJDYXNlKClcbiAgICAgICwgZXJyb3JNZXNzYWdlXG4gICAgICAsIHNob3VsZFRocm93ID0gdHJ1ZVxuICAgICAgLCByYW5nZSA9IChzdGFydFR5cGUgPT09ICdkYXRlJyAmJiBmaW5pc2hUeXBlID09PSAnZGF0ZScpXG4gICAgICAgICAgPyBzdGFydC50b1VUQ1N0cmluZygpICsgJy4uJyArIGZpbmlzaC50b1VUQ1N0cmluZygpXG4gICAgICAgICAgOiBzdGFydCArICcuLicgKyBmaW5pc2g7XG5cbiAgICBpZiAoZG9MZW5ndGggJiYgb2JqVHlwZSAhPT0gJ21hcCcgJiYgb2JqVHlwZSAhPT0gJ3NldCcpIHtcbiAgICAgIG5ldyBBc3NlcnRpb24ob2JqLCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS50by5oYXZlLnByb3BlcnR5KCdsZW5ndGgnKTtcbiAgICB9XG5cbiAgICBpZiAoIWRvTGVuZ3RoICYmIChvYmpUeXBlID09PSAnZGF0ZScgJiYgKHN0YXJ0VHlwZSAhPT0gJ2RhdGUnIHx8IGZpbmlzaFR5cGUgIT09ICdkYXRlJykpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBtc2dQcmVmaXggKyAndGhlIGFyZ3VtZW50cyB0byB3aXRoaW4gbXVzdCBiZSBkYXRlcyc7XG4gICAgfSBlbHNlIGlmICgoc3RhcnRUeXBlICE9PSAnbnVtYmVyJyB8fCBmaW5pc2hUeXBlICE9PSAnbnVtYmVyJykgJiYgKGRvTGVuZ3RoIHx8IG9ialR5cGUgPT09ICdudW1iZXInKSkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gbXNnUHJlZml4ICsgJ3RoZSBhcmd1bWVudHMgdG8gd2l0aGluIG11c3QgYmUgbnVtYmVycyc7XG4gICAgfSBlbHNlIGlmICghZG9MZW5ndGggJiYgKG9ialR5cGUgIT09ICdkYXRlJyAmJiBvYmpUeXBlICE9PSAnbnVtYmVyJykpIHtcbiAgICAgIHZhciBwcmludE9iaiA9IChvYmpUeXBlID09PSAnc3RyaW5nJykgPyBcIidcIiArIG9iaiArIFwiJ1wiIDogb2JqO1xuICAgICAgZXJyb3JNZXNzYWdlID0gbXNnUHJlZml4ICsgJ2V4cGVjdGVkICcgKyBwcmludE9iaiArICcgdG8gYmUgYSBudW1iZXIgb3IgYSBkYXRlJztcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvdWxkVGhyb3cgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkVGhyb3cpIHtcbiAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihlcnJvck1lc3NhZ2UsIHVuZGVmaW5lZCwgc3NmaSk7XG4gICAgfVxuXG4gICAgaWYgKGRvTGVuZ3RoKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9ICdsZW5ndGgnXG4gICAgICAgICwgaXRlbXNDb3VudDtcbiAgICAgIGlmIChvYmpUeXBlID09PSAnbWFwJyB8fCBvYmpUeXBlID09PSAnc2V0Jykge1xuICAgICAgICBkZXNjcmlwdG9yID0gJ3NpemUnO1xuICAgICAgICBpdGVtc0NvdW50ID0gb2JqLnNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtc0NvdW50ID0gb2JqLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICAgIGl0ZW1zQ291bnQgPj0gc3RhcnQgJiYgaXRlbXNDb3VudCA8PSBmaW5pc2hcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIHdpdGhpbiAnICsgcmFuZ2VcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgaGF2ZSBhICcgKyBkZXNjcmlwdG9yICsgJyB3aXRoaW4gJyArIHJhbmdlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICBvYmogPj0gc3RhcnQgJiYgb2JqIDw9IGZpbmlzaFxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIHdpdGhpbiAnICsgcmFuZ2VcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgYmUgd2l0aGluICcgKyByYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmluc3RhbmNlb2YoY29uc3RydWN0b3JbLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgZ2l2ZW4gYGNvbnN0cnVjdG9yYC5cbiAgICpcbiAgICogICAgIGZ1bmN0aW9uIENhdCAoKSB7IH1cbiAgICpcbiAgICogICAgIGV4cGVjdChuZXcgQ2F0KCkpLnRvLmJlLmFuLmluc3RhbmNlb2YoQ2F0KTtcbiAgICogICAgIGV4cGVjdChbMSwgMl0pLnRvLmJlLmFuLmluc3RhbmNlb2YoQXJyYXkpO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmluc3RhbmNlb2ZgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8ubm90LmJlLmFuLmluc3RhbmNlb2YoQXJyYXkpO1xuICAgKlxuICAgKiBgLmluc3RhbmNlb2ZgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3JcbiAgICogbWVzc2FnZSB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXNcbiAgICogdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5iZS5hbi5pbnN0YW5jZW9mKEFycmF5LCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqICAgICBleHBlY3QoMSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLmFuLmluc3RhbmNlb2YoQXJyYXkpO1xuICAgKlxuICAgKiBEdWUgdG8gbGltaXRhdGlvbnMgaW4gRVM1LCBgLmluc3RhbmNlb2ZgIG1heSBub3QgYWx3YXlzIHdvcmsgYXMgZXhwZWN0ZWRcbiAgICogd2hlbiB1c2luZyBhIHRyYW5zcGlsZXIgc3VjaCBhcyBCYWJlbCBvciBUeXBlU2NyaXB0LiBJbiBwYXJ0aWN1bGFyLCBpdCBtYXlcbiAgICogcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMgd2hlbiBzdWJjbGFzc2luZyBidWlsdC1pbiBvYmplY3Qgc3VjaCBhc1xuICAgKiBgQXJyYXlgLCBgRXJyb3JgLCBhbmQgYE1hcGAuIFNlZSB5b3VyIHRyYW5zcGlsZXIncyBkb2NzIGZvciBkZXRhaWxzOlxuICAgKlxuICAgKiAtIChbQmFiZWxdKGh0dHBzOi8vYmFiZWxqcy5pby9kb2NzL3VzYWdlL2NhdmVhdHMvI2NsYXNzZXMpKVxuICAgKiAtIChbVHlwZVNjcmlwdF0oaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L3dpa2kvQnJlYWtpbmctQ2hhbmdlcyNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmspKVxuICAgKlxuICAgKiBUaGUgYWxpYXMgYC5pbnN0YW5jZU9mYCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLmluc3RhbmNlb2ZgLlxuICAgKlxuICAgKiBAbmFtZSBpbnN0YW5jZW9mXG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3J9IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAYWxpYXMgaW5zdGFuY2VPZlxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBhc3NlcnRJbnN0YW5jZU9mIChjb25zdHJ1Y3RvciwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG5cbiAgICB2YXIgdGFyZ2V0ID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICB2YXIgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKTtcbiAgICB2YXIgZmxhZ01zZyA9IGZsYWcodGhpcywgJ21lc3NhZ2UnKTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgaXNJbnN0YW5jZU9mID0gdGFyZ2V0IGluc3RhbmNlb2YgY29uc3RydWN0b3I7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgIGZsYWdNc2cgPSBmbGFnTXNnID8gZmxhZ01zZyArICc6ICcgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKFxuICAgICAgICAgIGZsYWdNc2cgKyAnVGhlIGluc3RhbmNlb2YgYXNzZXJ0aW9uIG5lZWRzIGEgY29uc3RydWN0b3IgYnV0ICdcbiAgICAgICAgICAgICsgXy50eXBlKGNvbnN0cnVjdG9yKSArICcgd2FzIGdpdmVuLicsXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIHNzZmlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG5cbiAgICB2YXIgbmFtZSA9IF8uZ2V0TmFtZShjb25zdHJ1Y3Rvcik7XG4gICAgaWYgKG5hbWUgPT09IG51bGwpIHtcbiAgICAgIG5hbWUgPSAnYW4gdW5uYW1lZCBjb25zdHJ1Y3Rvcic7XG4gICAgfVxuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIGlzSW5zdGFuY2VPZlxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBhbiBpbnN0YW5jZSBvZiAnICsgbmFtZVxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgYmUgYW4gaW5zdGFuY2Ugb2YgJyArIG5hbWVcbiAgICApO1xuICB9O1xuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2luc3RhbmNlb2YnLCBhc3NlcnRJbnN0YW5jZU9mKTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnaW5zdGFuY2VPZicsIGFzc2VydEluc3RhbmNlT2YpO1xuXG4gIC8qKlxuICAgKiAjIyMgLnByb3BlcnR5KG5hbWVbLCB2YWxbLCBtc2ddXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaGFzIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5IGBuYW1lYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUucHJvcGVydHkoJ2EnKTtcbiAgICpcbiAgICogV2hlbiBgdmFsYCBpcyBwcm92aWRlZCwgYC5wcm9wZXJ0eWAgYWxzbyBhc3NlcnRzIHRoYXQgdGhlIHByb3BlcnR5J3MgdmFsdWVcbiAgICogaXMgZXF1YWwgdG8gdGhlIGdpdmVuIGB2YWxgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8uaGF2ZS5wcm9wZXJ0eSgnYScsIDEpO1xuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBzdHJpY3QgKGA9PT1gKSBlcXVhbGl0eSBpcyB1c2VkLiBBZGQgYC5kZWVwYCBlYXJsaWVyIGluIHRoZVxuICAgKiBjaGFpbiB0byB1c2UgZGVlcCBlcXVhbGl0eSBpbnN0ZWFkLiBTZWUgdGhlIGBkZWVwLWVxbGAgcHJvamVjdCBwYWdlIGZvclxuICAgKiBpbmZvIG9uIHRoZSBkZWVwIGVxdWFsaXR5IGFsZ29yaXRobTogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBvYmplY3QgZGVlcGx5IChidXQgbm90IHN0cmljdGx5KSBoYXMgcHJvcGVydHkgYHg6IHthOiAxfWBcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8uaGF2ZS5kZWVwLnByb3BlcnR5KCd4Jywge2E6IDF9KTtcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8ubm90LmhhdmUucHJvcGVydHkoJ3gnLCB7YTogMX0pO1xuICAgKlxuICAgKiBUaGUgdGFyZ2V0J3MgZW51bWVyYWJsZSBhbmQgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgYWx3YXlzIGluY2x1ZGVkXG4gICAqIGluIHRoZSBzZWFyY2guIEJ5IGRlZmF1bHQsIGJvdGggb3duIGFuZCBpbmhlcml0ZWQgcHJvcGVydGllcyBhcmUgaW5jbHVkZWQuXG4gICAqIEFkZCBgLm93bmAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gZXhjbHVkZSBpbmhlcml0ZWQgcHJvcGVydGllcyBmcm9tIHRoZVxuICAgKiBzZWFyY2guXG4gICAqXG4gICAqICAgICBPYmplY3QucHJvdG90eXBlLmIgPSAyO1xuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8uaGF2ZS5vd24ucHJvcGVydHkoJ2EnKTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUub3duLnByb3BlcnR5KCdhJywgMSk7XG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5oYXZlLnByb3BlcnR5KCdiJyk7XG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5ub3QuaGF2ZS5vd24ucHJvcGVydHkoJ2InKTtcbiAgICpcbiAgICogYC5kZWVwYCBhbmQgYC5vd25gIGNhbiBiZSBjb21iaW5lZC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7eDoge2E6IDF9fSkudG8uaGF2ZS5kZWVwLm93bi5wcm9wZXJ0eSgneCcsIHthOiAxfSk7XG4gICAqXG4gICAqIEFkZCBgLm5lc3RlZGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gZW5hYmxlIGRvdC0gYW5kIGJyYWNrZXQtbm90YXRpb24gd2hlblxuICAgKiByZWZlcmVuY2luZyBuZXN0ZWQgcHJvcGVydGllcy5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YToge2I6IFsneCcsICd5J119fSkudG8uaGF2ZS5uZXN0ZWQucHJvcGVydHkoJ2EuYlsxXScpO1xuICAgKiAgICAgZXhwZWN0KHthOiB7YjogWyd4JywgJ3knXX19KS50by5oYXZlLm5lc3RlZC5wcm9wZXJ0eSgnYS5iWzFdJywgJ3knKTtcbiAgICpcbiAgICogSWYgYC5gIG9yIGBbXWAgYXJlIHBhcnQgb2YgYW4gYWN0dWFsIHByb3BlcnR5IG5hbWUsIHRoZXkgY2FuIGJlIGVzY2FwZWQgYnlcbiAgICogYWRkaW5nIHR3byBiYWNrc2xhc2hlcyBiZWZvcmUgdGhlbS5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7Jy5hJzogeydbYl0nOiAneCd9fSkudG8uaGF2ZS5uZXN0ZWQucHJvcGVydHkoJ1xcXFwuYS5cXFxcW2JcXFxcXScpO1xuICAgKlxuICAgKiBgLmRlZXBgIGFuZCBgLm5lc3RlZGAgY2FuIGJlIGNvbWJpbmVkLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiB7YjogW3tjOiAzfV19fSlcbiAgICogICAgICAgLnRvLmhhdmUuZGVlcC5uZXN0ZWQucHJvcGVydHkoJ2EuYlswXScsIHtjOiAzfSk7XG4gICAqXG4gICAqIGAub3duYCBhbmQgYC5uZXN0ZWRgIGNhbm5vdCBiZSBjb21iaW5lZC5cbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5wcm9wZXJ0eWAuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5ub3QuaGF2ZS5wcm9wZXJ0eSgnYicpO1xuICAgKlxuICAgKiBIb3dldmVyLCBpdCdzIGRhbmdlcm91cyB0byBuZWdhdGUgYC5wcm9wZXJ0eWAgd2hlbiBwcm92aWRpbmcgYHZhbGAuIFRoZVxuICAgKiBwcm9ibGVtIGlzIHRoYXQgaXQgY3JlYXRlcyB1bmNlcnRhaW4gZXhwZWN0YXRpb25zIGJ5IGFzc2VydGluZyB0aGF0IHRoZVxuICAgKiB0YXJnZXQgZWl0aGVyIGRvZXNuJ3QgaGF2ZSBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIGtleSBgbmFtZWAsIG9yIHRoYXQgaXRcbiAgICogZG9lcyBoYXZlIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5IGBuYW1lYCBidXQgaXRzIHZhbHVlIGlzbid0IGVxdWFsIHRvXG4gICAqIHRoZSBnaXZlbiBgdmFsYC4gSXQncyBvZnRlbiBiZXN0IHRvIGlkZW50aWZ5IHRoZSBleGFjdCBvdXRwdXQgdGhhdCdzXG4gICAqIGV4cGVjdGVkLCBhbmQgdGhlbiB3cml0ZSBhbiBhc3NlcnRpb24gdGhhdCBvbmx5IGFjY2VwdHMgdGhhdCBleGFjdCBvdXRwdXQuXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpc24ndCBleHBlY3RlZCB0byBoYXZlIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5XG4gICAqIGBuYW1lYCwgaXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCBleGFjdGx5IHRoYXQuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2I6IDJ9KS50by5ub3QuaGF2ZS5wcm9wZXJ0eSgnYScpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHtiOiAyfSkudG8ubm90LmhhdmUucHJvcGVydHkoJ2EnLCAxKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBleHBlY3RlZCB0byBoYXZlIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5IGBuYW1lYCxcbiAgICogaXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCB0aGF0IHRoZSBwcm9wZXJ0eSBoYXMgaXRzIGV4cGVjdGVkIHZhbHVlLCByYXRoZXJcbiAgICogdGhhbiBhc3NlcnRpbmcgdGhhdCBpdCBkb2Vzbid0IGhhdmUgb25lIG9mIG1hbnkgdW5leHBlY3RlZCB2YWx1ZXMuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDN9KS50by5oYXZlLnByb3BlcnR5KCdhJywgMyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2E6IDN9KS50by5ub3QuaGF2ZS5wcm9wZXJ0eSgnYScsIDEpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5wcm9wZXJ0eWAgY2hhbmdlcyB0aGUgdGFyZ2V0IG9mIGFueSBhc3NlcnRpb25zIHRoYXQgZm9sbG93IGluIHRoZSBjaGFpblxuICAgKiB0byBiZSB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGZyb20gdGhlIG9yaWdpbmFsIHRhcmdldCBvYmplY3QuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5oYXZlLnByb3BlcnR5KCdhJykudGhhdC5pcy5hKCdudW1iZXInKTtcbiAgICpcbiAgICogYC5wcm9wZXJ0eWAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvclxuICAgKiBtZXNzYWdlIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhc1xuICAgKiB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLiBXaGVuIG5vdCBwcm92aWRpbmcgYHZhbGAsIG9ubHkgdXNlIHRoZVxuICAgKiBzZWNvbmQgZm9ybS5cbiAgICpcbiAgICogICAgIC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5oYXZlLnByb3BlcnR5KCdhJywgMiwgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KHthOiAxfSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmhhdmUucHJvcGVydHkoJ2EnLCAyKTtcbiAgICogICAgIGV4cGVjdCh7YTogMX0sICdub29vIHdoeSBmYWlsPz8nKS50by5oYXZlLnByb3BlcnR5KCdiJyk7XG4gICAqXG4gICAqICAgICAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUucHJvcGVydHkoJ2InLCB1bmRlZmluZWQsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICpcbiAgICogVGhlIGFib3ZlIGFzc2VydGlvbiBpc24ndCB0aGUgc2FtZSB0aGluZyBhcyBub3QgcHJvdmlkaW5nIGB2YWxgLiBJbnN0ZWFkLFxuICAgKiBpdCdzIGFzc2VydGluZyB0aGF0IHRoZSB0YXJnZXQgb2JqZWN0IGhhcyBhIGBiYCBwcm9wZXJ0eSB0aGF0J3MgZXF1YWwgdG9cbiAgICogYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqIFRoZSBhc3NlcnRpb25zIGAub3duUHJvcGVydHlgIGFuZCBgLmhhdmVPd25Qcm9wZXJ0eWAgY2FuIGJlIHVzZWRcbiAgICogaW50ZXJjaGFuZ2VhYmx5IHdpdGggYC5vd24ucHJvcGVydHlgLlxuICAgKlxuICAgKiBAbmFtZSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWwgKG9wdGlvbmFsKVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIF9vcHRpb25hbF9cbiAgICogQHJldHVybnMgdmFsdWUgb2YgcHJvcGVydHkgZm9yIGNoYWluaW5nXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydFByb3BlcnR5IChuYW1lLCB2YWwsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuXG4gICAgdmFyIGlzTmVzdGVkID0gZmxhZyh0aGlzLCAnbmVzdGVkJylcbiAgICAgICwgaXNPd24gPSBmbGFnKHRoaXMsICdvd24nKVxuICAgICAgLCBmbGFnTXNnID0gZmxhZyh0aGlzLCAnbWVzc2FnZScpXG4gICAgICAsIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJylcbiAgICAgICwgbmFtZVR5cGUgPSB0eXBlb2YgbmFtZTtcblxuICAgIGZsYWdNc2cgPSBmbGFnTXNnID8gZmxhZ01zZyArICc6ICcgOiAnJztcblxuICAgIGlmIChpc05lc3RlZCkge1xuICAgICAgaWYgKG5hbWVUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgICAgZmxhZ01zZyArICd0aGUgYXJndW1lbnQgdG8gcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZyB3aGVuIHVzaW5nIG5lc3RlZCBzeW50YXgnLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBzc2ZpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChuYW1lVHlwZSAhPT0gJ3N0cmluZycgJiYgbmFtZVR5cGUgIT09ICdudW1iZXInICYmIG5hbWVUeXBlICE9PSAnc3ltYm9sJykge1xuICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgICAgZmxhZ01zZyArICd0aGUgYXJndW1lbnQgdG8gcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZywgbnVtYmVyLCBvciBzeW1ib2wnLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBzc2ZpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzTmVzdGVkICYmIGlzT3duKSB7XG4gICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgIGZsYWdNc2cgKyAnVGhlIFwibmVzdGVkXCIgYW5kIFwib3duXCIgZmxhZ3MgY2Fubm90IGJlIGNvbWJpbmVkLicsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgc3NmaVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgIGZsYWdNc2cgKyAnVGFyZ2V0IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC4nLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHNzZmlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGlzRGVlcCA9IGZsYWcodGhpcywgJ2RlZXAnKVxuICAgICAgLCBuZWdhdGUgPSBmbGFnKHRoaXMsICduZWdhdGUnKVxuICAgICAgLCBwYXRoSW5mbyA9IGlzTmVzdGVkID8gXy5nZXRQYXRoSW5mbyhvYmosIG5hbWUpIDogbnVsbFxuICAgICAgLCB2YWx1ZSA9IGlzTmVzdGVkID8gcGF0aEluZm8udmFsdWUgOiBvYmpbbmFtZV07XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9ICcnO1xuICAgIGlmIChpc0RlZXApIGRlc2NyaXB0b3IgKz0gJ2RlZXAgJztcbiAgICBpZiAoaXNPd24pIGRlc2NyaXB0b3IgKz0gJ293biAnO1xuICAgIGlmIChpc05lc3RlZCkgZGVzY3JpcHRvciArPSAnbmVzdGVkICc7XG4gICAgZGVzY3JpcHRvciArPSAncHJvcGVydHkgJztcblxuICAgIHZhciBoYXNQcm9wZXJ0eTtcbiAgICBpZiAoaXNPd24pIGhhc1Byb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgbmFtZSk7XG4gICAgZWxzZSBpZiAoaXNOZXN0ZWQpIGhhc1Byb3BlcnR5ID0gcGF0aEluZm8uZXhpc3RzO1xuICAgIGVsc2UgaGFzUHJvcGVydHkgPSBfLmhhc1Byb3BlcnR5KG9iaiwgbmFtZSk7XG5cbiAgICAvLyBXaGVuIHBlcmZvcm1pbmcgYSBuZWdhdGVkIGFzc2VydGlvbiBmb3IgYm90aCBuYW1lIGFuZCB2YWwsIG1lcmVseSBoYXZpbmdcbiAgICAvLyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIG5hbWUgaXNuJ3QgZW5vdWdoIHRvIGNhdXNlIHRoZSBhc3NlcnRpb24gdG9cbiAgICAvLyBmYWlsLiBJdCBtdXN0IGJvdGggaGF2ZSBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIG5hbWUsIGFuZCB0aGUgdmFsdWUgb2ZcbiAgICAvLyB0aGF0IHByb3BlcnR5IG11c3QgZXF1YWwgdGhlIGdpdmVuIHZhbC4gVGhlcmVmb3JlLCBza2lwIHRoaXMgYXNzZXJ0aW9uIGluXG4gICAgLy8gZmF2b3Igb2YgdGhlIG5leHQuXG4gICAgaWYgKCFuZWdhdGUgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgaGFzUHJvcGVydHlcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlICcgKyBkZXNjcmlwdG9yICsgXy5pbnNwZWN0KG5hbWUpXG4gICAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGhhdmUgJyArIGRlc2NyaXB0b3IgKyBfLmluc3BlY3QobmFtZSkpO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgaGFzUHJvcGVydHkgJiYgKGlzRGVlcCA/IF8uZXFsKHZhbCwgdmFsdWUpIDogdmFsID09PSB2YWx1ZSlcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlICcgKyBkZXNjcmlwdG9yICsgXy5pbnNwZWN0KG5hbWUpICsgJyBvZiAje2V4cH0sIGJ1dCBnb3QgI3thY3R9J1xuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBoYXZlICcgKyBkZXNjcmlwdG9yICsgXy5pbnNwZWN0KG5hbWUpICsgJyBvZiAje2FjdH0nXG4gICAgICAgICwgdmFsXG4gICAgICAgICwgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZmxhZyh0aGlzLCAnb2JqZWN0JywgdmFsdWUpO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgncHJvcGVydHknLCBhc3NlcnRQcm9wZXJ0eSk7XG5cbiAgZnVuY3Rpb24gYXNzZXJ0T3duUHJvcGVydHkgKG5hbWUsIHZhbHVlLCBtc2cpIHtcbiAgICBmbGFnKHRoaXMsICdvd24nLCB0cnVlKTtcbiAgICBhc3NlcnRQcm9wZXJ0eS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnb3duUHJvcGVydHknLCBhc3NlcnRPd25Qcm9wZXJ0eSk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2hhdmVPd25Qcm9wZXJ0eScsIGFzc2VydE93blByb3BlcnR5KTtcblxuICAvKipcbiAgICogIyMjIC5vd25Qcm9wZXJ0eURlc2NyaXB0b3IobmFtZVssIGRlc2NyaXB0b3JbLCBtc2ddXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaGFzIGl0cyBvd24gcHJvcGVydHkgZGVzY3JpcHRvciB3aXRoIHRoZSBnaXZlbiBrZXlcbiAgICogYG5hbWVgLiBFbnVtZXJhYmxlIGFuZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFyZSBpbmNsdWRlZCBpbiB0aGVcbiAgICogc2VhcmNoLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8uaGF2ZS5vd25Qcm9wZXJ0eURlc2NyaXB0b3IoJ2EnKTtcbiAgICpcbiAgICogV2hlbiBgZGVzY3JpcHRvcmAgaXMgcHJvdmlkZWQsIGAub3duUHJvcGVydHlEZXNjcmlwdG9yYCBhbHNvIGFzc2VydHMgdGhhdFxuICAgKiB0aGUgcHJvcGVydHkncyBkZXNjcmlwdG9yIGlzIGRlZXBseSBlcXVhbCB0byB0aGUgZ2l2ZW4gYGRlc2NyaXB0b3JgLiBTZWVcbiAgICogdGhlIGBkZWVwLWVxbGAgcHJvamVjdCBwYWdlIGZvciBpbmZvIG9uIHRoZSBkZWVwIGVxdWFsaXR5IGFsZ29yaXRobTpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUub3duUHJvcGVydHlEZXNjcmlwdG9yKCdhJywge1xuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAqICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgKiAgICAgICB2YWx1ZTogMSxcbiAgICogICAgIH0pO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLm93blByb3BlcnR5RGVzY3JpcHRvcmAuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5ub3QuaGF2ZS5vd25Qcm9wZXJ0eURlc2NyaXB0b3IoJ2InKTtcbiAgICpcbiAgICogSG93ZXZlciwgaXQncyBkYW5nZXJvdXMgdG8gbmVnYXRlIGAub3duUHJvcGVydHlEZXNjcmlwdG9yYCB3aGVuIHByb3ZpZGluZ1xuICAgKiBhIGBkZXNjcmlwdG9yYC4gVGhlIHByb2JsZW0gaXMgdGhhdCBpdCBjcmVhdGVzIHVuY2VydGFpbiBleHBlY3RhdGlvbnMgYnlcbiAgICogYXNzZXJ0aW5nIHRoYXQgdGhlIHRhcmdldCBlaXRoZXIgZG9lc24ndCBoYXZlIGEgcHJvcGVydHkgZGVzY3JpcHRvciB3aXRoXG4gICAqIHRoZSBnaXZlbiBrZXkgYG5hbWVgLCBvciB0aGF0IGl0IGRvZXMgaGF2ZSBhIHByb3BlcnR5IGRlc2NyaXB0b3Igd2l0aCB0aGVcbiAgICogZ2l2ZW4ga2V5IGBuYW1lYCBidXQgaXRzIG5vdCBkZWVwbHkgZXF1YWwgdG8gdGhlIGdpdmVuIGBkZXNjcmlwdG9yYC4gSXQnc1xuICAgKiBvZnRlbiBiZXN0IHRvIGlkZW50aWZ5IHRoZSBleGFjdCBvdXRwdXQgdGhhdCdzIGV4cGVjdGVkLCBhbmQgdGhlbiB3cml0ZSBhblxuICAgKiBhc3NlcnRpb24gdGhhdCBvbmx5IGFjY2VwdHMgdGhhdCBleGFjdCBvdXRwdXQuXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpc24ndCBleHBlY3RlZCB0byBoYXZlIGEgcHJvcGVydHkgZGVzY3JpcHRvciB3aXRoIHRoZSBnaXZlblxuICAgKiBrZXkgYG5hbWVgLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0IGV4YWN0bHkgdGhhdC5cbiAgICpcbiAgICogICAgIC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2I6IDJ9KS50by5ub3QuaGF2ZS5vd25Qcm9wZXJ0eURlc2NyaXB0b3IoJ2EnKTtcbiAgICpcbiAgICogICAgIC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHtiOiAyfSkudG8ubm90LmhhdmUub3duUHJvcGVydHlEZXNjcmlwdG9yKCdhJywge1xuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAqICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgKiAgICAgICB2YWx1ZTogMSxcbiAgICogICAgIH0pO1xuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgZXhwZWN0ZWQgdG8gaGF2ZSBhIHByb3BlcnR5IGRlc2NyaXB0b3Igd2l0aCB0aGUgZ2l2ZW5cbiAgICoga2V5IGBuYW1lYCwgaXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCB0aGF0IHRoZSBwcm9wZXJ0eSBoYXMgaXRzIGV4cGVjdGVkXG4gICAqIGRlc2NyaXB0b3IsIHJhdGhlciB0aGFuIGFzc2VydGluZyB0aGF0IGl0IGRvZXNuJ3QgaGF2ZSBvbmUgb2YgbWFueVxuICAgKiB1bmV4cGVjdGVkIGRlc2NyaXB0b3JzLlxuICAgKlxuICAgKiAgICAgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCh7YTogM30pLnRvLmhhdmUub3duUHJvcGVydHlEZXNjcmlwdG9yKCdhJywge1xuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAqICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgKiAgICAgICB2YWx1ZTogMyxcbiAgICogICAgIH0pO1xuICAgKlxuICAgKiAgICAgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2E6IDN9KS50by5ub3QuaGF2ZS5vd25Qcm9wZXJ0eURlc2NyaXB0b3IoJ2EnLCB7XG4gICAqICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICogICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICogICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAqICAgICAgIHZhbHVlOiAxLFxuICAgKiAgICAgfSk7XG4gICAqXG4gICAqIGAub3duUHJvcGVydHlEZXNjcmlwdG9yYCBjaGFuZ2VzIHRoZSB0YXJnZXQgb2YgYW55IGFzc2VydGlvbnMgdGhhdCBmb2xsb3dcbiAgICogaW4gdGhlIGNoYWluIHRvIGJlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciBmcm9tIHRoZSBvcmlnaW5hbFxuICAgKiB0YXJnZXQgb2JqZWN0LlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8uaGF2ZS5vd25Qcm9wZXJ0eURlc2NyaXB0b3IoJ2EnKVxuICAgKiAgICAgICAudGhhdC5oYXMucHJvcGVydHkoJ2VudW1lcmFibGUnLCB0cnVlKTtcbiAgICpcbiAgICogYC5vd25Qcm9wZXJ0eURlc2NyaXB0b3JgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYVxuICAgKiBjdXN0b20gZXJyb3IgbWVzc2FnZSB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc29cbiAgICogYmUgZ2l2ZW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC4gV2hlbiBub3QgcHJvdmlkaW5nXG4gICAqIGBkZXNjcmlwdG9yYCwgb25seSB1c2UgdGhlIHNlY29uZCBmb3JtLlxuICAgKlxuICAgKiAgICAgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUub3duUHJvcGVydHlEZXNjcmlwdG9yKCdhJywge1xuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAqICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgKiAgICAgICB2YWx1ZTogMixcbiAgICogICAgIH0sICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICpcbiAgICogICAgIC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2E6IDF9LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uaGF2ZS5vd25Qcm9wZXJ0eURlc2NyaXB0b3IoJ2EnLCB7XG4gICAqICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICogICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICogICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAqICAgICAgIHZhbHVlOiAyLFxuICAgKiAgICAgfSk7XG4gICAqXG4gICAqICAgICAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHthOiAxfSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmhhdmUub3duUHJvcGVydHlEZXNjcmlwdG9yKCdiJyk7XG4gICAqXG4gICAqICAgICAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCh7YTogMX0pXG4gICAqICAgICAgIC50by5oYXZlLm93blByb3BlcnR5RGVzY3JpcHRvcignYicsIHVuZGVmaW5lZCwgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKlxuICAgKiBUaGUgYWJvdmUgYXNzZXJ0aW9uIGlzbid0IHRoZSBzYW1lIHRoaW5nIGFzIG5vdCBwcm92aWRpbmcgYGRlc2NyaXB0b3JgLlxuICAgKiBJbnN0ZWFkLCBpdCdzIGFzc2VydGluZyB0aGF0IHRoZSB0YXJnZXQgb2JqZWN0IGhhcyBhIGBiYCBwcm9wZXJ0eVxuICAgKiBkZXNjcmlwdG9yIHRoYXQncyBkZWVwbHkgZXF1YWwgdG8gYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqIFRoZSBhbGlhcyBgLmhhdmVPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoXG4gICAqIGAub3duUHJvcGVydHlEZXNjcmlwdG9yYC5cbiAgICpcbiAgICogQG5hbWUgb3duUHJvcGVydHlEZXNjcmlwdG9yXG4gICAqIEBhbGlhcyBoYXZlT3duUHJvcGVydHlEZXNjcmlwdG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydE93blByb3BlcnR5RGVzY3JpcHRvciAobmFtZSwgZGVzY3JpcHRvciwgbXNnKSB7XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgbXNnID0gZGVzY3JpcHRvcjtcbiAgICAgIGRlc2NyaXB0b3IgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0Jyk7XG4gICAgdmFyIGFjdHVhbERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdChvYmopLCBuYW1lKTtcbiAgICBpZiAoYWN0dWFsRGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yKSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICBfLmVxbChkZXNjcmlwdG9yLCBhY3R1YWxEZXNjcmlwdG9yKVxuICAgICAgICAsICdleHBlY3RlZCB0aGUgb3duIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yICcgKyBfLmluc3BlY3QobmFtZSkgKyAnIG9uICN7dGhpc30gdG8gbWF0Y2ggJyArIF8uaW5zcGVjdChkZXNjcmlwdG9yKSArICcsIGdvdCAnICsgXy5pbnNwZWN0KGFjdHVhbERlc2NyaXB0b3IpXG4gICAgICAgICwgJ2V4cGVjdGVkIHRoZSBvd24gcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgJyArIF8uaW5zcGVjdChuYW1lKSArICcgb24gI3t0aGlzfSB0byBub3QgbWF0Y2ggJyArIF8uaW5zcGVjdChkZXNjcmlwdG9yKVxuICAgICAgICAsIGRlc2NyaXB0b3JcbiAgICAgICAgLCBhY3R1YWxEZXNjcmlwdG9yXG4gICAgICAgICwgdHJ1ZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgYWN0dWFsRGVzY3JpcHRvclxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGhhdmUgYW4gb3duIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yICcgKyBfLmluc3BlY3QobmFtZSlcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgaGF2ZSBhbiBvd24gcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgJyArIF8uaW5zcGVjdChuYW1lKVxuICAgICAgKTtcbiAgICB9XG4gICAgZmxhZyh0aGlzLCAnb2JqZWN0JywgYWN0dWFsRGVzY3JpcHRvcik7XG4gIH1cblxuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdvd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBhc3NlcnRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdoYXZlT3duUHJvcGVydHlEZXNjcmlwdG9yJywgYXNzZXJ0T3duUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuICAvKipcbiAgICogIyMjIC5sZW5ndGhPZihuWywgbXNnXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQncyBgbGVuZ3RoYCBvciBgc2l6ZWAgaXMgZXF1YWwgdG8gdGhlIGdpdmVuIG51bWJlclxuICAgKiBgbmAuXG4gICAqXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mKDMpO1xuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mKDMpO1xuICAgKiAgICAgZXhwZWN0KG5ldyBTZXQoWzEsIDIsIDNdKSkudG8uaGF2ZS5sZW5ndGhPZigzKTtcbiAgICogICAgIGV4cGVjdChuZXcgTWFwKFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSkpLnRvLmhhdmUubGVuZ3RoT2YoMyk7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAubGVuZ3RoT2ZgLiBIb3dldmVyLCBpdCdzIG9mdGVuXG4gICAqIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlIHRhcmdldCdzIGBsZW5ndGhgIHByb3BlcnR5IGlzIGVxdWFsIHRvIGl0cyBleHBlY3RlZFxuICAgKiB2YWx1ZSwgcmF0aGVyIHRoYW4gbm90IGVxdWFsIHRvIG9uZSBvZiBtYW55IHVuZXhwZWN0ZWQgdmFsdWVzLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5oYXZlLmxlbmd0aE9mKDMpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KCdmb28nKS50by5ub3QuaGF2ZS5sZW5ndGhPZig0KTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIGAubGVuZ3RoT2ZgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3JcbiAgICogbWVzc2FnZSB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXNcbiAgICogdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubGVuZ3RoT2YoMiwgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmhhdmUubGVuZ3RoT2YoMik7XG4gICAqXG4gICAqIGAubGVuZ3RoT2ZgIGNhbiBhbHNvIGJlIHVzZWQgYXMgYSBsYW5ndWFnZSBjaGFpbiwgY2F1c2luZyBhbGwgYC5hYm92ZWAsXG4gICAqIGAuYmVsb3dgLCBgLmxlYXN0YCwgYC5tb3N0YCwgYW5kIGAud2l0aGluYCBhc3NlcnRpb25zIHRoYXQgZm9sbG93IGluIHRoZVxuICAgKiBjaGFpbiB0byB1c2UgdGhlIHRhcmdldCdzIGBsZW5ndGhgIHByb3BlcnR5IGFzIHRoZSB0YXJnZXQuIEhvd2V2ZXIsIGl0J3NcbiAgICogb2Z0ZW4gYmVzdCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0J3MgYGxlbmd0aGAgcHJvcGVydHkgaXMgZXF1YWwgdG8gaXRzXG4gICAqIGV4cGVjdGVkIGxlbmd0aCwgcmF0aGVyIHRoYW4gYXNzZXJ0aW5nIHRoYXQgaXRzIGBsZW5ndGhgIHByb3BlcnR5IGZhbGxzXG4gICAqIHdpdGhpbiBzb21lIHJhbmdlIG9mIHZhbHVlcy5cbiAgICpcbiAgICogICAgIC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mKDMpO1xuICAgKlxuICAgKiAgICAgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mLmFib3ZlKDIpO1xuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5sZW5ndGhPZi5iZWxvdyg0KTtcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubGVuZ3RoT2YuYXQubGVhc3QoMyk7XG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mLmF0Lm1vc3QoMyk7XG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLmxlbmd0aE9mLndpdGhpbigyLDQpO1xuICAgKlxuICAgKiBEdWUgdG8gYSBjb21wYXRpYmlsaXR5IGlzc3VlLCB0aGUgYWxpYXMgYC5sZW5ndGhgIGNhbid0IGJlIGNoYWluZWQgZGlyZWN0bHlcbiAgICogb2ZmIG9mIGFuIHVuaW52b2tlZCBtZXRob2Qgc3VjaCBhcyBgLmFgLiBUaGVyZWZvcmUsIGAubGVuZ3RoYCBjYW4ndCBiZSB1c2VkXG4gICAqIGludGVyY2hhbmdlYWJseSB3aXRoIGAubGVuZ3RoT2ZgIGluIGV2ZXJ5IHNpdHVhdGlvbi4gSXQncyByZWNvbW1lbmRlZCB0b1xuICAgKiBhbHdheXMgdXNlIGAubGVuZ3RoT2ZgIGluc3RlYWQgb2YgYC5sZW5ndGhgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8uaGF2ZS5hLmxlbmd0aCgzKTsgLy8gaW5jb21wYXRpYmxlOyB0aHJvd3MgZXJyb3JcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUuYS5sZW5ndGhPZigzKTsgIC8vIHBhc3NlcyBhcyBleHBlY3RlZFxuICAgKlxuICAgKiBAbmFtZSBsZW5ndGhPZlxuICAgKiBAYWxpYXMgbGVuZ3RoXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBhc3NlcnRMZW5ndGhDaGFpbiAoKSB7XG4gICAgZmxhZyh0aGlzLCAnZG9MZW5ndGgnLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzc2VydExlbmd0aCAobiwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIG9ialR5cGUgPSBfLnR5cGUob2JqKS50b0xvd2VyQ2FzZSgpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKVxuICAgICAgLCBkZXNjcmlwdG9yID0gJ2xlbmd0aCdcbiAgICAgICwgaXRlbXNDb3VudDtcblxuICAgIHN3aXRjaCAob2JqVHlwZSkge1xuICAgICAgY2FzZSAnbWFwJzpcbiAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgIGRlc2NyaXB0b3IgPSAnc2l6ZSc7XG4gICAgICAgIGl0ZW1zQ291bnQgPSBvYmouc2l6ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkudG8uaGF2ZS5wcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gICAgICAgIGl0ZW1zQ291bnQgPSBvYmoubGVuZ3RoO1xuICAgIH1cblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBpdGVtc0NvdW50ID09IG5cbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gaGF2ZSBhICcgKyBkZXNjcmlwdG9yICsgJyBvZiAje2V4cH0gYnV0IGdvdCAje2FjdH0nXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBoYXZlIGEgJyArIGRlc2NyaXB0b3IgKyAnIG9mICN7YWN0fSdcbiAgICAgICwgblxuICAgICAgLCBpdGVtc0NvdW50XG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRDaGFpbmFibGVNZXRob2QoJ2xlbmd0aCcsIGFzc2VydExlbmd0aCwgYXNzZXJ0TGVuZ3RoQ2hhaW4pO1xuICBBc3NlcnRpb24uYWRkQ2hhaW5hYmxlTWV0aG9kKCdsZW5ndGhPZicsIGFzc2VydExlbmd0aCwgYXNzZXJ0TGVuZ3RoQ2hhaW4pO1xuXG4gIC8qKlxuICAgKiAjIyMgLm1hdGNoKHJlWywgbXNnXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgbWF0Y2hlcyB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uIGByZWAuXG4gICAqXG4gICAqICAgICBleHBlY3QoJ2Zvb2JhcicpLnRvLm1hdGNoKC9eZm9vLyk7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAubWF0Y2hgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb29iYXInKS50by5ub3QubWF0Y2goL3RhY28vKTtcbiAgICpcbiAgICogYC5tYXRjaGAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvciBtZXNzYWdlXG4gICAqIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhcyB0aGVcbiAgICogc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb29iYXInKS50by5tYXRjaCgvdGFjby8sICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCgnZm9vYmFyJywgJ25vb28gd2h5IGZhaWw/PycpLnRvLm1hdGNoKC90YWNvLyk7XG4gICAqXG4gICAqIFRoZSBhbGlhcyBgLm1hdGNoZXNgIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoIGAubWF0Y2hgLlxuICAgKlxuICAgKiBAbmFtZSBtYXRjaFxuICAgKiBAYWxpYXMgbWF0Y2hlc1xuICAgKiBAcGFyYW0ge1JlZ0V4cH0gcmVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBmdW5jdGlvbiBhc3NlcnRNYXRjaChyZSwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpO1xuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICByZS5leGVjKG9iailcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbWF0Y2ggJyArIHJlXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IG5vdCB0byBtYXRjaCAnICsgcmVcbiAgICApO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnbWF0Y2gnLCBhc3NlcnRNYXRjaCk7XG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ21hdGNoZXMnLCBhc3NlcnRNYXRjaCk7XG5cbiAgLyoqXG4gICAqICMjIyAuc3RyaW5nKHN0clssIG1zZ10pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IHN0cmluZyBjb250YWlucyB0aGUgZ2l2ZW4gc3Vic3RyaW5nIGBzdHJgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KCdmb29iYXInKS50by5oYXZlLnN0cmluZygnYmFyJyk7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuc3RyaW5nYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgnZm9vYmFyJykudG8ubm90LmhhdmUuc3RyaW5nKCd0YWNvJyk7XG4gICAqXG4gICAqIGAuc3RyaW5nYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yXG4gICAqIG1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzXG4gICAqIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoJ2Zvb2JhcicpLnRvLmhhdmUuc3RyaW5nKCd0YWNvJywgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KCdmb29iYXInLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uaGF2ZS5zdHJpbmcoJ3RhY28nKTtcbiAgICpcbiAgICogQG5hbWUgc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ3N0cmluZycsIGZ1bmN0aW9uIChzdHIsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBmbGFnTXNnID0gZmxhZyh0aGlzLCAnbWVzc2FnZScpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJyk7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIGZsYWdNc2csIHNzZmksIHRydWUpLmlzLmEoJ3N0cmluZycpO1xuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgIH5vYmouaW5kZXhPZihzdHIpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGNvbnRhaW4gJyArIF8uaW5zcGVjdChzdHIpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBjb250YWluICcgKyBfLmluc3BlY3Qoc3RyKVxuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmtleXMoa2V5MVssIGtleTJbLCAuLi5dXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgb2JqZWN0LCBhcnJheSwgbWFwLCBvciBzZXQgaGFzIHRoZSBnaXZlbiBrZXlzLiBPbmx5XG4gICAqIHRoZSB0YXJnZXQncyBvd24gaW5oZXJpdGVkIHByb3BlcnRpZXMgYXJlIGluY2x1ZGVkIGluIHRoZSBzZWFyY2guXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBhbiBvYmplY3Qgb3IgYXJyYXksIGtleXMgY2FuIGJlIHByb3ZpZGVkIGFzIG9uZSBvciBtb3JlXG4gICAqIHN0cmluZyBhcmd1bWVudHMsIGEgc2luZ2xlIGFycmF5IGFyZ3VtZW50LCBvciBhIHNpbmdsZSBvYmplY3QgYXJndW1lbnQuIEluXG4gICAqIHRoZSBsYXR0ZXIgY2FzZSwgb25seSB0aGUga2V5cyBpbiB0aGUgZ2l2ZW4gb2JqZWN0IG1hdHRlcjsgdGhlIHZhbHVlcyBhcmVcbiAgICogaWdub3JlZC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMSwgYjogMn0pLnRvLmhhdmUuYWxsLmtleXMoJ2EnLCAnYicpO1xuICAgKiAgICAgZXhwZWN0KFsneCcsICd5J10pLnRvLmhhdmUuYWxsLmtleXMoMCwgMSk7XG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDJ9KS50by5oYXZlLmFsbC5rZXlzKFsnYScsICdiJ10pO1xuICAgKiAgICAgZXhwZWN0KFsneCcsICd5J10pLnRvLmhhdmUuYWxsLmtleXMoWzAsIDFdKTtcbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMSwgYjogMn0pLnRvLmhhdmUuYWxsLmtleXMoe2E6IDQsIGI6IDV9KTsgLy8gaWdub3JlIDQgYW5kIDVcbiAgICogICAgIGV4cGVjdChbJ3gnLCAneSddKS50by5oYXZlLmFsbC5rZXlzKHswOiA0LCAxOiA1fSk7IC8vIGlnbm9yZSA0IGFuZCA1XG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBhIG1hcCBvciBzZXQsIGVhY2gga2V5IG11c3QgYmUgcHJvdmlkZWQgYXMgYSBzZXBhcmF0ZVxuICAgKiBhcmd1bWVudC5cbiAgICpcbiAgICogICAgIGV4cGVjdChuZXcgTWFwKFtbJ2EnLCAxXSwgWydiJywgMl1dKSkudG8uaGF2ZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqICAgICBleHBlY3QobmV3IFNldChbJ2EnLCAnYiddKSkudG8uaGF2ZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqXG4gICAqIEJlY2F1c2UgYC5rZXlzYCBkb2VzIGRpZmZlcmVudCB0aGluZ3MgYmFzZWQgb24gdGhlIHRhcmdldCdzIHR5cGUsIGl0J3NcbiAgICogaW1wb3J0YW50IHRvIGNoZWNrIHRoZSB0YXJnZXQncyB0eXBlIGJlZm9yZSB1c2luZyBgLmtleXNgLiBTZWUgdGhlIGAuYWAgZG9jXG4gICAqIGZvciBpbmZvIG9uIHRlc3RpbmcgYSB0YXJnZXQncyB0eXBlLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyfSkudG8uYmUuYW4oJ29iamVjdCcpLnRoYXQuaGFzLmFsbC5rZXlzKCdhJywgJ2InKTtcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgc3RyaWN0IChgPT09YCkgZXF1YWxpdHkgaXMgdXNlZCB0byBjb21wYXJlIGtleXMgb2YgbWFwcyBhbmRcbiAgICogc2V0cy4gQWRkIGAuZGVlcGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gdXNlIGRlZXAgZXF1YWxpdHkgaW5zdGVhZC4gU2VlXG4gICAqIHRoZSBgZGVlcC1lcWxgIHByb2plY3QgcGFnZSBmb3IgaW5mbyBvbiB0aGUgZGVlcCBlcXVhbGl0eSBhbGdvcml0aG06XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGFpanMvZGVlcC1lcWwuXG4gICAqXG4gICAqICAgICAvLyBUYXJnZXQgc2V0IGRlZXBseSAoYnV0IG5vdCBzdHJpY3RseSkgaGFzIGtleSBge2E6IDF9YFxuICAgKiAgICAgZXhwZWN0KG5ldyBTZXQoW3thOiAxfV0pKS50by5oYXZlLmFsbC5kZWVwLmtleXMoW3thOiAxfV0pO1xuICAgKiAgICAgZXhwZWN0KG5ldyBTZXQoW3thOiAxfV0pKS50by5ub3QuaGF2ZS5hbGwua2V5cyhbe2E6IDF9XSk7XG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSB0YXJnZXQgbXVzdCBoYXZlIGFsbCBvZiB0aGUgZ2l2ZW4ga2V5cyBhbmQgbm8gbW9yZS4gQWRkXG4gICAqIGAuYW55YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBvbmx5IHJlcXVpcmUgdGhhdCB0aGUgdGFyZ2V0IGhhdmUgYXQgbGVhc3RcbiAgICogb25lIG9mIHRoZSBnaXZlbiBrZXlzLiBBbHNvLCBhZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZVxuICAgKiBgLmtleXNgLiBJdCdzIG9mdGVuIGJlc3QgdG8gYWRkIGAuYW55YCB3aGVuIG5lZ2F0aW5nIGAua2V5c2AsIGFuZCB0byB1c2VcbiAgICogYC5hbGxgIHdoZW4gYXNzZXJ0aW5nIGAua2V5c2Agd2l0aG91dCBuZWdhdGlvbi5cbiAgICpcbiAgICogV2hlbiBuZWdhdGluZyBgLmtleXNgLCBgLmFueWAgaXMgcHJlZmVycmVkIGJlY2F1c2UgYC5ub3QuYW55LmtleXNgIGFzc2VydHNcbiAgICogZXhhY3RseSB3aGF0J3MgZXhwZWN0ZWQgb2YgdGhlIG91dHB1dCwgd2hlcmVhcyBgLm5vdC5hbGwua2V5c2AgY3JlYXRlc1xuICAgKiB1bmNlcnRhaW4gZXhwZWN0YXRpb25zLlxuICAgKlxuICAgKiAgICAgLy8gUmVjb21tZW5kZWQ7IGFzc2VydHMgdGhhdCB0YXJnZXQgZG9lc24ndCBoYXZlIGFueSBvZiB0aGUgZ2l2ZW4ga2V5c1xuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyfSkudG8ubm90LmhhdmUuYW55LmtleXMoJ2MnLCAnZCcpO1xuICAgKlxuICAgKiAgICAgLy8gTm90IHJlY29tbWVuZGVkOyBhc3NlcnRzIHRoYXQgdGFyZ2V0IGRvZXNuJ3QgaGF2ZSBhbGwgb2YgdGhlIGdpdmVuXG4gICAqICAgICAvLyBrZXlzIGJ1dCBtYXkgb3IgbWF5IG5vdCBoYXZlIHNvbWUgb2YgdGhlbVxuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyfSkudG8ubm90LmhhdmUuYWxsLmtleXMoJ2MnLCAnZCcpO1xuICAgKlxuICAgKiBXaGVuIGFzc2VydGluZyBgLmtleXNgIHdpdGhvdXQgbmVnYXRpb24sIGAuYWxsYCBpcyBwcmVmZXJyZWQgYmVjYXVzZVxuICAgKiBgLmFsbC5rZXlzYCBhc3NlcnRzIGV4YWN0bHkgd2hhdCdzIGV4cGVjdGVkIG9mIHRoZSBvdXRwdXQsIHdoZXJlYXNcbiAgICogYC5hbnkua2V5c2AgY3JlYXRlcyB1bmNlcnRhaW4gZXhwZWN0YXRpb25zLlxuICAgKlxuICAgKiAgICAgLy8gUmVjb21tZW5kZWQ7IGFzc2VydHMgdGhhdCB0YXJnZXQgaGFzIGFsbCB0aGUgZ2l2ZW4ga2V5c1xuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyfSkudG8uaGF2ZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqXG4gICAqICAgICAvLyBOb3QgcmVjb21tZW5kZWQ7IGFzc2VydHMgdGhhdCB0YXJnZXQgaGFzIGF0IGxlYXN0IG9uZSBvZiB0aGUgZ2l2ZW5cbiAgICogICAgIC8vIGtleXMgYnV0IG1heSBvciBtYXkgbm90IGhhdmUgbW9yZSBvZiB0aGVtXG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDJ9KS50by5oYXZlLmFueS5rZXlzKCdhJywgJ2InKTtcbiAgICpcbiAgICogTm90ZSB0aGF0IGAuYWxsYCBpcyB1c2VkIGJ5IGRlZmF1bHQgd2hlbiBuZWl0aGVyIGAuYWxsYCBub3IgYC5hbnlgIGFwcGVhclxuICAgKiBlYXJsaWVyIGluIHRoZSBjaGFpbi4gSG93ZXZlciwgaXQncyBvZnRlbiBiZXN0IHRvIGFkZCBgLmFsbGAgYW55d2F5IGJlY2F1c2VcbiAgICogaXQgaW1wcm92ZXMgcmVhZGFiaWxpdHkuXG4gICAqXG4gICAqICAgICAvLyBCb3RoIGFzc2VydGlvbnMgYXJlIGlkZW50aWNhbFxuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyfSkudG8uaGF2ZS5hbGwua2V5cygnYScsICdiJyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDJ9KS50by5oYXZlLmtleXMoJ2EnLCAnYicpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAuaW5jbHVkZWAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gcmVxdWlyZSB0aGF0IHRoZSB0YXJnZXQncyBrZXlzIGJlIGFcbiAgICogc3VwZXJzZXQgb2YgdGhlIGV4cGVjdGVkIGtleXMsIHJhdGhlciB0aGFuIGlkZW50aWNhbCBzZXRzLlxuICAgKlxuICAgKiAgICAgLy8gVGFyZ2V0IG9iamVjdCdzIGtleXMgYXJlIGEgc3VwZXJzZXQgb2YgWydhJywgJ2InXSBidXQgbm90IGlkZW50aWNhbFxuICAgKiAgICAgZXhwZWN0KHthOiAxLCBiOiAyLCBjOiAzfSkudG8uaW5jbHVkZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqICAgICBleHBlY3Qoe2E6IDEsIGI6IDIsIGM6IDN9KS50by5ub3QuaGF2ZS5hbGwua2V5cygnYScsICdiJyk7XG4gICAqXG4gICAqIEhvd2V2ZXIsIGlmIGAuYW55YCBhbmQgYC5pbmNsdWRlYCBhcmUgY29tYmluZWQsIG9ubHkgdGhlIGAuYW55YCB0YWtlc1xuICAgKiBlZmZlY3QuIFRoZSBgLmluY2x1ZGVgIGlzIGlnbm9yZWQgaW4gdGhpcyBjYXNlLlxuICAgKlxuICAgKiAgICAgLy8gQm90aCBhc3NlcnRpb25zIGFyZSBpZGVudGljYWxcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLmhhdmUuYW55LmtleXMoJ2EnLCAnYicpO1xuICAgKiAgICAgZXhwZWN0KHthOiAxfSkudG8uaW5jbHVkZS5hbnkua2V5cygnYScsICdiJyk7XG4gICAqXG4gICAqIEEgY3VzdG9tIGVycm9yIG1lc3NhZ2UgY2FuIGJlIGdpdmVuIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uaGF2ZS5rZXkoJ2InKTtcbiAgICpcbiAgICogVGhlIGFsaWFzIGAua2V5YCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLmtleXNgLlxuICAgKlxuICAgKiBAbmFtZSBrZXlzXG4gICAqIEBhbGlhcyBrZXlcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd8QXJyYXl8T2JqZWN0fSBrZXlzXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydEtleXMgKGtleXMpIHtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICAgICwgb2JqVHlwZSA9IF8udHlwZShvYmopXG4gICAgICAsIGtleXNUeXBlID0gXy50eXBlKGtleXMpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJylcbiAgICAgICwgaXNEZWVwID0gZmxhZyh0aGlzLCAnZGVlcCcpXG4gICAgICAsIHN0clxuICAgICAgLCBkZWVwU3RyID0gJydcbiAgICAgICwgYWN0dWFsXG4gICAgICAsIG9rID0gdHJ1ZVxuICAgICAgLCBmbGFnTXNnID0gZmxhZyh0aGlzLCAnbWVzc2FnZScpO1xuXG4gICAgZmxhZ01zZyA9IGZsYWdNc2cgPyBmbGFnTXNnICsgJzogJyA6ICcnO1xuICAgIHZhciBtaXhlZEFyZ3NNc2cgPSBmbGFnTXNnICsgJ3doZW4gdGVzdGluZyBrZXlzIGFnYWluc3QgYW4gb2JqZWN0IG9yIGFuIGFycmF5IHlvdSBtdXN0IGdpdmUgYSBzaW5nbGUgQXJyYXl8T2JqZWN0fFN0cmluZyBhcmd1bWVudCBvciBtdWx0aXBsZSBTdHJpbmcgYXJndW1lbnRzJztcblxuICAgIGlmIChvYmpUeXBlID09PSAnTWFwJyB8fCBvYmpUeXBlID09PSAnU2V0Jykge1xuICAgICAgZGVlcFN0ciA9IGlzRGVlcCA/ICdkZWVwbHkgJyA6ICcnO1xuICAgICAgYWN0dWFsID0gW107XG5cbiAgICAgIC8vIE1hcCBhbmQgU2V0ICcua2V5cycgYXJlbid0IHN1cHBvcnRlZCBpbiBJRSAxMS4gVGhlcmVmb3JlLCB1c2UgLmZvckVhY2guXG4gICAgICBvYmouZm9yRWFjaChmdW5jdGlvbiAodmFsLCBrZXkpIHsgYWN0dWFsLnB1c2goa2V5KSB9KTtcblxuICAgICAgaWYgKGtleXNUeXBlICE9PSAnQXJyYXknKSB7XG4gICAgICAgIGtleXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhY3R1YWwgPSBfLmdldE93bkVudW1lcmFibGVQcm9wZXJ0aWVzKG9iaik7XG5cbiAgICAgIHN3aXRjaCAoa2V5c1R5cGUpIHtcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKG1peGVkQXJnc01zZywgdW5kZWZpbmVkLCBzc2ZpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ09iamVjdCc6XG4gICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IobWl4ZWRBcmdzTXNnLCB1bmRlZmluZWQsIHNzZmkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoa2V5cyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAga2V5cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIE9ubHkgc3RyaW5naWZ5IG5vbi1TeW1ib2xzIGJlY2F1c2UgU3ltYm9scyB3b3VsZCBiZWNvbWUgXCJTeW1ib2woKVwiXG4gICAgICBrZXlzID0ga2V5cy5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCcgPyB2YWwgOiBTdHJpbmcodmFsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICgha2V5cy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihmbGFnTXNnICsgJ2tleXMgcmVxdWlyZWQnLCB1bmRlZmluZWQsIHNzZmkpO1xuICAgIH1cblxuICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aFxuICAgICAgLCBhbnkgPSBmbGFnKHRoaXMsICdhbnknKVxuICAgICAgLCBhbGwgPSBmbGFnKHRoaXMsICdhbGwnKVxuICAgICAgLCBleHBlY3RlZCA9IGtleXM7XG5cbiAgICBpZiAoIWFueSAmJiAhYWxsKSB7XG4gICAgICBhbGwgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEhhcyBhbnlcbiAgICBpZiAoYW55KSB7XG4gICAgICBvayA9IGV4cGVjdGVkLnNvbWUoZnVuY3Rpb24oZXhwZWN0ZWRLZXkpIHtcbiAgICAgICAgcmV0dXJuIGFjdHVhbC5zb21lKGZ1bmN0aW9uKGFjdHVhbEtleSkge1xuICAgICAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBfLmVxbChleHBlY3RlZEtleSwgYWN0dWFsS2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkS2V5ID09PSBhY3R1YWxLZXk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhhcyBhbGxcbiAgICBpZiAoYWxsKSB7XG4gICAgICBvayA9IGV4cGVjdGVkLmV2ZXJ5KGZ1bmN0aW9uKGV4cGVjdGVkS2V5KSB7XG4gICAgICAgIHJldHVybiBhY3R1YWwuc29tZShmdW5jdGlvbihhY3R1YWxLZXkpIHtcbiAgICAgICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5lcWwoZXhwZWN0ZWRLZXksIGFjdHVhbEtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBleHBlY3RlZEtleSA9PT0gYWN0dWFsS2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFmbGFnKHRoaXMsICdjb250YWlucycpKSB7XG4gICAgICAgIG9rID0gb2sgJiYga2V5cy5sZW5ndGggPT0gYWN0dWFsLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBLZXkgc3RyaW5nXG4gICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgIGtleXMgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIF8uaW5zcGVjdChrZXkpO1xuICAgICAgfSk7XG4gICAgICB2YXIgbGFzdCA9IGtleXMucG9wKCk7XG4gICAgICBpZiAoYWxsKSB7XG4gICAgICAgIHN0ciA9IGtleXMuam9pbignLCAnKSArICcsIGFuZCAnICsgbGFzdDtcbiAgICAgIH1cbiAgICAgIGlmIChhbnkpIHtcbiAgICAgICAgc3RyID0ga2V5cy5qb2luKCcsICcpICsgJywgb3IgJyArIGxhc3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IF8uaW5zcGVjdChrZXlzWzBdKTtcbiAgICB9XG5cbiAgICAvLyBGb3JtXG4gICAgc3RyID0gKGxlbiA+IDEgPyAna2V5cyAnIDogJ2tleSAnKSArIHN0cjtcblxuICAgIC8vIEhhdmUgLyBpbmNsdWRlXG4gICAgc3RyID0gKGZsYWcodGhpcywgJ2NvbnRhaW5zJykgPyAnY29udGFpbiAnIDogJ2hhdmUgJykgKyBzdHI7XG5cbiAgICAvLyBBc3NlcnRpb25cbiAgICB0aGlzLmFzc2VydChcbiAgICAgICAgb2tcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gJyArIGRlZXBTdHIgKyBzdHJcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90ICcgKyBkZWVwU3RyICsgc3RyXG4gICAgICAsIGV4cGVjdGVkLnNsaWNlKDApLnNvcnQoXy5jb21wYXJlQnlJbnNwZWN0KVxuICAgICAgLCBhY3R1YWwuc29ydChfLmNvbXBhcmVCeUluc3BlY3QpXG4gICAgICAsIHRydWVcbiAgICApO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgna2V5cycsIGFzc2VydEtleXMpO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdrZXknLCBhc3NlcnRLZXlzKTtcblxuICAvKipcbiAgICogIyMjIC50aHJvdyhbZXJyb3JMaWtlXSwgW2Vyck1zZ01hdGNoZXJdLCBbbXNnXSlcbiAgICpcbiAgICogV2hlbiBubyBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCBgLnRocm93YCBpbnZva2VzIHRoZSB0YXJnZXQgZnVuY3Rpb24gYW5kXG4gICAqIGFzc2VydHMgdGhhdCBhbiBlcnJvciBpcyB0aHJvd24uXG4gICAqXG4gICAqICAgICB2YXIgYmFkRm4gPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgc2FsbW9uIScpOyB9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KGJhZEZuKS50by50aHJvdygpO1xuICAgKlxuICAgKiBXaGVuIG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCwgYW5kIGl0J3MgYW4gZXJyb3IgY29uc3RydWN0b3IsIGAudGhyb3dgXG4gICAqIGludm9rZXMgdGhlIHRhcmdldCBmdW5jdGlvbiBhbmQgYXNzZXJ0cyB0aGF0IGFuIGVycm9yIGlzIHRocm93biB0aGF0J3MgYW5cbiAgICogaW5zdGFuY2Ugb2YgdGhhdCBlcnJvciBjb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogICAgIHZhciBiYWRGbiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBzYWxtb24hJyk7IH07XG4gICAqXG4gICAqICAgICBleHBlY3QoYmFkRm4pLnRvLnRocm93KFR5cGVFcnJvcik7XG4gICAqXG4gICAqIFdoZW4gb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkLCBhbmQgaXQncyBhbiBlcnJvciBpbnN0YW5jZSwgYC50aHJvd2AgaW52b2tlc1xuICAgKiB0aGUgdGFyZ2V0IGZ1bmN0aW9uIGFuZCBhc3NlcnRzIHRoYXQgYW4gZXJyb3IgaXMgdGhyb3duIHRoYXQncyBzdHJpY3RseVxuICAgKiAoYD09PWApIGVxdWFsIHRvIHRoYXQgZXJyb3IgaW5zdGFuY2UuXG4gICAqXG4gICAqICAgICB2YXIgZXJyID0gbmV3IFR5cGVFcnJvcignSWxsZWdhbCBzYWxtb24hJyk7XG4gICAqICAgICB2YXIgYmFkRm4gPSBmdW5jdGlvbiAoKSB7IHRocm93IGVycjsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChiYWRGbikudG8udGhyb3coZXJyKTtcbiAgICpcbiAgICogV2hlbiBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQsIGFuZCBpdCdzIGEgc3RyaW5nLCBgLnRocm93YCBpbnZva2VzIHRoZVxuICAgKiB0YXJnZXQgZnVuY3Rpb24gYW5kIGFzc2VydHMgdGhhdCBhbiBlcnJvciBpcyB0aHJvd24gd2l0aCBhIG1lc3NhZ2UgdGhhdFxuICAgKiBjb250YWlucyB0aGF0IHN0cmluZy5cbiAgICpcbiAgICogICAgIHZhciBiYWRGbiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBzYWxtb24hJyk7IH07XG4gICAqXG4gICAqICAgICBleHBlY3QoYmFkRm4pLnRvLnRocm93KCdzYWxtb24nKTtcbiAgICpcbiAgICogV2hlbiBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQsIGFuZCBpdCdzIGEgcmVndWxhciBleHByZXNzaW9uLCBgLnRocm93YFxuICAgKiBpbnZva2VzIHRoZSB0YXJnZXQgZnVuY3Rpb24gYW5kIGFzc2VydHMgdGhhdCBhbiBlcnJvciBpcyB0aHJvd24gd2l0aCBhXG4gICAqIG1lc3NhZ2UgdGhhdCBtYXRjaGVzIHRoYXQgcmVndWxhciBleHByZXNzaW9uLlxuICAgKlxuICAgKiAgICAgdmFyIGJhZEZuID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbGxlZ2FsIHNhbG1vbiEnKTsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChiYWRGbikudG8udGhyb3coL3NhbG1vbi8pO1xuICAgKlxuICAgKiBXaGVuIHR3byBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCBhbmQgdGhlIGZpcnN0IGlzIGFuIGVycm9yIGluc3RhbmNlIG9yXG4gICAqIGNvbnN0cnVjdG9yLCBhbmQgdGhlIHNlY29uZCBpcyBhIHN0cmluZyBvciByZWd1bGFyIGV4cHJlc3Npb24sIGAudGhyb3dgXG4gICAqIGludm9rZXMgdGhlIGZ1bmN0aW9uIGFuZCBhc3NlcnRzIHRoYXQgYW4gZXJyb3IgaXMgdGhyb3duIHRoYXQgZnVsZmlsbHMgYm90aFxuICAgKiBjb25kaXRpb25zIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAgICpcbiAgICogICAgIHZhciBlcnIgPSBuZXcgVHlwZUVycm9yKCdJbGxlZ2FsIHNhbG1vbiEnKTtcbiAgICogICAgIHZhciBiYWRGbiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KGJhZEZuKS50by50aHJvdyhUeXBlRXJyb3IsICdzYWxtb24nKTtcbiAgICogICAgIGV4cGVjdChiYWRGbikudG8udGhyb3coVHlwZUVycm9yLCAvc2FsbW9uLyk7XG4gICAqICAgICBleHBlY3QoYmFkRm4pLnRvLnRocm93KGVyciwgJ3NhbG1vbicpO1xuICAgKiAgICAgZXhwZWN0KGJhZEZuKS50by50aHJvdyhlcnIsIC9zYWxtb24vKTtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC50aHJvd2AuXG4gICAqXG4gICAqICAgICB2YXIgZ29vZEZuID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3QoZ29vZEZuKS50by5ub3QudGhyb3coKTtcbiAgICpcbiAgICogSG93ZXZlciwgaXQncyBkYW5nZXJvdXMgdG8gbmVnYXRlIGAudGhyb3dgIHdoZW4gcHJvdmlkaW5nIGFueSBhcmd1bWVudHMuXG4gICAqIFRoZSBwcm9ibGVtIGlzIHRoYXQgaXQgY3JlYXRlcyB1bmNlcnRhaW4gZXhwZWN0YXRpb25zIGJ5IGFzc2VydGluZyB0aGF0IHRoZVxuICAgKiB0YXJnZXQgZWl0aGVyIGRvZXNuJ3QgdGhyb3cgYW4gZXJyb3IsIG9yIHRoYXQgaXQgdGhyb3dzIGFuIGVycm9yIGJ1dCBvZiBhXG4gICAqIGRpZmZlcmVudCB0eXBlIHRoYW4gdGhlIGdpdmVuIHR5cGUsIG9yIHRoYXQgaXQgdGhyb3dzIGFuIGVycm9yIG9mIHRoZSBnaXZlblxuICAgKiB0eXBlIGJ1dCB3aXRoIGEgbWVzc2FnZSB0aGF0IGRvZXNuJ3QgaW5jbHVkZSB0aGUgZ2l2ZW4gc3RyaW5nLiBJdCdzIG9mdGVuXG4gICAqIGJlc3QgdG8gaWRlbnRpZnkgdGhlIGV4YWN0IG91dHB1dCB0aGF0J3MgZXhwZWN0ZWQsIGFuZCB0aGVuIHdyaXRlIGFuXG4gICAqIGFzc2VydGlvbiB0aGF0IG9ubHkgYWNjZXB0cyB0aGF0IGV4YWN0IG91dHB1dC5cbiAgICpcbiAgICogV2hlbiB0aGUgdGFyZ2V0IGlzbid0IGV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0XG4gICAqIGV4YWN0bHkgdGhhdC5cbiAgICpcbiAgICogICAgIHZhciBnb29kRm4gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICpcbiAgICogICAgIGV4cGVjdChnb29kRm4pLnRvLm5vdC50aHJvdygpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KGdvb2RGbikudG8ubm90LnRocm93KFJlZmVyZW5jZUVycm9yLCAneCcpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogV2hlbiB0aGUgdGFyZ2V0IGlzIGV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0XG4gICAqIHRoYXQgdGhlIGVycm9yIGlzIG9mIGl0cyBleHBlY3RlZCB0eXBlLCBhbmQgaGFzIGEgbWVzc2FnZSB0aGF0IGluY2x1ZGVzIGFuXG4gICAqIGV4cGVjdGVkIHN0cmluZywgcmF0aGVyIHRoYW4gYXNzZXJ0aW5nIHRoYXQgaXQgZG9lc24ndCBoYXZlIG9uZSBvZiBtYW55XG4gICAqIHVuZXhwZWN0ZWQgdHlwZXMsIGFuZCBkb2Vzbid0IGhhdmUgYSBtZXNzYWdlIHRoYXQgaW5jbHVkZXMgc29tZSBzdHJpbmcuXG4gICAqXG4gICAqICAgICB2YXIgYmFkRm4gPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgc2FsbW9uIScpOyB9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KGJhZEZuKS50by50aHJvdyhUeXBlRXJyb3IsICdzYWxtb24nKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChiYWRGbikudG8ubm90LnRocm93KFJlZmVyZW5jZUVycm9yLCAneCcpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC50aHJvd2AgY2hhbmdlcyB0aGUgdGFyZ2V0IG9mIGFueSBhc3NlcnRpb25zIHRoYXQgZm9sbG93IGluIHRoZSBjaGFpbiB0b1xuICAgKiBiZSB0aGUgZXJyb3Igb2JqZWN0IHRoYXQncyB0aHJvd24uXG4gICAqXG4gICAqICAgICB2YXIgZXJyID0gbmV3IFR5cGVFcnJvcignSWxsZWdhbCBzYWxtb24hJyk7XG4gICAqICAgICBlcnIuY29kZSA9IDQyO1xuICAgKiAgICAgdmFyIGJhZEZuID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH07XG4gICAqXG4gICAqICAgICBleHBlY3QoYmFkRm4pLnRvLnRocm93KFR5cGVFcnJvcikud2l0aC5wcm9wZXJ0eSgnY29kZScsIDQyKTtcbiAgICpcbiAgICogYC50aHJvd2AgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvciBtZXNzYWdlXG4gICAqIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhcyB0aGVcbiAgICogc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLiBXaGVuIG5vdCBwcm92aWRpbmcgdHdvIGFyZ3VtZW50cywgYWx3YXlzIHVzZVxuICAgKiB0aGUgc2Vjb25kIGZvcm0uXG4gICAqXG4gICAqICAgICB2YXIgZ29vZEZuID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3QoZ29vZEZuKS50by50aHJvdyhUeXBlRXJyb3IsICd4JywgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KGdvb2RGbiwgJ25vb28gd2h5IGZhaWw/PycpLnRvLnRocm93KCk7XG4gICAqXG4gICAqIER1ZSB0byBsaW1pdGF0aW9ucyBpbiBFUzUsIGAudGhyb3dgIG1heSBub3QgYWx3YXlzIHdvcmsgYXMgZXhwZWN0ZWQgd2hlblxuICAgKiB1c2luZyBhIHRyYW5zcGlsZXIgc3VjaCBhcyBCYWJlbCBvciBUeXBlU2NyaXB0LiBJbiBwYXJ0aWN1bGFyLCBpdCBtYXlcbiAgICogcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMgd2hlbiBzdWJjbGFzc2luZyB0aGUgYnVpbHQtaW4gYEVycm9yYCBvYmplY3QgYW5kXG4gICAqIHRoZW4gcGFzc2luZyB0aGUgc3ViY2xhc3NlZCBjb25zdHJ1Y3RvciB0byBgLnRocm93YC4gU2VlIHlvdXIgdHJhbnNwaWxlcidzXG4gICAqIGRvY3MgZm9yIGRldGFpbHM6XG4gICAqXG4gICAqIC0gKFtCYWJlbF0oaHR0cHM6Ly9iYWJlbGpzLmlvL2RvY3MvdXNhZ2UvY2F2ZWF0cy8jY2xhc3NlcykpXG4gICAqIC0gKFtUeXBlU2NyaXB0XShodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvd2lraS9CcmVha2luZy1DaGFuZ2VzI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29yaykpXG4gICAqXG4gICAqIEJld2FyZSBvZiBzb21lIGNvbW1vbiBtaXN0YWtlcyB3aGVuIHVzaW5nIHRoZSBgdGhyb3dgIGFzc2VydGlvbi4gT25lIGNvbW1vblxuICAgKiBtaXN0YWtlIGlzIHRvIGFjY2lkZW50YWxseSBpbnZva2UgdGhlIGZ1bmN0aW9uIHlvdXJzZWxmIGluc3RlYWQgb2YgbGV0dGluZ1xuICAgKiB0aGUgYHRocm93YCBhc3NlcnRpb24gaW52b2tlIHRoZSBmdW5jdGlvbiBmb3IgeW91LiBGb3IgZXhhbXBsZSwgd2hlblxuICAgKiB0ZXN0aW5nIGlmIGEgZnVuY3Rpb24gbmFtZWQgYGZuYCB0aHJvd3MsIHByb3ZpZGUgYGZuYCBpbnN0ZWFkIG9mIGBmbigpYCBhc1xuICAgKiB0aGUgdGFyZ2V0IGZvciB0aGUgYXNzZXJ0aW9uLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KGZuKS50by50aHJvdygpOyAgICAgLy8gR29vZCEgVGVzdHMgYGZuYCBhcyBkZXNpcmVkXG4gICAqICAgICBleHBlY3QoZm4oKSkudG8udGhyb3coKTsgICAvLyBCYWQhIFRlc3RzIHJlc3VsdCBvZiBgZm4oKWAsIG5vdCBgZm5gXG4gICAqXG4gICAqIElmIHlvdSBuZWVkIHRvIGFzc2VydCB0aGF0IHlvdXIgZnVuY3Rpb24gYGZuYCB0aHJvd3Mgd2hlbiBwYXNzZWQgY2VydGFpblxuICAgKiBhcmd1bWVudHMsIHRoZW4gd3JhcCBhIGNhbGwgdG8gYGZuYCBpbnNpZGUgb2YgYW5vdGhlciBmdW5jdGlvbi5cbiAgICpcbiAgICogICAgIGV4cGVjdChmdW5jdGlvbiAoKSB7IGZuKDQyKTsgfSkudG8udGhyb3coKTsgIC8vIEZ1bmN0aW9uIGV4cHJlc3Npb25cbiAgICogICAgIGV4cGVjdCgoKSA9PiBmbig0MikpLnRvLnRocm93KCk7ICAgICAgICAgICAgIC8vIEVTNiBhcnJvdyBmdW5jdGlvblxuICAgKlxuICAgKiBBbm90aGVyIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHByb3ZpZGUgYW4gb2JqZWN0IG1ldGhvZCAob3IgYW55IHN0YW5kLWFsb25lXG4gICAqIGZ1bmN0aW9uIHRoYXQgcmVsaWVzIG9uIGB0aGlzYCkgYXMgdGhlIHRhcmdldCBvZiB0aGUgYXNzZXJ0aW9uLiBEb2luZyBzbyBpc1xuICAgKiBwcm9ibGVtYXRpYyBiZWNhdXNlIHRoZSBgdGhpc2AgY29udGV4dCB3aWxsIGJlIGxvc3Qgd2hlbiB0aGUgZnVuY3Rpb24gaXNcbiAgICogaW52b2tlZCBieSBgLnRocm93YDsgdGhlcmUncyBubyB3YXkgZm9yIGl0IHRvIGtub3cgd2hhdCBgdGhpc2AgaXMgc3VwcG9zZWRcbiAgICogdG8gYmUuIFRoZXJlIGFyZSB0d28gd2F5cyBhcm91bmQgdGhpcyBwcm9ibGVtLiBPbmUgc29sdXRpb24gaXMgdG8gd3JhcCB0aGVcbiAgICogbWV0aG9kIG9yIGZ1bmN0aW9uIGNhbGwgaW5zaWRlIG9mIGFub3RoZXIgZnVuY3Rpb24uIEFub3RoZXIgc29sdXRpb24gaXMgdG9cbiAgICogdXNlIGBiaW5kYC5cbiAgICpcbiAgICogICAgIGV4cGVjdChmdW5jdGlvbiAoKSB7IGNhdC5tZW93KCk7IH0pLnRvLnRocm93KCk7ICAvLyBGdW5jdGlvbiBleHByZXNzaW9uXG4gICAqICAgICBleHBlY3QoKCkgPT4gY2F0Lm1lb3coKSkudG8udGhyb3coKTsgICAgICAgICAgICAgLy8gRVM2IGFycm93IGZ1bmN0aW9uXG4gICAqICAgICBleHBlY3QoY2F0Lm1lb3cuYmluZChjYXQpKS50by50aHJvdygpOyAgICAgICAgICAgLy8gQmluZFxuICAgKlxuICAgKiBGaW5hbGx5LCBpdCdzIHdvcnRoIG1lbnRpb25pbmcgdGhhdCBpdCdzIGEgYmVzdCBwcmFjdGljZSBpbiBKYXZhU2NyaXB0IHRvXG4gICAqIG9ubHkgdGhyb3cgYEVycm9yYCBhbmQgZGVyaXZhdGl2ZXMgb2YgYEVycm9yYCBzdWNoIGFzIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAqIGBUeXBlRXJyb3JgLCBhbmQgdXNlci1kZWZpbmVkIG9iamVjdHMgdGhhdCBleHRlbmQgYEVycm9yYC4gTm8gb3RoZXIgdHlwZSBvZlxuICAgKiB2YWx1ZSB3aWxsIGdlbmVyYXRlIGEgc3RhY2sgdHJhY2Ugd2hlbiBpbml0aWFsaXplZC4gV2l0aCB0aGF0IHNhaWQsIHRoZVxuICAgKiBgdGhyb3dgIGFzc2VydGlvbiBkb2VzIHRlY2huaWNhbGx5IHN1cHBvcnQgYW55IHR5cGUgb2YgdmFsdWUgYmVpbmcgdGhyb3duLFxuICAgKiBub3QganVzdCBgRXJyb3JgIGFuZCBpdHMgZGVyaXZhdGl2ZXMuXG4gICAqXG4gICAqIFRoZSBhbGlhc2VzIGAudGhyb3dzYCBhbmQgYC5UaHJvd2AgY2FuIGJlIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IHdpdGhcbiAgICogYC50aHJvd2AuXG4gICAqXG4gICAqIEBuYW1lIHRocm93XG4gICAqIEBhbGlhcyB0aHJvd3NcbiAgICogQGFsaWFzIFRocm93XG4gICAqIEBwYXJhbSB7RXJyb3J8RXJyb3JDb25zdHJ1Y3Rvcn0gZXJyb3JMaWtlXG4gICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXJyTXNnTWF0Y2hlciBlcnJvciBtZXNzYWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0Vycm9yX3R5cGVzXG4gICAqIEByZXR1cm5zIGVycm9yIGZvciBjaGFpbmluZyAobnVsbCBpZiBubyBlcnJvcilcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gYXNzZXJ0VGhyb3dzIChlcnJvckxpa2UsIGVyck1zZ01hdGNoZXIsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBzc2ZpID0gZmxhZyh0aGlzLCAnc3NmaScpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgbmVnYXRlID0gZmxhZyh0aGlzLCAnbmVnYXRlJykgfHwgZmFsc2U7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIGZsYWdNc2csIHNzZmksIHRydWUpLmlzLmEoJ2Z1bmN0aW9uJyk7XG5cbiAgICBpZiAoZXJyb3JMaWtlIGluc3RhbmNlb2YgUmVnRXhwIHx8IHR5cGVvZiBlcnJvckxpa2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlcnJNc2dNYXRjaGVyID0gZXJyb3JMaWtlO1xuICAgICAgZXJyb3JMaWtlID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY2F1Z2h0RXJyO1xuICAgIHRyeSB7XG4gICAgICBvYmooKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNhdWdodEVyciA9IGVycjtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIHRoZSBuZWdhdGUgZmxhZyBlbmFibGVkIGFuZCBhdCBsZWFzdCBvbmUgdmFsaWQgYXJndW1lbnQgaXQgbWVhbnMgd2UgZG8gZXhwZWN0IGFuIGVycm9yXG4gICAgLy8gYnV0IHdlIHdhbnQgaXQgdG8gbWF0Y2ggYSBnaXZlbiBzZXQgb2YgY3JpdGVyaWFcbiAgICB2YXIgZXZlcnlBcmdJc1VuZGVmaW5lZCA9IGVycm9yTGlrZSA9PT0gdW5kZWZpbmVkICYmIGVyck1zZ01hdGNoZXIgPT09IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHdlJ3ZlIGdvdCB0aGUgbmVnYXRlIGZsYWcgZW5hYmxlZCBhbmQgYm90aCBhcmdzLCB3ZSBzaG91bGQgb25seSBmYWlsIGlmIGJvdGggYXJlbid0IGNvbXBhdGlibGVcbiAgICAvLyBTZWUgSXNzdWUgIzU1MSBhbmQgUFIgIzY4M0BHaXRIdWJcbiAgICB2YXIgZXZlcnlBcmdJc0RlZmluZWQgPSBCb29sZWFuKGVycm9yTGlrZSAmJiBlcnJNc2dNYXRjaGVyKTtcbiAgICB2YXIgZXJyb3JMaWtlRmFpbCA9IGZhbHNlO1xuICAgIHZhciBlcnJNc2dNYXRjaGVyRmFpbCA9IGZhbHNlO1xuXG4gICAgLy8gQ2hlY2tpbmcgaWYgZXJyb3Igd2FzIHRocm93blxuICAgIGlmIChldmVyeUFyZ0lzVW5kZWZpbmVkIHx8ICFldmVyeUFyZ0lzVW5kZWZpbmVkICYmICFuZWdhdGUpIHtcbiAgICAgIC8vIFdlIG5lZWQgdGhpcyB0byBkaXNwbGF5IHJlc3VsdHMgY29ycmVjdGx5IGFjY29yZGluZyB0byB0aGVpciB0eXBlc1xuICAgICAgdmFyIGVycm9yTGlrZVN0cmluZyA9ICdhbiBlcnJvcic7XG4gICAgICBpZiAoZXJyb3JMaWtlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgZXJyb3JMaWtlU3RyaW5nID0gJyN7ZXhwfSc7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yTGlrZSkge1xuICAgICAgICBlcnJvckxpa2VTdHJpbmcgPSBfLmNoZWNrRXJyb3IuZ2V0Q29uc3RydWN0b3JOYW1lKGVycm9yTGlrZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICAgIGNhdWdodEVyclxuICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIHRocm93ICcgKyBlcnJvckxpa2VTdHJpbmdcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgdGhyb3cgYW4gZXJyb3IgYnV0ICN7YWN0fSB3YXMgdGhyb3duJ1xuICAgICAgICAsIGVycm9yTGlrZSAmJiBlcnJvckxpa2UudG9TdHJpbmcoKVxuICAgICAgICAsIChjYXVnaHRFcnIgaW5zdGFuY2VvZiBFcnJvciA/XG4gICAgICAgICAgICBjYXVnaHRFcnIudG9TdHJpbmcoKSA6ICh0eXBlb2YgY2F1Z2h0RXJyID09PSAnc3RyaW5nJyA/IGNhdWdodEVyciA6IGNhdWdodEVyciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jaGVja0Vycm9yLmdldENvbnN0cnVjdG9yTmFtZShjYXVnaHRFcnIpKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGVycm9yTGlrZSAmJiBjYXVnaHRFcnIpIHtcbiAgICAgIC8vIFdlIHNob3VsZCBjb21wYXJlIGluc3RhbmNlcyBvbmx5IGlmIGBlcnJvckxpa2VgIGlzIGFuIGluc3RhbmNlIG9mIGBFcnJvcmBcbiAgICAgIGlmIChlcnJvckxpa2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB2YXIgaXNDb21wYXRpYmxlSW5zdGFuY2UgPSBfLmNoZWNrRXJyb3IuY29tcGF0aWJsZUluc3RhbmNlKGNhdWdodEVyciwgZXJyb3JMaWtlKTtcblxuICAgICAgICBpZiAoaXNDb21wYXRpYmxlSW5zdGFuY2UgPT09IG5lZ2F0ZSkge1xuICAgICAgICAgIC8vIFRoZXNlIGNoZWNrcyB3ZXJlIGNyZWF0ZWQgdG8gZW5zdXJlIHdlIHdvbid0IGZhaWwgdG9vIHNvb24gd2hlbiB3ZSd2ZSBnb3QgYm90aCBhcmdzIGFuZCBhIG5lZ2F0ZVxuICAgICAgICAgIC8vIFNlZSBJc3N1ZSAjNTUxIGFuZCBQUiAjNjgzQEdpdEh1YlxuICAgICAgICAgIGlmIChldmVyeUFyZ0lzRGVmaW5lZCAmJiBuZWdhdGUpIHtcbiAgICAgICAgICAgIGVycm9yTGlrZUZhaWwgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICAgICAgICBuZWdhdGVcbiAgICAgICAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byB0aHJvdyAje2V4cH0gYnV0ICN7YWN0fSB3YXMgdGhyb3duJ1xuICAgICAgICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCB0aHJvdyAje2V4cH0nICsgKGNhdWdodEVyciAmJiAhbmVnYXRlID8gJyBidXQgI3thY3R9IHdhcyB0aHJvd24nIDogJycpXG4gICAgICAgICAgICAgICwgZXJyb3JMaWtlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgLCBjYXVnaHRFcnIudG9TdHJpbmcoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGlzQ29tcGF0aWJsZUNvbnN0cnVjdG9yID0gXy5jaGVja0Vycm9yLmNvbXBhdGlibGVDb25zdHJ1Y3RvcihjYXVnaHRFcnIsIGVycm9yTGlrZSk7XG4gICAgICBpZiAoaXNDb21wYXRpYmxlQ29uc3RydWN0b3IgPT09IG5lZ2F0ZSkge1xuICAgICAgICBpZiAoZXZlcnlBcmdJc0RlZmluZWQgJiYgbmVnYXRlKSB7XG4gICAgICAgICAgICBlcnJvckxpa2VGYWlsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgICAgICAgbmVnYXRlXG4gICAgICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIHRocm93ICN7ZXhwfSBidXQgI3thY3R9IHdhcyB0aHJvd24nXG4gICAgICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCB0aHJvdyAje2V4cH0nICsgKGNhdWdodEVyciA/ICcgYnV0ICN7YWN0fSB3YXMgdGhyb3duJyA6ICcnKVxuICAgICAgICAgICAgLCAoZXJyb3JMaWtlIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvckxpa2UudG9TdHJpbmcoKSA6IGVycm9yTGlrZSAmJiBfLmNoZWNrRXJyb3IuZ2V0Q29uc3RydWN0b3JOYW1lKGVycm9yTGlrZSkpXG4gICAgICAgICAgICAsIChjYXVnaHRFcnIgaW5zdGFuY2VvZiBFcnJvciA/IGNhdWdodEVyci50b1N0cmluZygpIDogY2F1Z2h0RXJyICYmIF8uY2hlY2tFcnJvci5nZXRDb25zdHJ1Y3Rvck5hbWUoY2F1Z2h0RXJyKSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNhdWdodEVyciAmJiBlcnJNc2dNYXRjaGVyICE9PSB1bmRlZmluZWQgJiYgZXJyTXNnTWF0Y2hlciAhPT0gbnVsbCkge1xuICAgICAgLy8gSGVyZSB3ZSBjaGVjayBjb21wYXRpYmxlIG1lc3NhZ2VzXG4gICAgICB2YXIgcGxhY2Vob2xkZXIgPSAnaW5jbHVkaW5nJztcbiAgICAgIGlmIChlcnJNc2dNYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHBsYWNlaG9sZGVyID0gJ21hdGNoaW5nJ1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNDb21wYXRpYmxlTWVzc2FnZSA9IF8uY2hlY2tFcnJvci5jb21wYXRpYmxlTWVzc2FnZShjYXVnaHRFcnIsIGVyck1zZ01hdGNoZXIpO1xuICAgICAgaWYgKGlzQ29tcGF0aWJsZU1lc3NhZ2UgPT09IG5lZ2F0ZSkge1xuICAgICAgICBpZiAoZXZlcnlBcmdJc0RlZmluZWQgJiYgbmVnYXRlKSB7XG4gICAgICAgICAgICBlcnJNc2dNYXRjaGVyRmFpbCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICAgICBuZWdhdGVcbiAgICAgICAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gdGhyb3cgZXJyb3IgJyArIHBsYWNlaG9sZGVyICsgJyAje2V4cH0gYnV0IGdvdCAje2FjdH0nXG4gICAgICAgICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIHRocm93IGVycm9yIG5vdCAnICsgcGxhY2Vob2xkZXIgKyAnICN7ZXhwfSdcbiAgICAgICAgICAgICwgIGVyck1zZ01hdGNoZXJcbiAgICAgICAgICAgICwgIF8uY2hlY2tFcnJvci5nZXRNZXNzYWdlKGNhdWdodEVycilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgYm90aCBhc3NlcnRpb25zIGZhaWxlZCBhbmQgYm90aCBzaG91bGQndmUgbWF0Y2hlZCB3ZSB0aHJvdyBhbiBlcnJvclxuICAgIGlmIChlcnJvckxpa2VGYWlsICYmIGVyck1zZ01hdGNoZXJGYWlsKSB7XG4gICAgICB0aGlzLmFzc2VydChcbiAgICAgICAgbmVnYXRlXG4gICAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gdGhyb3cgI3tleHB9IGJ1dCAje2FjdH0gd2FzIHRocm93bidcbiAgICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgdGhyb3cgI3tleHB9JyArIChjYXVnaHRFcnIgPyAnIGJ1dCAje2FjdH0gd2FzIHRocm93bicgOiAnJylcbiAgICAgICAgLCAoZXJyb3JMaWtlIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvckxpa2UudG9TdHJpbmcoKSA6IGVycm9yTGlrZSAmJiBfLmNoZWNrRXJyb3IuZ2V0Q29uc3RydWN0b3JOYW1lKGVycm9yTGlrZSkpXG4gICAgICAgICwgKGNhdWdodEVyciBpbnN0YW5jZW9mIEVycm9yID8gY2F1Z2h0RXJyLnRvU3RyaW5nKCkgOiBjYXVnaHRFcnIgJiYgXy5jaGVja0Vycm9yLmdldENvbnN0cnVjdG9yTmFtZShjYXVnaHRFcnIpKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmbGFnKHRoaXMsICdvYmplY3QnLCBjYXVnaHRFcnIpO1xuICB9O1xuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ3Rocm93JywgYXNzZXJ0VGhyb3dzKTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgndGhyb3dzJywgYXNzZXJ0VGhyb3dzKTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnVGhyb3cnLCBhc3NlcnRUaHJvd3MpO1xuXG4gIC8qKlxuICAgKiAjIyMgLnJlc3BvbmRUbyhtZXRob2RbLCBtc2ddKVxuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgYSBub24tZnVuY3Rpb24gb2JqZWN0LCBgLnJlc3BvbmRUb2AgYXNzZXJ0cyB0aGF0IHRoZVxuICAgKiB0YXJnZXQgaGFzIGEgbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUgYG1ldGhvZGAuIFRoZSBtZXRob2QgY2FuIGJlIG93biBvclxuICAgKiBpbmhlcml0ZWQsIGFuZCBpdCBjYW4gYmUgZW51bWVyYWJsZSBvciBub24tZW51bWVyYWJsZS5cbiAgICpcbiAgICogICAgIGZ1bmN0aW9uIENhdCAoKSB7fVxuICAgKiAgICAgQ2F0LnByb3RvdHlwZS5tZW93ID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3QobmV3IENhdCgpKS50by5yZXNwb25kVG8oJ21lb3cnKTtcbiAgICpcbiAgICogV2hlbiB0aGUgdGFyZ2V0IGlzIGEgZnVuY3Rpb24sIGAucmVzcG9uZFRvYCBhc3NlcnRzIHRoYXQgdGhlIHRhcmdldCdzXG4gICAqIGBwcm90b3R5cGVgIHByb3BlcnR5IGhhcyBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGBtZXRob2RgLiBBZ2FpbiwgdGhlXG4gICAqIG1ldGhvZCBjYW4gYmUgb3duIG9yIGluaGVyaXRlZCwgYW5kIGl0IGNhbiBiZSBlbnVtZXJhYmxlIG9yIG5vbi1lbnVtZXJhYmxlLlxuICAgKlxuICAgKiAgICAgZnVuY3Rpb24gQ2F0ICgpIHt9XG4gICAqICAgICBDYXQucHJvdG90eXBlLm1lb3cgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICpcbiAgICogICAgIGV4cGVjdChDYXQpLnRvLnJlc3BvbmRUbygnbWVvdycpO1xuICAgKlxuICAgKiBBZGQgYC5pdHNlbGZgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIGZvcmNlIGAucmVzcG9uZFRvYCB0byB0cmVhdCB0aGVcbiAgICogdGFyZ2V0IGFzIGEgbm9uLWZ1bmN0aW9uIG9iamVjdCwgZXZlbiBpZiBpdCdzIGEgZnVuY3Rpb24uIFRodXMsIGl0IGFzc2VydHNcbiAgICogdGhhdCB0aGUgdGFyZ2V0IGhhcyBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGBtZXRob2RgLCByYXRoZXIgdGhhblxuICAgKiBhc3NlcnRpbmcgdGhhdCB0aGUgdGFyZ2V0J3MgYHByb3RvdHlwZWAgcHJvcGVydHkgaGFzIGEgbWV0aG9kIHdpdGggdGhlXG4gICAqIGdpdmVuIG5hbWUgYG1ldGhvZGAuXG4gICAqXG4gICAqICAgICBmdW5jdGlvbiBDYXQgKCkge31cbiAgICogICAgIENhdC5wcm90b3R5cGUubWVvdyA9IGZ1bmN0aW9uICgpIHt9O1xuICAgKiAgICAgQ2F0Lmhpc3MgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICpcbiAgICogICAgIGV4cGVjdChDYXQpLml0c2VsZi50by5yZXNwb25kVG8oJ2hpc3MnKS5idXQubm90LnJlc3BvbmRUbygnbWVvdycpO1xuICAgKlxuICAgKiBXaGVuIG5vdCBhZGRpbmcgYC5pdHNlbGZgLCBpdCdzIGltcG9ydGFudCB0byBjaGVjayB0aGUgdGFyZ2V0J3MgdHlwZSBiZWZvcmVcbiAgICogdXNpbmcgYC5yZXNwb25kVG9gLiBTZWUgdGhlIGAuYWAgZG9jIGZvciBpbmZvIG9uIGNoZWNraW5nIGEgdGFyZ2V0J3MgdHlwZS5cbiAgICpcbiAgICogICAgIGZ1bmN0aW9uIENhdCAoKSB7fVxuICAgKiAgICAgQ2F0LnByb3RvdHlwZS5tZW93ID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3QobmV3IENhdCgpKS50by5iZS5hbignb2JqZWN0JykudGhhdC5yZXNwb25kc1RvKCdtZW93Jyk7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAucmVzcG9uZFRvYC5cbiAgICpcbiAgICogICAgIGZ1bmN0aW9uIERvZyAoKSB7fVxuICAgKiAgICAgRG9nLnByb3RvdHlwZS5iYXJrID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3QobmV3IERvZygpKS50by5ub3QucmVzcG9uZFRvKCdtZW93Jyk7XG4gICAqXG4gICAqIGAucmVzcG9uZFRvYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yXG4gICAqIG1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzXG4gICAqIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe30pLnRvLnJlc3BvbmRUbygnbWVvdycsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICogICAgIGV4cGVjdCh7fSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLnJlc3BvbmRUbygnbWVvdycpO1xuICAgKlxuICAgKiBUaGUgYWxpYXMgYC5yZXNwb25kc1RvYCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLnJlc3BvbmRUb2AuXG4gICAqXG4gICAqIEBuYW1lIHJlc3BvbmRUb1xuICAgKiBAYWxpYXMgcmVzcG9uZHNUb1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiByZXNwb25kVG8gKG1ldGhvZCwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIGl0c2VsZiA9IGZsYWcodGhpcywgJ2l0c2VsZicpXG4gICAgICAsIGNvbnRleHQgPSAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9iaiAmJiAhaXRzZWxmKVxuICAgICAgICA/IG9iai5wcm90b3R5cGVbbWV0aG9kXVxuICAgICAgICA6IG9ialttZXRob2RdO1xuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICAgICdmdW5jdGlvbicgPT09IHR5cGVvZiBjb250ZXh0XG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIHJlc3BvbmQgdG8gJyArIF8uaW5zcGVjdChtZXRob2QpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCByZXNwb25kIHRvICcgKyBfLmluc3BlY3QobWV0aG9kKVxuICAgICk7XG4gIH1cblxuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdyZXNwb25kVG8nLCByZXNwb25kVG8pO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdyZXNwb25kc1RvJywgcmVzcG9uZFRvKTtcblxuICAvKipcbiAgICogIyMjIC5pdHNlbGZcbiAgICpcbiAgICogRm9yY2VzIGFsbCBgLnJlc3BvbmRUb2AgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4gdG8gYmVoYXZlIGFzIGlmXG4gICAqIHRoZSB0YXJnZXQgaXMgYSBub24tZnVuY3Rpb24gb2JqZWN0LCBldmVuIGlmIGl0J3MgYSBmdW5jdGlvbi4gVGh1cywgaXRcbiAgICogY2F1c2VzIGAucmVzcG9uZFRvYCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGhhcyBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlblxuICAgKiBuYW1lLCByYXRoZXIgdGhhbiBhc3NlcnRpbmcgdGhhdCB0aGUgdGFyZ2V0J3MgYHByb3RvdHlwZWAgcHJvcGVydHkgaGFzIGFcbiAgICogbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gICAqXG4gICAqICAgICBmdW5jdGlvbiBDYXQgKCkge31cbiAgICogICAgIENhdC5wcm90b3R5cGUubWVvdyA9IGZ1bmN0aW9uICgpIHt9O1xuICAgKiAgICAgQ2F0Lmhpc3MgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICpcbiAgICogICAgIGV4cGVjdChDYXQpLml0c2VsZi50by5yZXNwb25kVG8oJ2hpc3MnKS5idXQubm90LnJlc3BvbmRUbygnbWVvdycpO1xuICAgKlxuICAgKiBAbmFtZSBpdHNlbGZcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdpdHNlbGYnLCBmdW5jdGlvbiAoKSB7XG4gICAgZmxhZyh0aGlzLCAnaXRzZWxmJywgdHJ1ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLnNhdGlzZnkobWF0Y2hlclssIG1zZ10pXG4gICAqXG4gICAqIEludm9rZXMgdGhlIGdpdmVuIGBtYXRjaGVyYCBmdW5jdGlvbiB3aXRoIHRoZSB0YXJnZXQgYmVpbmcgcGFzc2VkIGFzIHRoZVxuICAgKiBmaXJzdCBhcmd1bWVudCwgYW5kIGFzc2VydHMgdGhhdCB0aGUgdmFsdWUgcmV0dXJuZWQgaXMgdHJ1dGh5LlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEpLnRvLnNhdGlzZnkoZnVuY3Rpb24obnVtKSB7XG4gICAqICAgICAgIHJldHVybiBudW0gPiAwO1xuICAgKiAgICAgfSk7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuc2F0aXNmeWAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8ubm90LnNhdGlzZnkoZnVuY3Rpb24obnVtKSB7XG4gICAqICAgICAgIHJldHVybiBudW0gPiAyO1xuICAgKiAgICAgfSk7XG4gICAqXG4gICAqIGAuc2F0aXNmeWAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvclxuICAgKiBtZXNzYWdlIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhc1xuICAgKiB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEpLnRvLnNhdGlzZnkoZnVuY3Rpb24obnVtKSB7XG4gICAqICAgICAgIHJldHVybiBudW0gPiAyO1xuICAgKiAgICAgfSwgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKlxuICAgKiAgICAgZXhwZWN0KDEsICdub29vIHdoeSBmYWlsPz8nKS50by5zYXRpc2Z5KGZ1bmN0aW9uKG51bSkge1xuICAgKiAgICAgICByZXR1cm4gbnVtID4gMjtcbiAgICogICAgIH0pO1xuICAgKlxuICAgKiBUaGUgYWxpYXMgYC5zYXRpc2ZpZXNgIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoIGAuc2F0aXNmeWAuXG4gICAqXG4gICAqIEBuYW1lIHNhdGlzZnlcbiAgICogQGFsaWFzIHNhdGlzZmllc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtYXRjaGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBzYXRpc2Z5IChtYXRjaGVyLCBtc2cpIHtcbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0Jyk7XG4gICAgdmFyIHJlc3VsdCA9IG1hdGNoZXIob2JqKTtcbiAgICB0aGlzLmFzc2VydChcbiAgICAgICAgcmVzdWx0XG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIHNhdGlzZnkgJyArIF8ub2JqRGlzcGxheShtYXRjaGVyKVxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3Qgc2F0aXNmeScgKyBfLm9iakRpc3BsYXkobWF0Y2hlcilcbiAgICAgICwgZmxhZyh0aGlzLCAnbmVnYXRlJykgPyBmYWxzZSA6IHRydWVcbiAgICAgICwgcmVzdWx0XG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ3NhdGlzZnknLCBzYXRpc2Z5KTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnc2F0aXNmaWVzJywgc2F0aXNmeSk7XG5cbiAgLyoqXG4gICAqICMjIyAuY2xvc2VUbyhleHBlY3RlZCwgZGVsdGFbLCBtc2ddKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhIG51bWJlciB0aGF0J3Mgd2l0aGluIGEgZ2l2ZW4gKy8tIGBkZWx0YWAgcmFuZ2VcbiAgICogb2YgdGhlIGdpdmVuIG51bWJlciBgZXhwZWN0ZWRgLiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0IHRoYXQgdGhlXG4gICAqIHRhcmdldCBpcyBlcXVhbCB0byBpdHMgZXhwZWN0ZWQgdmFsdWUuXG4gICAqXG4gICAqICAgICAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDEuNSkudG8uZXF1YWwoMS41KTtcbiAgICpcbiAgICogICAgIC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KDEuNSkudG8uYmUuY2xvc2VUbygxLCAwLjUpO1xuICAgKiAgICAgZXhwZWN0KDEuNSkudG8uYmUuY2xvc2VUbygyLCAwLjUpO1xuICAgKiAgICAgZXhwZWN0KDEuNSkudG8uYmUuY2xvc2VUbygxLCAxKTtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5jbG9zZVRvYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxLjUpLnRvLmVxdWFsKDEuNSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMS41KS50by5ub3QuYmUuY2xvc2VUbygzLCAxKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIGAuY2xvc2VUb2AgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvclxuICAgKiBtZXNzYWdlIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhc1xuICAgKiB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEuNSkudG8uYmUuY2xvc2VUbygzLCAxLCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqICAgICBleHBlY3QoMS41LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUuY2xvc2VUbygzLCAxKTtcbiAgICpcbiAgICogVGhlIGFsaWFzIGAuYXBwcm94aW1hdGVseWAgY2FuIGJlIHVzZWQgaW50ZXJjaGFuZ2VhYmx5IHdpdGggYC5jbG9zZVRvYC5cbiAgICpcbiAgICogQG5hbWUgY2xvc2VUb1xuICAgKiBAYWxpYXMgYXBwcm94aW1hdGVseVxuICAgKiBAcGFyYW0ge051bWJlcn0gZXhwZWN0ZWRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBjbG9zZVRvKGV4cGVjdGVkLCBkZWx0YSwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKTtcblxuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS5pcy5hKCdudW1iZXInKTtcbiAgICBpZiAodHlwZW9mIGV4cGVjdGVkICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGVsdGEgIT09ICdudW1iZXInKSB7XG4gICAgICBmbGFnTXNnID0gZmxhZ01zZyA/IGZsYWdNc2cgKyAnOiAnIDogJyc7XG4gICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgICAgZmxhZ01zZyArICd0aGUgYXJndW1lbnRzIHRvIGNsb3NlVG8gb3IgYXBwcm94aW1hdGVseSBtdXN0IGJlIG51bWJlcnMnLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBzc2ZpXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBNYXRoLmFicyhvYmogLSBleHBlY3RlZCkgPD0gZGVsdGFcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgY2xvc2UgdG8gJyArIGV4cGVjdGVkICsgJyArLy0gJyArIGRlbHRhXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IG5vdCB0byBiZSBjbG9zZSB0byAnICsgZXhwZWN0ZWQgKyAnICsvLSAnICsgZGVsdGFcbiAgICApO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnY2xvc2VUbycsIGNsb3NlVG8pO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdhcHByb3hpbWF0ZWx5JywgY2xvc2VUbyk7XG5cbiAgLy8gTm90ZTogRHVwbGljYXRlcyBhcmUgaWdub3JlZCBpZiB0ZXN0aW5nIGZvciBpbmNsdXNpb24gaW5zdGVhZCBvZiBzYW1lbmVzcy5cbiAgZnVuY3Rpb24gaXNTdWJzZXRPZihzdWJzZXQsIHN1cGVyc2V0LCBjbXAsIGNvbnRhaW5zLCBvcmRlcmVkKSB7XG4gICAgaWYgKCFjb250YWlucykge1xuICAgICAgaWYgKHN1YnNldC5sZW5ndGggIT09IHN1cGVyc2V0Lmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgc3VwZXJzZXQgPSBzdXBlcnNldC5zbGljZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzZXQuZXZlcnkoZnVuY3Rpb24oZWxlbSwgaWR4KSB7XG4gICAgICBpZiAob3JkZXJlZCkgcmV0dXJuIGNtcCA/IGNtcChlbGVtLCBzdXBlcnNldFtpZHhdKSA6IGVsZW0gPT09IHN1cGVyc2V0W2lkeF07XG5cbiAgICAgIGlmICghY21wKSB7XG4gICAgICAgIHZhciBtYXRjaElkeCA9IHN1cGVyc2V0LmluZGV4T2YoZWxlbSk7XG4gICAgICAgIGlmIChtYXRjaElkeCA9PT0gLTEpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBSZW1vdmUgbWF0Y2ggZnJvbSBzdXBlcnNldCBzbyBub3QgY291bnRlZCB0d2ljZSBpZiBkdXBsaWNhdGUgaW4gc3Vic2V0LlxuICAgICAgICBpZiAoIWNvbnRhaW5zKSBzdXBlcnNldC5zcGxpY2UobWF0Y2hJZHgsIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1cGVyc2V0LnNvbWUoZnVuY3Rpb24oZWxlbTIsIG1hdGNoSWR4KSB7XG4gICAgICAgIGlmICghY21wKGVsZW0sIGVsZW0yKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIFJlbW92ZSBtYXRjaCBmcm9tIHN1cGVyc2V0IHNvIG5vdCBjb3VudGVkIHR3aWNlIGlmIGR1cGxpY2F0ZSBpbiBzdWJzZXQuXG4gICAgICAgIGlmICghY29udGFpbnMpIHN1cGVyc2V0LnNwbGljZShtYXRjaElkeCwgMSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5tZW1iZXJzKHNldFssIG1zZ10pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGFycmF5IGhhcyB0aGUgc2FtZSBtZW1iZXJzIGFzIHRoZSBnaXZlbiBhcnJheVxuICAgKiBgc2V0YC5cbiAgICpcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUubWVtYmVycyhbMiwgMSwgM10pO1xuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAyXSkudG8uaGF2ZS5tZW1iZXJzKFsyLCAxLCAyXSk7XG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIG1lbWJlcnMgYXJlIGNvbXBhcmVkIHVzaW5nIHN0cmljdCAoYD09PWApIGVxdWFsaXR5LiBBZGQgYC5kZWVwYFxuICAgKiBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byB1c2UgZGVlcCBlcXVhbGl0eSBpbnN0ZWFkLiBTZWUgdGhlIGBkZWVwLWVxbGBcbiAgICogcHJvamVjdCBwYWdlIGZvciBpbmZvIG9uIHRoZSBkZWVwIGVxdWFsaXR5IGFsZ29yaXRobTpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NoYWlqcy9kZWVwLWVxbC5cbiAgICpcbiAgICogICAgIC8vIFRhcmdldCBhcnJheSBkZWVwbHkgKGJ1dCBub3Qgc3RyaWN0bHkpIGhhcyBtZW1iZXIgYHthOiAxfWBcbiAgICogICAgIGV4cGVjdChbe2E6IDF9XSkudG8uaGF2ZS5kZWVwLm1lbWJlcnMoW3thOiAxfV0pO1xuICAgKiAgICAgZXhwZWN0KFt7YTogMX1dKS50by5ub3QuaGF2ZS5tZW1iZXJzKFt7YTogMX1dKTtcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgb3JkZXIgZG9lc24ndCBtYXR0ZXIuIEFkZCBgLm9yZGVyZWRgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvXG4gICAqIHJlcXVpcmUgdGhhdCBtZW1iZXJzIGFwcGVhciBpbiB0aGUgc2FtZSBvcmRlci5cbiAgICpcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmhhdmUub3JkZXJlZC5tZW1iZXJzKFsxLCAyLCAzXSk7XG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5oYXZlLm1lbWJlcnMoWzIsIDEsIDNdKVxuICAgKiAgICAgICAuYnV0Lm5vdC5vcmRlcmVkLm1lbWJlcnMoWzIsIDEsIDNdKTtcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgYm90aCBhcnJheXMgbXVzdCBiZSB0aGUgc2FtZSBzaXplLiBBZGQgYC5pbmNsdWRlYCBlYXJsaWVyIGluXG4gICAqIHRoZSBjaGFpbiB0byByZXF1aXJlIHRoYXQgdGhlIHRhcmdldCdzIG1lbWJlcnMgYmUgYSBzdXBlcnNldCBvZiB0aGVcbiAgICogZXhwZWN0ZWQgbWVtYmVycy4gTm90ZSB0aGF0IGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgaW4gdGhlIHN1YnNldCB3aGVuXG4gICAqIGAuaW5jbHVkZWAgaXMgYWRkZWQuXG4gICAqXG4gICAqICAgICAvLyBUYXJnZXQgYXJyYXkgaXMgYSBzdXBlcnNldCBvZiBbMSwgMl0gYnV0IG5vdCBpZGVudGljYWxcbiAgICogICAgIGV4cGVjdChbMSwgMiwgM10pLnRvLmluY2x1ZGUubWVtYmVycyhbMSwgMl0pO1xuICAgKiAgICAgZXhwZWN0KFsxLCAyLCAzXSkudG8ubm90LmhhdmUubWVtYmVycyhbMSwgMl0pO1xuICAgKlxuICAgKiAgICAgLy8gRHVwbGljYXRlcyBpbiB0aGUgc3Vic2V0IGFyZSBpZ25vcmVkXG4gICAqICAgICBleHBlY3QoWzEsIDIsIDNdKS50by5pbmNsdWRlLm1lbWJlcnMoWzEsIDIsIDIsIDJdKTtcbiAgICpcbiAgICogYC5kZWVwYCwgYC5vcmRlcmVkYCwgYW5kIGAuaW5jbHVkZWAgY2FuIGFsbCBiZSBjb21iaW5lZC4gSG93ZXZlciwgaWZcbiAgICogYC5pbmNsdWRlYCBhbmQgYC5vcmRlcmVkYCBhcmUgY29tYmluZWQsIHRoZSBvcmRlcmluZyBiZWdpbnMgYXQgdGhlIHN0YXJ0IG9mXG4gICAqIGJvdGggYXJyYXlzLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFt7YTogMX0sIHtiOiAyfSwge2M6IDN9XSlcbiAgICogICAgICAgLnRvLmluY2x1ZGUuZGVlcC5vcmRlcmVkLm1lbWJlcnMoW3thOiAxfSwge2I6IDJ9XSlcbiAgICogICAgICAgLmJ1dC5ub3QuaW5jbHVkZS5kZWVwLm9yZGVyZWQubWVtYmVycyhbe2I6IDJ9LCB7YzogM31dKTtcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5tZW1iZXJzYC4gSG93ZXZlciwgaXQnc1xuICAgKiBkYW5nZXJvdXMgdG8gZG8gc28uIFRoZSBwcm9ibGVtIGlzIHRoYXQgaXQgY3JlYXRlcyB1bmNlcnRhaW4gZXhwZWN0YXRpb25zXG4gICAqIGJ5IGFzc2VydGluZyB0aGF0IHRoZSB0YXJnZXQgYXJyYXkgZG9lc24ndCBoYXZlIGFsbCBvZiB0aGUgc2FtZSBtZW1iZXJzIGFzXG4gICAqIHRoZSBnaXZlbiBhcnJheSBgc2V0YCBidXQgbWF5IG9yIG1heSBub3QgaGF2ZSBzb21lIG9mIHRoZW0uIEl0J3Mgb2Z0ZW4gYmVzdFxuICAgKiB0byBpZGVudGlmeSB0aGUgZXhhY3Qgb3V0cHV0IHRoYXQncyBleHBlY3RlZCwgYW5kIHRoZW4gd3JpdGUgYW4gYXNzZXJ0aW9uXG4gICAqIHRoYXQgb25seSBhY2NlcHRzIHRoYXQgZXhhY3Qgb3V0cHV0LlxuICAgKlxuICAgKiAgICAgZXhwZWN0KFsxLCAyXSkudG8ubm90LmluY2x1ZGUoMykuYW5kLm5vdC5pbmNsdWRlKDQpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KFsxLCAyXSkudG8ubm90LmhhdmUubWVtYmVycyhbMywgNF0pOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5tZW1iZXJzYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yXG4gICAqIG1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzXG4gICAqIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoWzEsIDJdKS50by5oYXZlLm1lbWJlcnMoWzEsIDIsIDNdLCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqICAgICBleHBlY3QoWzEsIDJdLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uaGF2ZS5tZW1iZXJzKFsxLCAyLCAzXSk7XG4gICAqXG4gICAqIEBuYW1lIG1lbWJlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gc2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdtZW1iZXJzJywgZnVuY3Rpb24gKHN1YnNldCwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIG9iaiA9IGZsYWcodGhpcywgJ29iamVjdCcpXG4gICAgICAsIGZsYWdNc2cgPSBmbGFnKHRoaXMsICdtZXNzYWdlJylcbiAgICAgICwgc3NmaSA9IGZsYWcodGhpcywgJ3NzZmknKTtcblxuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS50by5iZS5hbignYXJyYXknKTtcbiAgICBuZXcgQXNzZXJ0aW9uKHN1YnNldCwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkudG8uYmUuYW4oJ2FycmF5Jyk7XG5cbiAgICB2YXIgY29udGFpbnMgPSBmbGFnKHRoaXMsICdjb250YWlucycpO1xuICAgIHZhciBvcmRlcmVkID0gZmxhZyh0aGlzLCAnb3JkZXJlZCcpO1xuXG4gICAgdmFyIHN1YmplY3QsIGZhaWxNc2csIGZhaWxOZWdhdGVNc2c7XG5cbiAgICBpZiAoY29udGFpbnMpIHtcbiAgICAgIHN1YmplY3QgPSBvcmRlcmVkID8gJ2FuIG9yZGVyZWQgc3VwZXJzZXQnIDogJ2Egc3VwZXJzZXQnO1xuICAgICAgZmFpbE1zZyA9ICdleHBlY3RlZCAje3RoaXN9IHRvIGJlICcgKyBzdWJqZWN0ICsgJyBvZiAje2V4cH0nO1xuICAgICAgZmFpbE5lZ2F0ZU1zZyA9ICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBiZSAnICsgc3ViamVjdCArICcgb2YgI3tleHB9JztcbiAgICB9IGVsc2Uge1xuICAgICAgc3ViamVjdCA9IG9yZGVyZWQgPyAnb3JkZXJlZCBtZW1iZXJzJyA6ICdtZW1iZXJzJztcbiAgICAgIGZhaWxNc2cgPSAnZXhwZWN0ZWQgI3t0aGlzfSB0byBoYXZlIHRoZSBzYW1lICcgKyBzdWJqZWN0ICsgJyBhcyAje2V4cH0nO1xuICAgICAgZmFpbE5lZ2F0ZU1zZyA9ICdleHBlY3RlZCAje3RoaXN9IHRvIG5vdCBoYXZlIHRoZSBzYW1lICcgKyBzdWJqZWN0ICsgJyBhcyAje2V4cH0nO1xuICAgIH1cblxuICAgIHZhciBjbXAgPSBmbGFnKHRoaXMsICdkZWVwJykgPyBfLmVxbCA6IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBpc1N1YnNldE9mKHN1YnNldCwgb2JqLCBjbXAsIGNvbnRhaW5zLCBvcmRlcmVkKVxuICAgICAgLCBmYWlsTXNnXG4gICAgICAsIGZhaWxOZWdhdGVNc2dcbiAgICAgICwgc3Vic2V0XG4gICAgICAsIG9ialxuICAgICAgLCB0cnVlXG4gICAgKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqICMjIyAub25lT2YobGlzdFssIG1zZ10pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGlzIGEgbWVtYmVyIG9mIHRoZSBnaXZlbiBhcnJheSBgbGlzdGAuIEhvd2V2ZXIsXG4gICAqIGl0J3Mgb2Z0ZW4gYmVzdCB0byBhc3NlcnQgdGhhdCB0aGUgdGFyZ2V0IGlzIGVxdWFsIHRvIGl0cyBleHBlY3RlZCB2YWx1ZS5cbiAgICpcbiAgICogICAgIGV4cGVjdCgxKS50by5lcXVhbCgxKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdCgxKS50by5iZS5vbmVPZihbMSwgMiwgM10pOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQ29tcGFyaXNvbnMgYXJlIHBlcmZvcm1lZCB1c2luZyBzdHJpY3QgKGA9PT1gKSBlcXVhbGl0eS5cbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5vbmVPZmAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uZXF1YWwoMSk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoMSkudG8ubm90LmJlLm9uZU9mKFsyLCAzLCA0XSk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBgLm9uZU9mYCBhY2NlcHRzIGFuIG9wdGlvbmFsIGBtc2dgIGFyZ3VtZW50IHdoaWNoIGlzIGEgY3VzdG9tIGVycm9yIG1lc3NhZ2VcbiAgICogdG8gc2hvdyB3aGVuIHRoZSBhc3NlcnRpb24gZmFpbHMuIFRoZSBtZXNzYWdlIGNhbiBhbHNvIGJlIGdpdmVuIGFzIHRoZVxuICAgKiBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uYmUub25lT2YoWzIsIDMsIDRdLCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqICAgICBleHBlY3QoMSwgJ25vb28gd2h5IGZhaWw/PycpLnRvLmJlLm9uZU9mKFsyLCAzLCA0XSk7XG4gICAqXG4gICAqIEBuYW1lIG9uZU9mXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGxpc3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG9uZU9mIChsaXN0LCBtc2cpIHtcbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgZXhwZWN0ZWQgPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBmbGFnTXNnID0gZmxhZyh0aGlzLCAnbWVzc2FnZScpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJyk7XG4gICAgbmV3IEFzc2VydGlvbihsaXN0LCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS50by5iZS5hbignYXJyYXknKTtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICBsaXN0LmluZGV4T2YoZXhwZWN0ZWQpID4gLTFcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgb25lIG9mICN7ZXhwfSdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGJlIG9uZSBvZiAje2V4cH0nXG4gICAgICAsIGxpc3RcbiAgICAgICwgZXhwZWN0ZWRcbiAgICApO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnb25lT2YnLCBvbmVPZik7XG5cbiAgLyoqXG4gICAqICMjIyAuY2hhbmdlKHN1YmplY3RbLCBwcm9wWywgbXNnXV0pXG4gICAqXG4gICAqIFdoZW4gb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkLCBgLmNoYW5nZWAgYXNzZXJ0cyB0aGF0IHRoZSBnaXZlbiBmdW5jdGlvblxuICAgKiBgc3ViamVjdGAgcmV0dXJucyBhIGRpZmZlcmVudCB2YWx1ZSB3aGVuIGl0J3MgaW52b2tlZCBiZWZvcmUgdGhlIHRhcmdldFxuICAgKiBmdW5jdGlvbiBjb21wYXJlZCB0byB3aGVuIGl0J3MgaW52b2tlZCBhZnRlcndhcmQuIEhvd2V2ZXIsIGl0J3Mgb2Z0ZW4gYmVzdFxuICAgKiB0byBhc3NlcnQgdGhhdCBgc3ViamVjdGAgaXMgZXF1YWwgdG8gaXRzIGV4cGVjdGVkIHZhbHVlLlxuICAgKlxuICAgKiAgICAgdmFyIGRvdHMgPSAnJ1xuICAgKiAgICAgICAsIGFkZERvdCA9IGZ1bmN0aW9uICgpIHsgZG90cyArPSAnLic7IH1cbiAgICogICAgICAgLCBnZXREb3RzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZG90czsgfTtcbiAgICpcbiAgICogICAgIC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoZ2V0RG90cygpKS50by5lcXVhbCgnJyk7XG4gICAqICAgICBhZGREb3QoKTtcbiAgICogICAgIGV4cGVjdChnZXREb3RzKCkpLnRvLmVxdWFsKCcuJyk7XG4gICAqXG4gICAqICAgICAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChhZGREb3QpLnRvLmNoYW5nZShnZXREb3RzKTtcbiAgICpcbiAgICogV2hlbiB0d28gYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgYC5jaGFuZ2VgIGFzc2VydHMgdGhhdCB0aGUgdmFsdWUgb2YgdGhlXG4gICAqIGdpdmVuIG9iamVjdCBgc3ViamVjdGAncyBgcHJvcGAgcHJvcGVydHkgaXMgZGlmZmVyZW50IGJlZm9yZSBpbnZva2luZyB0aGVcbiAgICogdGFyZ2V0IGZ1bmN0aW9uIGNvbXBhcmVkIHRvIGFmdGVyd2FyZC5cbiAgICpcbiAgICogICAgIHZhciBteU9iaiA9IHtkb3RzOiAnJ31cbiAgICogICAgICAgLCBhZGREb3QgPSBmdW5jdGlvbiAoKSB7IG15T2JqLmRvdHMgKz0gJy4nOyB9O1xuICAgKlxuICAgKiAgICAgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChteU9iaikudG8uaGF2ZS5wcm9wZXJ0eSgnZG90cycsICcnKTtcbiAgICogICAgIGFkZERvdCgpO1xuICAgKiAgICAgZXhwZWN0KG15T2JqKS50by5oYXZlLnByb3BlcnR5KCdkb3RzJywgJy4nKTtcbiAgICpcbiAgICogICAgIC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KGFkZERvdCkudG8uY2hhbmdlKG15T2JqLCAnZG90cycpO1xuICAgKlxuICAgKiBTdHJpY3QgKGA9PT1gKSBlcXVhbGl0eSBpcyB1c2VkIHRvIGNvbXBhcmUgYmVmb3JlIGFuZCBhZnRlciB2YWx1ZXMuXG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuY2hhbmdlYC5cbiAgICpcbiAgICogICAgIHZhciBkb3RzID0gJydcbiAgICogICAgICAgLCBub29wID0gZnVuY3Rpb24gKCkge31cbiAgICogICAgICAgLCBnZXREb3RzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZG90czsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChub29wKS50by5ub3QuY2hhbmdlKGdldERvdHMpO1xuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge2RvdHM6ICcnfVxuICAgKiAgICAgICAsIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICpcbiAgICogICAgIGV4cGVjdChub29wKS50by5ub3QuY2hhbmdlKG15T2JqLCAnZG90cycpO1xuICAgKlxuICAgKiBgLmNoYW5nZWAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvclxuICAgKiBtZXNzYWdlIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhc1xuICAgKiB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLiBXaGVuIG5vdCBwcm92aWRpbmcgdHdvIGFyZ3VtZW50cywgYWx3YXlzXG4gICAqIHVzZSB0aGUgc2Vjb25kIGZvcm0uXG4gICAqXG4gICAqICAgICB2YXIgbXlPYmogPSB7ZG90czogJyd9XG4gICAqICAgICAgICwgYWRkRG90ID0gZnVuY3Rpb24gKCkgeyBteU9iai5kb3RzICs9ICcuJzsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChhZGREb3QpLnRvLm5vdC5jaGFuZ2UobXlPYmosICdkb3RzJywgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKlxuICAgKiAgICAgdmFyIGRvdHMgPSAnJ1xuICAgKiAgICAgICAsIGFkZERvdCA9IGZ1bmN0aW9uICgpIHsgZG90cyArPSAnLic7IH1cbiAgICogICAgICAgLCBnZXREb3RzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZG90czsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChhZGREb3QsICdub29vIHdoeSBmYWlsPz8nKS50by5ub3QuY2hhbmdlKGdldERvdHMpO1xuICAgKlxuICAgKiBgLmNoYW5nZWAgYWxzbyBjYXVzZXMgYWxsIGAuYnlgIGFzc2VydGlvbnMgdGhhdCBmb2xsb3cgaW4gdGhlIGNoYWluIHRvXG4gICAqIGFzc2VydCBob3cgbXVjaCBhIG51bWVyaWMgc3ViamVjdCB3YXMgaW5jcmVhc2VkIG9yIGRlY3JlYXNlZCBieS4gSG93ZXZlcixcbiAgICogaXQncyBkYW5nZXJvdXMgdG8gdXNlIGAuY2hhbmdlLmJ5YC4gVGhlIHByb2JsZW0gaXMgdGhhdCBpdCBjcmVhdGVzXG4gICAqIHVuY2VydGFpbiBleHBlY3RhdGlvbnMgYnkgYXNzZXJ0aW5nIHRoYXQgdGhlIHN1YmplY3QgZWl0aGVyIGluY3JlYXNlcyBieVxuICAgKiB0aGUgZ2l2ZW4gZGVsdGEsIG9yIHRoYXQgaXQgZGVjcmVhc2VzIGJ5IHRoZSBnaXZlbiBkZWx0YS4gSXQncyBvZnRlbiBiZXN0XG4gICAqIHRvIGlkZW50aWZ5IHRoZSBleGFjdCBvdXRwdXQgdGhhdCdzIGV4cGVjdGVkLCBhbmQgdGhlbiB3cml0ZSBhbiBhc3NlcnRpb25cbiAgICogdGhhdCBvbmx5IGFjY2VwdHMgdGhhdCBleGFjdCBvdXRwdXQuXG4gICAqXG4gICAqICAgICB2YXIgbXlPYmogPSB7dmFsOiAxfVxuICAgKiAgICAgICAsIGFkZFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsICs9IDI7IH1cbiAgICogICAgICAgLCBzdWJ0cmFjdFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsIC09IDI7IH07XG4gICAqXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ5KDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KGFkZFR3bykudG8uY2hhbmdlKG15T2JqLCAndmFsJykuYnkoMik7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KHN1YnRyYWN0VHdvKS50by5kZWNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ5KDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHN1YnRyYWN0VHdvKS50by5jaGFuZ2UobXlPYmosICd2YWwnKS5ieSgyKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIFRoZSBhbGlhcyBgLmNoYW5nZXNgIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoIGAuY2hhbmdlYC5cbiAgICpcbiAgICogQG5hbWUgY2hhbmdlXG4gICAqIEBhbGlhcyBjaGFuZ2VzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdWJqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIG5hbWUgX29wdGlvbmFsX1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gYXNzZXJ0Q2hhbmdlcyAoc3ViamVjdCwgcHJvcCwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIGZuID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICAgICwgZmxhZ01zZyA9IGZsYWcodGhpcywgJ21lc3NhZ2UnKVxuICAgICAgLCBzc2ZpID0gZmxhZyh0aGlzLCAnc3NmaScpO1xuICAgIG5ldyBBc3NlcnRpb24oZm4sIGZsYWdNc2csIHNzZmksIHRydWUpLmlzLmEoJ2Z1bmN0aW9uJyk7XG5cbiAgICB2YXIgaW5pdGlhbDtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIG5ldyBBc3NlcnRpb24oc3ViamVjdCwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkuaXMuYSgnZnVuY3Rpb24nKTtcbiAgICAgIGluaXRpYWwgPSBzdWJqZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBBc3NlcnRpb24oc3ViamVjdCwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkudG8uaGF2ZS5wcm9wZXJ0eShwcm9wKTtcbiAgICAgIGluaXRpYWwgPSBzdWJqZWN0W3Byb3BdO1xuICAgIH1cblxuICAgIGZuKCk7XG5cbiAgICB2YXIgZmluYWwgPSBwcm9wID09PSB1bmRlZmluZWQgfHwgcHJvcCA9PT0gbnVsbCA/IHN1YmplY3QoKSA6IHN1YmplY3RbcHJvcF07XG4gICAgdmFyIG1zZ09iaiA9IHByb3AgPT09IHVuZGVmaW5lZCB8fCBwcm9wID09PSBudWxsID8gaW5pdGlhbCA6ICcuJyArIHByb3A7XG5cbiAgICAvLyBUaGlzIGdldHMgZmxhZ2dlZCBiZWNhdXNlIG9mIHRoZSAuYnkoZGVsdGEpIGFzc2VydGlvblxuICAgIGZsYWcodGhpcywgJ2RlbHRhTXNnT2JqJywgbXNnT2JqKTtcbiAgICBmbGFnKHRoaXMsICdpbml0aWFsRGVsdGFWYWx1ZScsIGluaXRpYWwpO1xuICAgIGZsYWcodGhpcywgJ2ZpbmFsRGVsdGFWYWx1ZScsIGZpbmFsKTtcbiAgICBmbGFnKHRoaXMsICdkZWx0YUJlaGF2aW9yJywgJ2NoYW5nZScpO1xuICAgIGZsYWcodGhpcywgJ3JlYWxEZWx0YScsIGZpbmFsICE9PSBpbml0aWFsKTtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgaW5pdGlhbCAhPT0gZmluYWxcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBtc2dPYmogKyAnIHRvIGNoYW5nZSdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBtc2dPYmogKyAnIHRvIG5vdCBjaGFuZ2UnXG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2NoYW5nZScsIGFzc2VydENoYW5nZXMpO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdjaGFuZ2VzJywgYXNzZXJ0Q2hhbmdlcyk7XG5cbiAgLyoqXG4gICAqICMjIyAuaW5jcmVhc2Uoc3ViamVjdFssIHByb3BbLCBtc2ddXSlcbiAgICpcbiAgICogV2hlbiBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQsIGAuaW5jcmVhc2VgIGFzc2VydHMgdGhhdCB0aGUgZ2l2ZW4gZnVuY3Rpb25cbiAgICogYHN1YmplY3RgIHJldHVybnMgYSBncmVhdGVyIG51bWJlciB3aGVuIGl0J3MgaW52b2tlZCBhZnRlciBpbnZva2luZyB0aGVcbiAgICogdGFyZ2V0IGZ1bmN0aW9uIGNvbXBhcmVkIHRvIHdoZW4gaXQncyBpbnZva2VkIGJlZm9yZWhhbmQuIGAuaW5jcmVhc2VgIGFsc29cbiAgICogY2F1c2VzIGFsbCBgLmJ5YCBhc3NlcnRpb25zIHRoYXQgZm9sbG93IGluIHRoZSBjaGFpbiB0byBhc3NlcnQgaG93IG11Y2hcbiAgICogZ3JlYXRlciBvZiBhIG51bWJlciBpcyByZXR1cm5lZC4gSXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCB0aGF0IHRoZSByZXR1cm5cbiAgICogdmFsdWUgaW5jcmVhc2VkIGJ5IHRoZSBleHBlY3RlZCBhbW91bnQsIHJhdGhlciB0aGFuIGFzc2VydGluZyBpdCBpbmNyZWFzZWRcbiAgICogYnkgYW55IGFtb3VudC5cbiAgICpcbiAgICogICAgIHZhciB2YWwgPSAxXG4gICAqICAgICAgICwgYWRkVHdvID0gZnVuY3Rpb24gKCkgeyB2YWwgKz0gMjsgfVxuICAgKiAgICAgICAsIGdldFZhbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbDsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChhZGRUd28pLnRvLmluY3JlYXNlKGdldFZhbCkuYnkoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShnZXRWYWwpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogV2hlbiB0d28gYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgYC5pbmNyZWFzZWAgYXNzZXJ0cyB0aGF0IHRoZSB2YWx1ZSBvZiB0aGVcbiAgICogZ2l2ZW4gb2JqZWN0IGBzdWJqZWN0YCdzIGBwcm9wYCBwcm9wZXJ0eSBpcyBncmVhdGVyIGFmdGVyIGludm9raW5nIHRoZVxuICAgKiB0YXJnZXQgZnVuY3Rpb24gY29tcGFyZWQgdG8gYmVmb3JlaGFuZC5cbiAgICpcbiAgICogICAgIHZhciBteU9iaiA9IHt2YWw6IDF9XG4gICAqICAgICAgICwgYWRkVHdvID0gZnVuY3Rpb24gKCkgeyBteU9iai52YWwgKz0gMjsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChhZGRUd28pLnRvLmluY3JlYXNlKG15T2JqLCAndmFsJykuYnkoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogQWRkIGAubm90YCBlYXJsaWVyIGluIHRoZSBjaGFpbiB0byBuZWdhdGUgYC5pbmNyZWFzZWAuIEhvd2V2ZXIsIGl0J3NcbiAgICogZGFuZ2Vyb3VzIHRvIGRvIHNvLiBUaGUgcHJvYmxlbSBpcyB0aGF0IGl0IGNyZWF0ZXMgdW5jZXJ0YWluIGV4cGVjdGF0aW9uc1xuICAgKiBieSBhc3NlcnRpbmcgdGhhdCB0aGUgc3ViamVjdCBlaXRoZXIgZGVjcmVhc2VzLCBvciB0aGF0IGl0IHN0YXlzIHRoZSBzYW1lLlxuICAgKiBJdCdzIG9mdGVuIGJlc3QgdG8gaWRlbnRpZnkgdGhlIGV4YWN0IG91dHB1dCB0aGF0J3MgZXhwZWN0ZWQsIGFuZCB0aGVuXG4gICAqIHdyaXRlIGFuIGFzc2VydGlvbiB0aGF0IG9ubHkgYWNjZXB0cyB0aGF0IGV4YWN0IG91dHB1dC5cbiAgICpcbiAgICogV2hlbiB0aGUgc3ViamVjdCBpcyBleHBlY3RlZCB0byBkZWNyZWFzZSwgaXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCB0aGF0IGl0XG4gICAqIGRlY3JlYXNlZCBieSB0aGUgZXhwZWN0ZWQgYW1vdW50LlxuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge3ZhbDogMX1cbiAgICogICAgICAgLCBzdWJ0cmFjdFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsIC09IDI7IH07XG4gICAqXG4gICAqICAgICBleHBlY3Qoc3VidHJhY3RUd28pLnRvLmRlY3JlYXNlKG15T2JqLCAndmFsJykuYnkoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoc3VidHJhY3RUd28pLnRvLm5vdC5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogV2hlbiB0aGUgc3ViamVjdCBpcyBleHBlY3RlZCB0byBzdGF5IHRoZSBzYW1lLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0XG4gICAqIGV4YWN0bHkgdGhhdC5cbiAgICpcbiAgICogICAgIHZhciBteU9iaiA9IHt2YWw6IDF9XG4gICAqICAgICAgICwgbm9vcCA9IGZ1bmN0aW9uICgpIHt9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KG5vb3ApLnRvLm5vdC5jaGFuZ2UobXlPYmosICd2YWwnKTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChub29wKS50by5ub3QuaW5jcmVhc2UobXlPYmosICd2YWwnKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIGAuaW5jcmVhc2VgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3JcbiAgICogbWVzc2FnZSB0byBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXNcbiAgICogdGhlIHNlY29uZCBhcmd1bWVudCB0byBgZXhwZWN0YC4gV2hlbiBub3QgcHJvdmlkaW5nIHR3byBhcmd1bWVudHMsIGFsd2F5c1xuICAgKiB1c2UgdGhlIHNlY29uZCBmb3JtLlxuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge3ZhbDogMX1cbiAgICogICAgICAgLCBub29wID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3Qobm9vcCkudG8uaW5jcmVhc2UobXlPYmosICd2YWwnLCAnbm9vbyB3aHkgZmFpbD8/Jyk7XG4gICAqXG4gICAqICAgICB2YXIgdmFsID0gMVxuICAgKiAgICAgICAsIG5vb3AgPSBmdW5jdGlvbiAoKSB7fVxuICAgKiAgICAgICAsIGdldFZhbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbDsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChub29wLCAnbm9vbyB3aHkgZmFpbD8/JykudG8uaW5jcmVhc2UoZ2V0VmFsKTtcbiAgICpcbiAgICogVGhlIGFsaWFzIGAuaW5jcmVhc2VzYCBjYW4gYmUgdXNlZCBpbnRlcmNoYW5nZWFibHkgd2l0aCBgLmluY3JlYXNlYC5cbiAgICpcbiAgICogQG5hbWUgaW5jcmVhc2VcbiAgICogQGFsaWFzIGluY3JlYXNlc1xuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc3ViamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFzc2VydEluY3JlYXNlcyAoc3ViamVjdCwgcHJvcCwgbXNnKSB7XG4gICAgaWYgKG1zZykgZmxhZyh0aGlzLCAnbWVzc2FnZScsIG1zZyk7XG4gICAgdmFyIGZuID0gZmxhZyh0aGlzLCAnb2JqZWN0JylcbiAgICAgICwgZmxhZ01zZyA9IGZsYWcodGhpcywgJ21lc3NhZ2UnKVxuICAgICAgLCBzc2ZpID0gZmxhZyh0aGlzLCAnc3NmaScpO1xuICAgIG5ldyBBc3NlcnRpb24oZm4sIGZsYWdNc2csIHNzZmksIHRydWUpLmlzLmEoJ2Z1bmN0aW9uJyk7XG5cbiAgICB2YXIgaW5pdGlhbDtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIG5ldyBBc3NlcnRpb24oc3ViamVjdCwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkuaXMuYSgnZnVuY3Rpb24nKTtcbiAgICAgIGluaXRpYWwgPSBzdWJqZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBBc3NlcnRpb24oc3ViamVjdCwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkudG8uaGF2ZS5wcm9wZXJ0eShwcm9wKTtcbiAgICAgIGluaXRpYWwgPSBzdWJqZWN0W3Byb3BdO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSB0YXJnZXQgaXMgYSBudW1iZXJcbiAgICBuZXcgQXNzZXJ0aW9uKGluaXRpYWwsIGZsYWdNc2csIHNzZmksIHRydWUpLmlzLmEoJ251bWJlcicpO1xuXG4gICAgZm4oKTtcblxuICAgIHZhciBmaW5hbCA9IHByb3AgPT09IHVuZGVmaW5lZCB8fCBwcm9wID09PSBudWxsID8gc3ViamVjdCgpIDogc3ViamVjdFtwcm9wXTtcbiAgICB2YXIgbXNnT2JqID0gcHJvcCA9PT0gdW5kZWZpbmVkIHx8IHByb3AgPT09IG51bGwgPyBpbml0aWFsIDogJy4nICsgcHJvcDtcblxuICAgIGZsYWcodGhpcywgJ2RlbHRhTXNnT2JqJywgbXNnT2JqKTtcbiAgICBmbGFnKHRoaXMsICdpbml0aWFsRGVsdGFWYWx1ZScsIGluaXRpYWwpO1xuICAgIGZsYWcodGhpcywgJ2ZpbmFsRGVsdGFWYWx1ZScsIGZpbmFsKTtcbiAgICBmbGFnKHRoaXMsICdkZWx0YUJlaGF2aW9yJywgJ2luY3JlYXNlJyk7XG4gICAgZmxhZyh0aGlzLCAncmVhbERlbHRhJywgZmluYWwgLSBpbml0aWFsKTtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgZmluYWwgLSBpbml0aWFsID4gMFxuICAgICAgLCAnZXhwZWN0ZWQgJyArIG1zZ09iaiArICcgdG8gaW5jcmVhc2UnXG4gICAgICAsICdleHBlY3RlZCAnICsgbXNnT2JqICsgJyB0byBub3QgaW5jcmVhc2UnXG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2luY3JlYXNlJywgYXNzZXJ0SW5jcmVhc2VzKTtcbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnaW5jcmVhc2VzJywgYXNzZXJ0SW5jcmVhc2VzKTtcblxuICAvKipcbiAgICogIyMjIC5kZWNyZWFzZShzdWJqZWN0WywgcHJvcFssIG1zZ11dKVxuICAgKlxuICAgKiBXaGVuIG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCwgYC5kZWNyZWFzZWAgYXNzZXJ0cyB0aGF0IHRoZSBnaXZlbiBmdW5jdGlvblxuICAgKiBgc3ViamVjdGAgcmV0dXJucyBhIGxlc3NlciBudW1iZXIgd2hlbiBpdCdzIGludm9rZWQgYWZ0ZXIgaW52b2tpbmcgdGhlXG4gICAqIHRhcmdldCBmdW5jdGlvbiBjb21wYXJlZCB0byB3aGVuIGl0J3MgaW52b2tlZCBiZWZvcmVoYW5kLiBgLmRlY3JlYXNlYCBhbHNvXG4gICAqIGNhdXNlcyBhbGwgYC5ieWAgYXNzZXJ0aW9ucyB0aGF0IGZvbGxvdyBpbiB0aGUgY2hhaW4gdG8gYXNzZXJ0IGhvdyBtdWNoXG4gICAqIGxlc3NlciBvZiBhIG51bWJlciBpcyByZXR1cm5lZC4gSXQncyBvZnRlbiBiZXN0IHRvIGFzc2VydCB0aGF0IHRoZSByZXR1cm5cbiAgICogdmFsdWUgZGVjcmVhc2VkIGJ5IHRoZSBleHBlY3RlZCBhbW91bnQsIHJhdGhlciB0aGFuIGFzc2VydGluZyBpdCBkZWNyZWFzZWRcbiAgICogYnkgYW55IGFtb3VudC5cbiAgICpcbiAgICogICAgIHZhciB2YWwgPSAxXG4gICAqICAgICAgICwgc3VidHJhY3RUd28gPSBmdW5jdGlvbiAoKSB7IHZhbCAtPSAyOyB9XG4gICAqICAgICAgICwgZ2V0VmFsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsOyB9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KHN1YnRyYWN0VHdvKS50by5kZWNyZWFzZShnZXRWYWwpLmJ5KDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHN1YnRyYWN0VHdvKS50by5kZWNyZWFzZShnZXRWYWwpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogV2hlbiB0d28gYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgYC5kZWNyZWFzZWAgYXNzZXJ0cyB0aGF0IHRoZSB2YWx1ZSBvZiB0aGVcbiAgICogZ2l2ZW4gb2JqZWN0IGBzdWJqZWN0YCdzIGBwcm9wYCBwcm9wZXJ0eSBpcyBsZXNzZXIgYWZ0ZXIgaW52b2tpbmcgdGhlXG4gICAqIHRhcmdldCBmdW5jdGlvbiBjb21wYXJlZCB0byBiZWZvcmVoYW5kLlxuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge3ZhbDogMX1cbiAgICogICAgICAgLCBzdWJ0cmFjdFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsIC09IDI7IH07XG4gICAqXG4gICAqICAgICBleHBlY3Qoc3VidHJhY3RUd28pLnRvLmRlY3JlYXNlKG15T2JqLCAndmFsJykuYnkoMik7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3Qoc3VidHJhY3RUd28pLnRvLmRlY3JlYXNlKG15T2JqLCAndmFsJyk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmRlY3JlYXNlYC4gSG93ZXZlciwgaXQnc1xuICAgKiBkYW5nZXJvdXMgdG8gZG8gc28uIFRoZSBwcm9ibGVtIGlzIHRoYXQgaXQgY3JlYXRlcyB1bmNlcnRhaW4gZXhwZWN0YXRpb25zXG4gICAqIGJ5IGFzc2VydGluZyB0aGF0IHRoZSBzdWJqZWN0IGVpdGhlciBpbmNyZWFzZXMsIG9yIHRoYXQgaXQgc3RheXMgdGhlIHNhbWUuXG4gICAqIEl0J3Mgb2Z0ZW4gYmVzdCB0byBpZGVudGlmeSB0aGUgZXhhY3Qgb3V0cHV0IHRoYXQncyBleHBlY3RlZCwgYW5kIHRoZW5cbiAgICogd3JpdGUgYW4gYXNzZXJ0aW9uIHRoYXQgb25seSBhY2NlcHRzIHRoYXQgZXhhY3Qgb3V0cHV0LlxuICAgKlxuICAgKiBXaGVuIHRoZSBzdWJqZWN0IGlzIGV4cGVjdGVkIHRvIGluY3JlYXNlLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0IHRoYXQgaXRcbiAgICogaW5jcmVhc2VkIGJ5IHRoZSBleHBlY3RlZCBhbW91bnQuXG4gICAqXG4gICAqICAgICB2YXIgbXlPYmogPSB7dmFsOiAxfVxuICAgKiAgICAgICAsIGFkZFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsICs9IDI7IH07XG4gICAqXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ5KDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KGFkZFR3bykudG8ubm90LmRlY3JlYXNlKG15T2JqLCAndmFsJyk7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBXaGVuIHRoZSBzdWJqZWN0IGlzIGV4cGVjdGVkIHRvIHN0YXkgdGhlIHNhbWUsIGl0J3Mgb2Z0ZW4gYmVzdCB0byBhc3NlcnRcbiAgICogZXhhY3RseSB0aGF0LlxuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge3ZhbDogMX1cbiAgICogICAgICAgLCBub29wID0gZnVuY3Rpb24gKCkge307XG4gICAqXG4gICAqICAgICBleHBlY3Qobm9vcCkudG8ubm90LmNoYW5nZShteU9iaiwgJ3ZhbCcpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KG5vb3ApLnRvLm5vdC5kZWNyZWFzZShteU9iaiwgJ3ZhbCcpOyAvLyBOb3QgcmVjb21tZW5kZWRcbiAgICpcbiAgICogYC5kZWNyZWFzZWAgYWNjZXB0cyBhbiBvcHRpb25hbCBgbXNnYCBhcmd1bWVudCB3aGljaCBpcyBhIGN1c3RvbSBlcnJvclxuICAgKiBtZXNzYWdlIHRvIHNob3cgd2hlbiB0aGUgYXNzZXJ0aW9uIGZhaWxzLiBUaGUgbWVzc2FnZSBjYW4gYWxzbyBiZSBnaXZlbiBhc1xuICAgKiB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLiBXaGVuIG5vdCBwcm92aWRpbmcgdHdvIGFyZ3VtZW50cywgYWx3YXlzXG4gICAqIHVzZSB0aGUgc2Vjb25kIGZvcm0uXG4gICAqXG4gICAqICAgICB2YXIgbXlPYmogPSB7dmFsOiAxfVxuICAgKiAgICAgICAsIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICpcbiAgICogICAgIGV4cGVjdChub29wKS50by5kZWNyZWFzZShteU9iaiwgJ3ZhbCcsICdub29vIHdoeSBmYWlsPz8nKTtcbiAgICpcbiAgICogICAgIHZhciB2YWwgPSAxXG4gICAqICAgICAgICwgbm9vcCA9IGZ1bmN0aW9uICgpIHt9XG4gICAqICAgICAgICwgZ2V0VmFsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsOyB9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KG5vb3AsICdub29vIHdoeSBmYWlsPz8nKS50by5kZWNyZWFzZShnZXRWYWwpO1xuICAgKlxuICAgKiBUaGUgYWxpYXMgYC5kZWNyZWFzZXNgIGNhbiBiZSB1c2VkIGludGVyY2hhbmdlYWJseSB3aXRoIGAuZGVjcmVhc2VgLlxuICAgKlxuICAgKiBAbmFtZSBkZWNyZWFzZVxuICAgKiBAYWxpYXMgZGVjcmVhc2VzXG4gICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzdWJqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIG5hbWUgX29wdGlvbmFsX1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gYXNzZXJ0RGVjcmVhc2VzIChzdWJqZWN0LCBwcm9wLCBtc2cpIHtcbiAgICBpZiAobXNnKSBmbGFnKHRoaXMsICdtZXNzYWdlJywgbXNnKTtcbiAgICB2YXIgZm4gPSBmbGFnKHRoaXMsICdvYmplY3QnKVxuICAgICAgLCBmbGFnTXNnID0gZmxhZyh0aGlzLCAnbWVzc2FnZScpXG4gICAgICAsIHNzZmkgPSBmbGFnKHRoaXMsICdzc2ZpJyk7XG4gICAgbmV3IEFzc2VydGlvbihmbiwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkuaXMuYSgnZnVuY3Rpb24nKTtcblxuICAgIHZhciBpbml0aWFsO1xuICAgIGlmICghcHJvcCkge1xuICAgICAgbmV3IEFzc2VydGlvbihzdWJqZWN0LCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS5pcy5hKCdmdW5jdGlvbicpO1xuICAgICAgaW5pdGlhbCA9IHN1YmplY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IEFzc2VydGlvbihzdWJqZWN0LCBmbGFnTXNnLCBzc2ZpLCB0cnVlKS50by5oYXZlLnByb3BlcnR5KHByb3ApO1xuICAgICAgaW5pdGlhbCA9IHN1YmplY3RbcHJvcF07XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHRhcmdldCBpcyBhIG51bWJlclxuICAgIG5ldyBBc3NlcnRpb24oaW5pdGlhbCwgZmxhZ01zZywgc3NmaSwgdHJ1ZSkuaXMuYSgnbnVtYmVyJyk7XG5cbiAgICBmbigpO1xuXG4gICAgdmFyIGZpbmFsID0gcHJvcCA9PT0gdW5kZWZpbmVkIHx8IHByb3AgPT09IG51bGwgPyBzdWJqZWN0KCkgOiBzdWJqZWN0W3Byb3BdO1xuICAgIHZhciBtc2dPYmogPSBwcm9wID09PSB1bmRlZmluZWQgfHwgcHJvcCA9PT0gbnVsbCA/IGluaXRpYWwgOiAnLicgKyBwcm9wO1xuXG4gICAgZmxhZyh0aGlzLCAnZGVsdGFNc2dPYmonLCBtc2dPYmopO1xuICAgIGZsYWcodGhpcywgJ2luaXRpYWxEZWx0YVZhbHVlJywgaW5pdGlhbCk7XG4gICAgZmxhZyh0aGlzLCAnZmluYWxEZWx0YVZhbHVlJywgZmluYWwpO1xuICAgIGZsYWcodGhpcywgJ2RlbHRhQmVoYXZpb3InLCAnZGVjcmVhc2UnKTtcbiAgICBmbGFnKHRoaXMsICdyZWFsRGVsdGEnLCBpbml0aWFsIC0gZmluYWwpO1xuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICBmaW5hbCAtIGluaXRpYWwgPCAwXG4gICAgICAsICdleHBlY3RlZCAnICsgbXNnT2JqICsgJyB0byBkZWNyZWFzZSdcbiAgICAgICwgJ2V4cGVjdGVkICcgKyBtc2dPYmogKyAnIHRvIG5vdCBkZWNyZWFzZSdcbiAgICApO1xuICB9XG5cbiAgQXNzZXJ0aW9uLmFkZE1ldGhvZCgnZGVjcmVhc2UnLCBhc3NlcnREZWNyZWFzZXMpO1xuICBBc3NlcnRpb24uYWRkTWV0aG9kKCdkZWNyZWFzZXMnLCBhc3NlcnREZWNyZWFzZXMpO1xuXG4gIC8qKlxuICAgKiAjIyMgLmJ5KGRlbHRhWywgbXNnXSlcbiAgICpcbiAgICogV2hlbiBmb2xsb3dpbmcgYW4gYC5pbmNyZWFzZWAgYXNzZXJ0aW9uIGluIHRoZSBjaGFpbiwgYC5ieWAgYXNzZXJ0cyB0aGF0XG4gICAqIHRoZSBzdWJqZWN0IG9mIHRoZSBgLmluY3JlYXNlYCBhc3NlcnRpb24gaW5jcmVhc2VkIGJ5IHRoZSBnaXZlbiBgZGVsdGFgLlxuICAgKlxuICAgKiAgICAgdmFyIG15T2JqID0ge3ZhbDogMX1cbiAgICogICAgICAgLCBhZGRUd28gPSBmdW5jdGlvbiAoKSB7IG15T2JqLnZhbCArPSAyOyB9O1xuICAgKlxuICAgKiAgICAgZXhwZWN0KGFkZFR3bykudG8uaW5jcmVhc2UobXlPYmosICd2YWwnKS5ieSgyKTtcbiAgICpcbiAgICogV2hlbiBmb2xsb3dpbmcgYSBgLmRlY3JlYXNlYCBhc3NlcnRpb24gaW4gdGhlIGNoYWluLCBgLmJ5YCBhc3NlcnRzIHRoYXQgdGhlXG4gICAqIHN1YmplY3Qgb2YgdGhlIGAuZGVjcmVhc2VgIGFzc2VydGlvbiBkZWNyZWFzZWQgYnkgdGhlIGdpdmVuIGBkZWx0YWAuXG4gICAqXG4gICAqICAgICB2YXIgbXlPYmogPSB7dmFsOiAxfVxuICAgKiAgICAgICAsIHN1YnRyYWN0VHdvID0gZnVuY3Rpb24gKCkgeyBteU9iai52YWwgLT0gMjsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChzdWJ0cmFjdFR3bykudG8uZGVjcmVhc2UobXlPYmosICd2YWwnKS5ieSgyKTtcbiAgICpcbiAgICogV2hlbiBmb2xsb3dpbmcgYSBgLmNoYW5nZWAgYXNzZXJ0aW9uIGluIHRoZSBjaGFpbiwgYC5ieWAgYXNzZXJ0cyB0aGF0IHRoZVxuICAgKiBzdWJqZWN0IG9mIHRoZSBgLmNoYW5nZWAgYXNzZXJ0aW9uIGVpdGhlciBpbmNyZWFzZWQgb3IgZGVjcmVhc2VkIGJ5IHRoZVxuICAgKiBnaXZlbiBgZGVsdGFgLiBIb3dldmVyLCBpdCdzIGRhbmdlcm91cyB0byB1c2UgYC5jaGFuZ2UuYnlgLiBUaGUgcHJvYmxlbSBpc1xuICAgKiB0aGF0IGl0IGNyZWF0ZXMgdW5jZXJ0YWluIGV4cGVjdGF0aW9ucy4gSXQncyBvZnRlbiBiZXN0IHRvIGlkZW50aWZ5IHRoZVxuICAgKiBleGFjdCBvdXRwdXQgdGhhdCdzIGV4cGVjdGVkLCBhbmQgdGhlbiB3cml0ZSBhbiBhc3NlcnRpb24gdGhhdCBvbmx5IGFjY2VwdHNcbiAgICogdGhhdCBleGFjdCBvdXRwdXQuXG4gICAqXG4gICAqICAgICB2YXIgbXlPYmogPSB7dmFsOiAxfVxuICAgKiAgICAgICAsIGFkZFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsICs9IDI7IH1cbiAgICogICAgICAgLCBzdWJ0cmFjdFR3byA9IGZ1bmN0aW9uICgpIHsgbXlPYmoudmFsIC09IDI7IH07XG4gICAqXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ5KDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KGFkZFR3bykudG8uY2hhbmdlKG15T2JqLCAndmFsJykuYnkoMik7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiAgICAgZXhwZWN0KHN1YnRyYWN0VHdvKS50by5kZWNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ5KDIpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KHN1YnRyYWN0VHdvKS50by5jaGFuZ2UobXlPYmosICd2YWwnKS5ieSgyKTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuYnlgLiBIb3dldmVyLCBpdCdzIG9mdGVuIGJlc3RcbiAgICogdG8gYXNzZXJ0IHRoYXQgdGhlIHN1YmplY3QgY2hhbmdlZCBieSBpdHMgZXhwZWN0ZWQgZGVsdGEsIHJhdGhlciB0aGFuXG4gICAqIGFzc2VydGluZyB0aGF0IGl0IGRpZG4ndCBjaGFuZ2UgYnkgb25lIG9mIGNvdW50bGVzcyB1bmV4cGVjdGVkIGRlbHRhcy5cbiAgICpcbiAgICogICAgIHZhciBteU9iaiA9IHt2YWw6IDF9XG4gICAqICAgICAgICwgYWRkVHdvID0gZnVuY3Rpb24gKCkgeyBteU9iai52YWwgKz0gMjsgfTtcbiAgICpcbiAgICogICAgIC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ5KDIpO1xuICAgKlxuICAgKiAgICAgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoYWRkVHdvKS50by5pbmNyZWFzZShteU9iaiwgJ3ZhbCcpLmJ1dC5ub3QuYnkoMyk7XG4gICAqXG4gICAqIGAuYnlgIGFjY2VwdHMgYW4gb3B0aW9uYWwgYG1zZ2AgYXJndW1lbnQgd2hpY2ggaXMgYSBjdXN0b20gZXJyb3IgbWVzc2FnZSB0b1xuICAgKiBzaG93IHdoZW4gdGhlIGFzc2VydGlvbiBmYWlscy4gVGhlIG1lc3NhZ2UgY2FuIGFsc28gYmUgZ2l2ZW4gYXMgdGhlIHNlY29uZFxuICAgKiBhcmd1bWVudCB0byBgZXhwZWN0YC5cbiAgICpcbiAgICogICAgIHZhciBteU9iaiA9IHt2YWw6IDF9XG4gICAqICAgICAgICwgYWRkVHdvID0gZnVuY3Rpb24gKCkgeyBteU9iai52YWwgKz0gMjsgfTtcbiAgICpcbiAgICogICAgIGV4cGVjdChhZGRUd28pLnRvLmluY3JlYXNlKG15T2JqLCAndmFsJykuYnkoMywgJ25vb28gd2h5IGZhaWw/PycpO1xuICAgKiAgICAgZXhwZWN0KGFkZFR3bywgJ25vb28gd2h5IGZhaWw/PycpLnRvLmluY3JlYXNlKG15T2JqLCAndmFsJykuYnkoMyk7XG4gICAqXG4gICAqIEBuYW1lIGJ5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gYXNzZXJ0RGVsdGEoZGVsdGEsIG1zZykge1xuICAgIGlmIChtc2cpIGZsYWcodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuXG4gICAgdmFyIG1zZ09iaiA9IGZsYWcodGhpcywgJ2RlbHRhTXNnT2JqJyk7XG4gICAgdmFyIGluaXRpYWwgPSBmbGFnKHRoaXMsICdpbml0aWFsRGVsdGFWYWx1ZScpO1xuICAgIHZhciBmaW5hbCA9IGZsYWcodGhpcywgJ2ZpbmFsRGVsdGFWYWx1ZScpO1xuICAgIHZhciBiZWhhdmlvciA9IGZsYWcodGhpcywgJ2RlbHRhQmVoYXZpb3InKTtcbiAgICB2YXIgcmVhbERlbHRhID0gZmxhZyh0aGlzLCAncmVhbERlbHRhJyk7XG5cbiAgICB2YXIgZXhwcmVzc2lvbjtcbiAgICBpZiAoYmVoYXZpb3IgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBleHByZXNzaW9uID0gTWF0aC5hYnMoZmluYWwgLSBpbml0aWFsKSA9PT0gTWF0aC5hYnMoZGVsdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHByZXNzaW9uID0gcmVhbERlbHRhID09PSBNYXRoLmFicyhkZWx0YSk7XG4gICAgfVxuXG4gICAgdGhpcy5hc3NlcnQoXG4gICAgICBleHByZXNzaW9uXG4gICAgICAsICdleHBlY3RlZCAnICsgbXNnT2JqICsgJyB0byAnICsgYmVoYXZpb3IgKyAnIGJ5ICcgKyBkZWx0YVxuICAgICAgLCAnZXhwZWN0ZWQgJyArIG1zZ09iaiArICcgdG8gbm90ICcgKyBiZWhhdmlvciArICcgYnkgJyArIGRlbHRhXG4gICAgKTtcbiAgfVxuXG4gIEFzc2VydGlvbi5hZGRNZXRob2QoJ2J5JywgYXNzZXJ0RGVsdGEpO1xuXG4gIC8qKlxuICAgKiAjIyMgLmV4dGVuc2libGVcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgZXh0ZW5zaWJsZSwgd2hpY2ggbWVhbnMgdGhhdCBuZXcgcHJvcGVydGllcyBjYW5cbiAgICogYmUgYWRkZWQgdG8gaXQuIFByaW1pdGl2ZXMgYXJlIG5ldmVyIGV4dGVuc2libGUuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9KS50by5iZS5leHRlbnNpYmxlO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmV4dGVuc2libGVgLlxuICAgKlxuICAgKiAgICAgdmFyIG5vbkV4dGVuc2libGVPYmplY3QgPSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pXG4gICAqICAgICAgICwgc2VhbGVkT2JqZWN0ID0gT2JqZWN0LnNlYWwoe30pXG4gICAqICAgICAgICwgZnJvemVuT2JqZWN0ID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG4gICAqXG4gICAqICAgICBleHBlY3Qobm9uRXh0ZW5zaWJsZU9iamVjdCkudG8ubm90LmJlLmV4dGVuc2libGU7XG4gICAqICAgICBleHBlY3Qoc2VhbGVkT2JqZWN0KS50by5ub3QuYmUuZXh0ZW5zaWJsZTtcbiAgICogICAgIGV4cGVjdChmcm96ZW5PYmplY3QpLnRvLm5vdC5iZS5leHRlbnNpYmxlO1xuICAgKiAgICAgZXhwZWN0KDEpLnRvLm5vdC5iZS5leHRlbnNpYmxlO1xuICAgKlxuICAgKiBBIGN1c3RvbSBlcnJvciBtZXNzYWdlIGNhbiBiZSBnaXZlbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBleHBlY3RgLlxuICAgKlxuICAgKiAgICAgZXhwZWN0KDEsICdub29vIHdoeSBmYWlsPz8nKS50by5iZS5leHRlbnNpYmxlO1xuICAgKlxuICAgKiBAbmFtZSBleHRlbnNpYmxlXG4gICAqIEBuYW1lc3BhY2UgQkREXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIEFzc2VydGlvbi5hZGRQcm9wZXJ0eSgnZXh0ZW5zaWJsZScsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKTtcblxuICAgIC8vIEluIEVTNSwgaWYgdGhlIGFyZ3VtZW50IHRvIHRoaXMgbWV0aG9kIGlzIGEgcHJpbWl0aXZlLCB0aGVuIGl0IHdpbGwgY2F1c2UgYSBUeXBlRXJyb3IuXG4gICAgLy8gSW4gRVM2LCBhIG5vbi1vYmplY3QgYXJndW1lbnQgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdhcyBhIG5vbi1leHRlbnNpYmxlIG9yZGluYXJ5IG9iamVjdCwgc2ltcGx5IHJldHVybiBmYWxzZS5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNFeHRlbnNpYmxlXG4gICAgLy8gVGhlIGZvbGxvd2luZyBwcm92aWRlcyBFUzYgYmVoYXZpb3IgZm9yIEVTNSBlbnZpcm9ubWVudHMuXG5cbiAgICB2YXIgaXNFeHRlbnNpYmxlID0gb2JqID09PSBPYmplY3Qob2JqKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKG9iaik7XG5cbiAgICB0aGlzLmFzc2VydChcbiAgICAgIGlzRXh0ZW5zaWJsZVxuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBiZSBleHRlbnNpYmxlJ1xuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgYmUgZXh0ZW5zaWJsZSdcbiAgICApO1xuICB9KTtcblxuICAvKipcbiAgICogIyMjIC5zZWFsZWRcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgc2VhbGVkLCB3aGljaCBtZWFucyB0aGF0IG5ldyBwcm9wZXJ0aWVzIGNhbid0IGJlXG4gICAqIGFkZGVkIHRvIGl0LCBhbmQgaXRzIGV4aXN0aW5nIHByb3BlcnRpZXMgY2FuJ3QgYmUgcmVjb25maWd1cmVkIG9yIGRlbGV0ZWQuXG4gICAqIEhvd2V2ZXIsIGl0J3MgcG9zc2libGUgdGhhdCBpdHMgZXhpc3RpbmcgcHJvcGVydGllcyBjYW4gc3RpbGwgYmUgcmVhc3NpZ25lZFxuICAgKiB0byBkaWZmZXJlbnQgdmFsdWVzLiBQcmltaXRpdmVzIGFyZSBhbHdheXMgc2VhbGVkLlxuICAgKlxuICAgKiAgICAgdmFyIHNlYWxlZE9iamVjdCA9IE9iamVjdC5zZWFsKHt9KTtcbiAgICogICAgIHZhciBmcm96ZW5PYmplY3QgPSBPYmplY3QuZnJlZXplKHt9KTtcbiAgICpcbiAgICogICAgIGV4cGVjdChzZWFsZWRPYmplY3QpLnRvLmJlLnNlYWxlZDtcbiAgICogICAgIGV4cGVjdChmcm96ZW5PYmplY3QpLnRvLmJlLnNlYWxlZDtcbiAgICogICAgIGV4cGVjdCgxKS50by5iZS5zZWFsZWQ7XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuc2VhbGVkYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLm5vdC5iZS5zZWFsZWQ7XG4gICAqXG4gICAqIEEgY3VzdG9tIGVycm9yIG1lc3NhZ2UgY2FuIGJlIGdpdmVuIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUuc2VhbGVkO1xuICAgKlxuICAgKiBAbmFtZSBzZWFsZWRcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdzZWFsZWQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0Jyk7XG5cbiAgICAvLyBJbiBFUzUsIGlmIHRoZSBhcmd1bWVudCB0byB0aGlzIG1ldGhvZCBpcyBhIHByaW1pdGl2ZSwgdGhlbiBpdCB3aWxsIGNhdXNlIGEgVHlwZUVycm9yLlxuICAgIC8vIEluIEVTNiwgYSBub24tb2JqZWN0IGFyZ3VtZW50IHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3YXMgYSBzZWFsZWQgb3JkaW5hcnkgb2JqZWN0LCBzaW1wbHkgcmV0dXJuIHRydWUuXG4gICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1NlYWxlZFxuICAgIC8vIFRoZSBmb2xsb3dpbmcgcHJvdmlkZXMgRVM2IGJlaGF2aW9yIGZvciBFUzUgZW52aXJvbm1lbnRzLlxuXG4gICAgdmFyIGlzU2VhbGVkID0gb2JqID09PSBPYmplY3Qob2JqKSA/IE9iamVjdC5pc1NlYWxlZChvYmopIDogdHJ1ZTtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgaXNTZWFsZWRcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgc2VhbGVkJ1xuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgYmUgc2VhbGVkJ1xuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmZyb3plblxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBmcm96ZW4sIHdoaWNoIG1lYW5zIHRoYXQgbmV3IHByb3BlcnRpZXMgY2FuJ3QgYmVcbiAgICogYWRkZWQgdG8gaXQsIGFuZCBpdHMgZXhpc3RpbmcgcHJvcGVydGllcyBjYW4ndCBiZSByZWFzc2lnbmVkIHRvIGRpZmZlcmVudFxuICAgKiB2YWx1ZXMsIHJlY29uZmlndXJlZCwgb3IgZGVsZXRlZC4gUHJpbWl0aXZlcyBhcmUgYWx3YXlzIGZyb3plbi5cbiAgICpcbiAgICogICAgIHZhciBmcm96ZW5PYmplY3QgPSBPYmplY3QuZnJlZXplKHt9KTtcbiAgICpcbiAgICogICAgIGV4cGVjdChmcm96ZW5PYmplY3QpLnRvLmJlLmZyb3plbjtcbiAgICogICAgIGV4cGVjdCgxKS50by5iZS5mcm96ZW47XG4gICAqXG4gICAqIEFkZCBgLm5vdGAgZWFybGllciBpbiB0aGUgY2hhaW4gdG8gbmVnYXRlIGAuZnJvemVuYC5cbiAgICpcbiAgICogICAgIGV4cGVjdCh7YTogMX0pLnRvLm5vdC5iZS5mcm96ZW47XG4gICAqXG4gICAqIEEgY3VzdG9tIGVycm9yIG1lc3NhZ2UgY2FuIGJlIGdpdmVuIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3Qoe2E6IDF9LCAnbm9vbyB3aHkgZmFpbD8/JykudG8uYmUuZnJvemVuO1xuICAgKlxuICAgKiBAbmFtZSBmcm96ZW5cbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdmcm96ZW4nLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqID0gZmxhZyh0aGlzLCAnb2JqZWN0Jyk7XG5cbiAgICAvLyBJbiBFUzUsIGlmIHRoZSBhcmd1bWVudCB0byB0aGlzIG1ldGhvZCBpcyBhIHByaW1pdGl2ZSwgdGhlbiBpdCB3aWxsIGNhdXNlIGEgVHlwZUVycm9yLlxuICAgIC8vIEluIEVTNiwgYSBub24tb2JqZWN0IGFyZ3VtZW50IHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3YXMgYSBmcm96ZW4gb3JkaW5hcnkgb2JqZWN0LCBzaW1wbHkgcmV0dXJuIHRydWUuXG4gICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgcHJvdmlkZXMgRVM2IGJlaGF2aW9yIGZvciBFUzUgZW52aXJvbm1lbnRzLlxuXG4gICAgdmFyIGlzRnJvemVuID0gb2JqID09PSBPYmplY3Qob2JqKSA/IE9iamVjdC5pc0Zyb3plbihvYmopIDogdHJ1ZTtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgaXNGcm96ZW5cbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gYmUgZnJvemVuJ1xuICAgICAgLCAnZXhwZWN0ZWQgI3t0aGlzfSB0byBub3QgYmUgZnJvemVuJ1xuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAjIyMgLmZpbml0ZVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBhIG51bWJlciwgYW5kIGlzbid0IGBOYU5gIG9yIHBvc2l0aXZlL25lZ2F0aXZlXG4gICAqIGBJbmZpbml0eWAuXG4gICAqXG4gICAqICAgICBleHBlY3QoMSkudG8uYmUuZmluaXRlO1xuICAgKlxuICAgKiBBZGQgYC5ub3RgIGVhcmxpZXIgaW4gdGhlIGNoYWluIHRvIG5lZ2F0ZSBgLmZpbml0ZWAuIEhvd2V2ZXIsIGl0J3NcbiAgICogZGFuZ2Vyb3VzIHRvIGRvIHNvLiBUaGUgcHJvYmxlbSBpcyB0aGF0IGl0IGNyZWF0ZXMgdW5jZXJ0YWluIGV4cGVjdGF0aW9uc1xuICAgKiBieSBhc3NlcnRpbmcgdGhhdCB0aGUgc3ViamVjdCBlaXRoZXIgaXNuJ3QgYSBudW1iZXIsIG9yIHRoYXQgaXQncyBgTmFOYCwgb3JcbiAgICogdGhhdCBpdCdzIHBvc2l0aXZlIGBJbmZpbml0eWAsIG9yIHRoYXQgaXQncyBuZWdhdGl2ZSBgSW5maW5pdHlgLiBJdCdzIG9mdGVuXG4gICAqIGJlc3QgdG8gaWRlbnRpZnkgdGhlIGV4YWN0IG91dHB1dCB0aGF0J3MgZXhwZWN0ZWQsIGFuZCB0aGVuIHdyaXRlIGFuXG4gICAqIGFzc2VydGlvbiB0aGF0IG9ubHkgYWNjZXB0cyB0aGF0IGV4YWN0IG91dHB1dC5cbiAgICpcbiAgICogV2hlbiB0aGUgdGFyZ2V0IGlzbid0IGV4cGVjdGVkIHRvIGJlIGEgbnVtYmVyLCBpdCdzIG9mdGVuIGJlc3QgdG8gYXNzZXJ0XG4gICAqIHRoYXQgaXQncyB0aGUgZXhwZWN0ZWQgdHlwZSwgcmF0aGVyIHRoYW4gYXNzZXJ0aW5nIHRoYXQgaXQgaXNuJ3Qgb25lIG9mXG4gICAqIG1hbnkgdW5leHBlY3RlZCB0eXBlcy5cbiAgICpcbiAgICogICAgIGV4cGVjdCgnZm9vJykudG8uYmUuYSgnc3RyaW5nJyk7IC8vIFJlY29tbWVuZGVkXG4gICAqICAgICBleHBlY3QoJ2ZvbycpLnRvLm5vdC5iZS5maW5pdGU7IC8vIE5vdCByZWNvbW1lbmRlZFxuICAgKlxuICAgKiBXaGVuIHRoZSB0YXJnZXQgaXMgZXhwZWN0ZWQgdG8gYmUgYE5hTmAsIGl0J3Mgb2Z0ZW4gYmVzdCB0byBhc3NlcnQgZXhhY3RseVxuICAgKiB0aGF0LlxuICAgKlxuICAgKiAgICAgZXhwZWN0KE5hTikudG8uYmUuTmFOOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KE5hTikudG8ubm90LmJlLmZpbml0ZTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBleHBlY3RlZCB0byBiZSBwb3NpdGl2ZSBpbmZpbml0eSwgaXQncyBvZnRlbiBiZXN0IHRvXG4gICAqIGFzc2VydCBleGFjdGx5IHRoYXQuXG4gICAqXG4gICAqICAgICBleHBlY3QoSW5maW5pdHkpLnRvLmVxdWFsKEluZmluaXR5KTsgLy8gUmVjb21tZW5kZWRcbiAgICogICAgIGV4cGVjdChJbmZpbml0eSkudG8ubm90LmJlLmZpbml0ZTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIFdoZW4gdGhlIHRhcmdldCBpcyBleHBlY3RlZCB0byBiZSBuZWdhdGl2ZSBpbmZpbml0eSwgaXQncyBvZnRlbiBiZXN0IHRvXG4gICAqIGFzc2VydCBleGFjdGx5IHRoYXQuXG4gICAqXG4gICAqICAgICBleHBlY3QoLUluZmluaXR5KS50by5lcXVhbCgtSW5maW5pdHkpOyAvLyBSZWNvbW1lbmRlZFxuICAgKiAgICAgZXhwZWN0KC1JbmZpbml0eSkudG8ubm90LmJlLmZpbml0ZTsgLy8gTm90IHJlY29tbWVuZGVkXG4gICAqXG4gICAqIEEgY3VzdG9tIGVycm9yIG1lc3NhZ2UgY2FuIGJlIGdpdmVuIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYGV4cGVjdGAuXG4gICAqXG4gICAqICAgICBleHBlY3QoJ2ZvbycsICdub29vIHdoeSBmYWlsPz8nKS50by5iZS5maW5pdGU7XG4gICAqXG4gICAqIEBuYW1lIGZpbml0ZVxuICAgKiBAbmFtZXNwYWNlIEJERFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBBc3NlcnRpb24uYWRkUHJvcGVydHkoJ2Zpbml0ZScsIGZ1bmN0aW9uKG1zZykge1xuICAgIHZhciBvYmogPSBmbGFnKHRoaXMsICdvYmplY3QnKTtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgICB0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShvYmopXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGJlIGEgZmluaXRlIG51bWJlcidcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGJlIGEgZmluaXRlIG51bWJlcidcbiAgICApO1xuICB9KTtcbn07XG4iLCIvKiFcbiAqIGNoYWlcbiAqIENvcHlyaWdodChjKSAyMDExLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjaGFpLCB1dGlsKSB7XG4gIGNoYWkuZXhwZWN0ID0gZnVuY3Rpb24gKHZhbCwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgY2hhaS5Bc3NlcnRpb24odmFsLCBtZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5mYWlsKFttZXNzYWdlXSlcbiAgICogIyMjIC5mYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIFttZXNzYWdlXSwgW29wZXJhdG9yXSlcbiAgICpcbiAgICogVGhyb3cgYSBmYWlsdXJlLlxuICAgKlxuICAgKiAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICogICAgIGV4cGVjdC5mYWlsKFwiY3VzdG9tIGVycm9yIG1lc3NhZ2VcIik7XG4gICAqICAgICBleHBlY3QuZmFpbCgxLCAyKTtcbiAgICogICAgIGV4cGVjdC5mYWlsKDEsIDIsIFwiY3VzdG9tIGVycm9yIG1lc3NhZ2VcIik7XG4gICAqICAgICBleHBlY3QuZmFpbCgxLCAyLCBcImN1c3RvbSBlcnJvciBtZXNzYWdlXCIsIFwiPlwiKTtcbiAgICogICAgIGV4cGVjdC5mYWlsKDEsIDIsIHVuZGVmaW5lZCwgXCI+XCIpO1xuICAgKlxuICAgKiBAbmFtZSBmYWlsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBleHBlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BlcmF0b3JcbiAgICogQG5hbWVzcGFjZSBCRERcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2hhaS5leHBlY3QuZmFpbCA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICBtZXNzYWdlID0gYWN0dWFsO1xuICAgICAgICBhY3R1YWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UgfHwgJ2V4cGVjdC5mYWlsKCknO1xuICAgIHRocm93IG5ldyBjaGFpLkFzc2VydGlvbkVycm9yKG1lc3NhZ2UsIHtcbiAgICAgICAgYWN0dWFsOiBhY3R1YWxcbiAgICAgICwgZXhwZWN0ZWQ6IGV4cGVjdGVkXG4gICAgICAsIG9wZXJhdG9yOiBvcGVyYXRvclxuICAgIH0sIGNoYWkuZXhwZWN0LmZhaWwpO1xuICB9O1xufTtcbiIsIi8qIVxuICogY2hhaVxuICogQ29weXJpZ2h0KGMpIDIwMTEtMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNoYWksIHV0aWwpIHtcbiAgdmFyIEFzc2VydGlvbiA9IGNoYWkuQXNzZXJ0aW9uO1xuXG4gIGZ1bmN0aW9uIGxvYWRTaG91bGQgKCkge1xuICAgIC8vIGV4cGxpY2l0bHkgZGVmaW5lIHRoaXMgbWV0aG9kIGFzIGZ1bmN0aW9uIGFzIHRvIGhhdmUgaXQncyBuYW1lIHRvIGluY2x1ZGUgYXMgYHNzZmlgXG4gICAgZnVuY3Rpb24gc2hvdWxkR2V0dGVyKCkge1xuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTdHJpbmdcbiAgICAgICAgICB8fCB0aGlzIGluc3RhbmNlb2YgTnVtYmVyXG4gICAgICAgICAgfHwgdGhpcyBpbnN0YW5jZW9mIEJvb2xlYW5cbiAgICAgICAgICB8fCB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHRoaXMgaW5zdGFuY2VvZiBTeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NlcnRpb24odGhpcy52YWx1ZU9mKCksIG51bGwsIHNob3VsZEdldHRlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEFzc2VydGlvbih0aGlzLCBudWxsLCBzaG91bGRHZXR0ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRTZXR0ZXIodmFsdWUpIHtcbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY2hhaWpzL2NoYWkvaXNzdWVzLzg2OiB0aGlzIG1ha2VzXG4gICAgICAvLyBgd2hhdGV2ZXIuc2hvdWxkID0gc29tZVZhbHVlYCBhY3R1YWxseSBzZXQgYHNvbWVWYWx1ZWAsIHdoaWNoIGlzXG4gICAgICAvLyBlc3BlY2lhbGx5IHVzZWZ1bCBmb3IgYGdsb2JhbC5zaG91bGQgPSByZXF1aXJlKCdjaGFpJykuc2hvdWxkKClgLlxuICAgICAgLy9cbiAgICAgIC8vIE5vdGUgdGhhdCB3ZSBoYXZlIHRvIHVzZSBbW0RlZmluZVByb3BlcnR5XV0gaW5zdGVhZCBvZiBbW1B1dF1dXG4gICAgICAvLyBzaW5jZSBvdGhlcndpc2Ugd2Ugd291bGQgdHJpZ2dlciB0aGlzIHZlcnkgc2V0dGVyIVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzaG91bGQnLCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG1vZGlmeSBPYmplY3QucHJvdG90eXBlIHRvIGhhdmUgYHNob3VsZGBcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgJ3Nob3VsZCcsIHtcbiAgICAgIHNldDogc2hvdWxkU2V0dGVyXG4gICAgICAsIGdldDogc2hvdWxkR2V0dGVyXG4gICAgICAsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdmFyIHNob3VsZCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogIyMjIC5mYWlsKFttZXNzYWdlXSlcbiAgICAgKiAjIyMgLmZhaWwoYWN0dWFsLCBleHBlY3RlZCwgW21lc3NhZ2VdLCBbb3BlcmF0b3JdKVxuICAgICAqXG4gICAgICogVGhyb3cgYSBmYWlsdXJlLlxuICAgICAqXG4gICAgICogICAgIHNob3VsZC5mYWlsKCk7XG4gICAgICogICAgIHNob3VsZC5mYWlsKFwiY3VzdG9tIGVycm9yIG1lc3NhZ2VcIik7XG4gICAgICogICAgIHNob3VsZC5mYWlsKDEsIDIpO1xuICAgICAqICAgICBzaG91bGQuZmFpbCgxLCAyLCBcImN1c3RvbSBlcnJvciBtZXNzYWdlXCIpO1xuICAgICAqICAgICBzaG91bGQuZmFpbCgxLCAyLCBcImN1c3RvbSBlcnJvciBtZXNzYWdlXCIsIFwiPlwiKTtcbiAgICAgKiAgICAgc2hvdWxkLmZhaWwoMSwgMiwgdW5kZWZpbmVkLCBcIj5cIik7XG4gICAgICpcbiAgICAgKlxuICAgICAqIEBuYW1lIGZhaWxcbiAgICAgKiBAcGFyYW0ge01peGVkfSBhY3R1YWxcbiAgICAgKiBAcGFyYW0ge01peGVkfSBleHBlY3RlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wZXJhdG9yXG4gICAgICogQG5hbWVzcGFjZSBCRERcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuXG4gICAgc2hvdWxkLmZhaWwgPSBmdW5jdGlvbiAoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgb3BlcmF0b3IpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBhY3R1YWw7XG4gICAgICAgICAgYWN0dWFsID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCAnc2hvdWxkLmZhaWwoKSc7XG4gICAgICB0aHJvdyBuZXcgY2hhaS5Bc3NlcnRpb25FcnJvcihtZXNzYWdlLCB7XG4gICAgICAgICAgYWN0dWFsOiBhY3R1YWxcbiAgICAgICAgLCBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICAgLCBvcGVyYXRvcjogb3BlcmF0b3JcbiAgICAgIH0sIHNob3VsZC5mYWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIyMjIC5lcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBbbWVzc2FnZV0pXG4gICAgICpcbiAgICAgKiBBc3NlcnRzIG5vbi1zdHJpY3QgZXF1YWxpdHkgKGA9PWApIG9mIGBhY3R1YWxgIGFuZCBgZXhwZWN0ZWRgLlxuICAgICAqXG4gICAgICogICAgIHNob3VsZC5lcXVhbCgzLCAnMycsICc9PSBjb2VyY2VzIHZhbHVlcyB0byBzdHJpbmdzJyk7XG4gICAgICpcbiAgICAgKiBAbmFtZSBlcXVhbFxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGV4cGVjdGVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICAgKiBAbmFtZXNwYWNlIFNob3VsZFxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgICBzaG91bGQuZXF1YWwgPSBmdW5jdGlvbiAodmFsMSwgdmFsMiwgbXNnKSB7XG4gICAgICBuZXcgQXNzZXJ0aW9uKHZhbDEsIG1zZykudG8uZXF1YWwodmFsMik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICMjIyAudGhyb3coZnVuY3Rpb24sIFtjb25zdHJ1Y3Rvci9zdHJpbmcvcmVnZXhwXSwgW3N0cmluZy9yZWdleHBdLCBbbWVzc2FnZV0pXG4gICAgICpcbiAgICAgKiBBc3NlcnRzIHRoYXQgYGZ1bmN0aW9uYCB3aWxsIHRocm93IGFuIGVycm9yIHRoYXQgaXMgYW4gaW5zdGFuY2Ugb2ZcbiAgICAgKiBgY29uc3RydWN0b3JgLCBvciBhbHRlcm5hdGVseSB0aGF0IGl0IHdpbGwgdGhyb3cgYW4gZXJyb3Igd2l0aCBtZXNzYWdlXG4gICAgICogbWF0Y2hpbmcgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiAgICAgc2hvdWxkLnRocm93KGZuLCAnZnVuY3Rpb24gdGhyb3dzIGEgcmVmZXJlbmNlIGVycm9yJyk7XG4gICAgICogICAgIHNob3VsZC50aHJvdyhmbiwgL2Z1bmN0aW9uIHRocm93cyBhIHJlZmVyZW5jZSBlcnJvci8pO1xuICAgICAqICAgICBzaG91bGQudGhyb3coZm4sIFJlZmVyZW5jZUVycm9yKTtcbiAgICAgKiAgICAgc2hvdWxkLnRocm93KGZuLCBSZWZlcmVuY2VFcnJvciwgJ2Z1bmN0aW9uIHRocm93cyBhIHJlZmVyZW5jZSBlcnJvcicpO1xuICAgICAqICAgICBzaG91bGQudGhyb3coZm4sIFJlZmVyZW5jZUVycm9yLCAvZnVuY3Rpb24gdGhyb3dzIGEgcmVmZXJlbmNlIGVycm9yLyk7XG4gICAgICpcbiAgICAgKiBAbmFtZSB0aHJvd1xuICAgICAqIEBhbGlhcyBUaHJvd1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtFcnJvckNvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjRXJyb3JfdHlwZXNcbiAgICAgKiBAbmFtZXNwYWNlIFNob3VsZFxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgICBzaG91bGQuVGhyb3cgPSBmdW5jdGlvbiAoZm4sIGVycnQsIGVycnMsIG1zZykge1xuICAgICAgbmV3IEFzc2VydGlvbihmbiwgbXNnKS50by5UaHJvdyhlcnJ0LCBlcnJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIyMjIC5leGlzdFxuICAgICAqXG4gICAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgbmVpdGhlciBgbnVsbGAgbm9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogICAgIHZhciBmb28gPSAnaGknO1xuICAgICAqXG4gICAgICogICAgIHNob3VsZC5leGlzdChmb28sICdmb28gZXhpc3RzJyk7XG4gICAgICpcbiAgICAgKiBAbmFtZSBleGlzdFxuICAgICAqIEBuYW1lc3BhY2UgU2hvdWxkXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cblxuICAgIHNob3VsZC5leGlzdCA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZykudG8uZXhpc3Q7XG4gICAgfVxuXG4gICAgLy8gbmVnYXRpb25cbiAgICBzaG91bGQubm90ID0ge31cblxuICAgIC8qKlxuICAgICAqICMjIyAubm90LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIFttZXNzYWdlXSlcbiAgICAgKlxuICAgICAqIEFzc2VydHMgbm9uLXN0cmljdCBpbmVxdWFsaXR5IChgIT1gKSBvZiBgYWN0dWFsYCBhbmQgYGV4cGVjdGVkYC5cbiAgICAgKlxuICAgICAqICAgICBzaG91bGQubm90LmVxdWFsKDMsIDQsICd0aGVzZSBudW1iZXJzIGFyZSBub3QgZXF1YWwnKTtcbiAgICAgKlxuICAgICAqIEBuYW1lIG5vdC5lcXVhbFxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGV4cGVjdGVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICAgKiBAbmFtZXNwYWNlIFNob3VsZFxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgICBzaG91bGQubm90LmVxdWFsID0gZnVuY3Rpb24gKHZhbDEsIHZhbDIsIG1zZykge1xuICAgICAgbmV3IEFzc2VydGlvbih2YWwxLCBtc2cpLnRvLm5vdC5lcXVhbCh2YWwyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIyMjIC50aHJvdyhmdW5jdGlvbiwgW2NvbnN0cnVjdG9yL3JlZ2V4cF0sIFttZXNzYWdlXSlcbiAgICAgKlxuICAgICAqIEFzc2VydHMgdGhhdCBgZnVuY3Rpb25gIHdpbGwgX25vdF8gdGhyb3cgYW4gZXJyb3IgdGhhdCBpcyBhbiBpbnN0YW5jZSBvZlxuICAgICAqIGBjb25zdHJ1Y3RvcmAsIG9yIGFsdGVybmF0ZWx5IHRoYXQgaXQgd2lsbCBub3QgdGhyb3cgYW4gZXJyb3Igd2l0aCBtZXNzYWdlXG4gICAgICogbWF0Y2hpbmcgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiAgICAgc2hvdWxkLm5vdC50aHJvdyhmbiwgRXJyb3IsICdmdW5jdGlvbiBkb2VzIG5vdCB0aHJvdycpO1xuICAgICAqXG4gICAgICogQG5hbWUgbm90LnRocm93XG4gICAgICogQGFsaWFzIG5vdC5UaHJvd1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtFcnJvckNvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjRXJyb3JfdHlwZXNcbiAgICAgKiBAbmFtZXNwYWNlIFNob3VsZFxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgICBzaG91bGQubm90LlRocm93ID0gZnVuY3Rpb24gKGZuLCBlcnJ0LCBlcnJzLCBtc2cpIHtcbiAgICAgIG5ldyBBc3NlcnRpb24oZm4sIG1zZykudG8ubm90LlRocm93KGVycnQsIGVycnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAjIyMgLm5vdC5leGlzdFxuICAgICAqXG4gICAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgbmVpdGhlciBgbnVsbGAgbm9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogICAgIHZhciBiYXIgPSBudWxsO1xuICAgICAqXG4gICAgICogICAgIHNob3VsZC5ub3QuZXhpc3QoYmFyLCAnYmFyIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICpcbiAgICAgKiBAbmFtZSBub3QuZXhpc3RcbiAgICAgKiBAbmFtZXNwYWNlIFNob3VsZFxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgICBzaG91bGQubm90LmV4aXN0ID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnKS50by5ub3QuZXhpc3Q7XG4gICAgfVxuXG4gICAgc2hvdWxkWyd0aHJvdyddID0gc2hvdWxkWydUaHJvdyddO1xuICAgIHNob3VsZC5ub3RbJ3Rocm93J10gPSBzaG91bGQubm90WydUaHJvdyddO1xuXG4gICAgcmV0dXJuIHNob3VsZDtcbiAgfTtcblxuICBjaGFpLnNob3VsZCA9IGxvYWRTaG91bGQ7XG4gIGNoYWkuU2hvdWxkID0gbG9hZFNob3VsZDtcbn07XG4iLCIvKiFcbiAqIGNoYWlcbiAqIENvcHlyaWdodChjKSAyMDExLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjaGFpLCB1dGlsKSB7XG4gIC8qIVxuICAgKiBDaGFpIGRlcGVuZGVuY2llcy5cbiAgICovXG5cbiAgdmFyIEFzc2VydGlvbiA9IGNoYWkuQXNzZXJ0aW9uXG4gICAgLCBmbGFnID0gdXRpbC5mbGFnO1xuXG4gIC8qIVxuICAgKiBNb2R1bGUgZXhwb3J0LlxuICAgKi9cblxuICAvKipcbiAgICogIyMjIGFzc2VydChleHByZXNzaW9uLCBtZXNzYWdlKVxuICAgKlxuICAgKiBXcml0ZSB5b3VyIG93biB0ZXN0IGV4cHJlc3Npb25zLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0KCdmb28nICE9PSAnYmFyJywgJ2ZvbyBpcyBub3QgYmFyJyk7XG4gICAqICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShbXSksICdlbXB0eSBhcnJheXMgYXJlIGFycmF5cycpO1xuICAgKlxuICAgKiBAcGFyYW0ge01peGVkfSBleHByZXNzaW9uIHRvIHRlc3QgZm9yIHRydXRoaW5lc3NcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgdG8gZGlzcGxheSBvbiBlcnJvclxuICAgKiBAbmFtZSBhc3NlcnRcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdmFyIGFzc2VydCA9IGNoYWkuYXNzZXJ0ID0gZnVuY3Rpb24gKGV4cHJlc3MsIGVycm1zZykge1xuICAgIHZhciB0ZXN0ID0gbmV3IEFzc2VydGlvbihudWxsLCBudWxsLCBjaGFpLmFzc2VydCwgdHJ1ZSk7XG4gICAgdGVzdC5hc3NlcnQoXG4gICAgICAgIGV4cHJlc3NcbiAgICAgICwgZXJybXNnXG4gICAgICAsICdbIG5lZ2F0aW9uIG1lc3NhZ2UgdW5hdmFpbGFibGUgXSdcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmZhaWwoW21lc3NhZ2VdKVxuICAgKiAjIyMgLmZhaWwoYWN0dWFsLCBleHBlY3RlZCwgW21lc3NhZ2VdLCBbb3BlcmF0b3JdKVxuICAgKlxuICAgKiBUaHJvdyBhIGZhaWx1cmUuIE5vZGUuanMgYGFzc2VydGAgbW9kdWxlLWNvbXBhdGlibGUuXG4gICAqXG4gICAqICAgICBhc3NlcnQuZmFpbCgpO1xuICAgKiAgICAgYXNzZXJ0LmZhaWwoXCJjdXN0b20gZXJyb3IgbWVzc2FnZVwiKTtcbiAgICogICAgIGFzc2VydC5mYWlsKDEsIDIpO1xuICAgKiAgICAgYXNzZXJ0LmZhaWwoMSwgMiwgXCJjdXN0b20gZXJyb3IgbWVzc2FnZVwiKTtcbiAgICogICAgIGFzc2VydC5mYWlsKDEsIDIsIFwiY3VzdG9tIGVycm9yIG1lc3NhZ2VcIiwgXCI+XCIpO1xuICAgKiAgICAgYXNzZXJ0LmZhaWwoMSwgMiwgdW5kZWZpbmVkLCBcIj5cIik7XG4gICAqXG4gICAqIEBuYW1lIGZhaWxcbiAgICogQHBhcmFtIHtNaXhlZH0gYWN0dWFsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGV4cGVjdGVkXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcGVyYXRvclxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuZmFpbCA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICAvLyBDb21wbHkgd2l0aCBOb2RlJ3MgZmFpbChbbWVzc2FnZV0pIGludGVyZmFjZVxuXG4gICAgICAgIG1lc3NhZ2UgPSBhY3R1YWw7XG4gICAgICAgIGFjdHVhbCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCAnYXNzZXJ0LmZhaWwoKSc7XG4gICAgdGhyb3cgbmV3IGNoYWkuQXNzZXJ0aW9uRXJyb3IobWVzc2FnZSwge1xuICAgICAgICBhY3R1YWw6IGFjdHVhbFxuICAgICAgLCBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICwgb3BlcmF0b3I6IG9wZXJhdG9yXG4gICAgfSwgYXNzZXJ0LmZhaWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmlzT2sob2JqZWN0LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBpcyB0cnV0aHkuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNPaygnZXZlcnl0aGluZycsICdldmVyeXRoaW5nIGlzIG9rJyk7XG4gICAqICAgICBhc3NlcnQuaXNPayhmYWxzZSwgJ3RoaXMgd2lsbCBmYWlsJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzT2tcbiAgICogQGFsaWFzIG9rXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc09rID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzT2ssIHRydWUpLmlzLm9rO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmlzTm90T2sob2JqZWN0LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBpcyBmYWxzeS5cbiAgICpcbiAgICogICAgIGFzc2VydC5pc05vdE9rKCdldmVyeXRoaW5nJywgJ3RoaXMgd2lsbCBmYWlsJyk7XG4gICAqICAgICBhc3NlcnQuaXNOb3RPayhmYWxzZSwgJ3RoaXMgd2lsbCBwYXNzJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzTm90T2tcbiAgICogQGFsaWFzIG5vdE9rXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc05vdE9rID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzTm90T2ssIHRydWUpLmlzLm5vdC5vaztcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5lcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgbm9uLXN0cmljdCBlcXVhbGl0eSAoYD09YCkgb2YgYGFjdHVhbGAgYW5kIGBleHBlY3RlZGAuXG4gICAqXG4gICAqICAgICBhc3NlcnQuZXF1YWwoMywgJzMnLCAnPT0gY29lcmNlcyB2YWx1ZXMgdG8gc3RyaW5ncycpO1xuICAgKlxuICAgKiBAbmFtZSBlcXVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBhY3R1YWxcbiAgICogQHBhcmFtIHtNaXhlZH0gZXhwZWN0ZWRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmVxdWFsID0gZnVuY3Rpb24gKGFjdCwgZXhwLCBtc2cpIHtcbiAgICB2YXIgdGVzdCA9IG5ldyBBc3NlcnRpb24oYWN0LCBtc2csIGFzc2VydC5lcXVhbCwgdHJ1ZSk7XG5cbiAgICB0ZXN0LmFzc2VydChcbiAgICAgICAgZXhwID09IGZsYWcodGVzdCwgJ29iamVjdCcpXG4gICAgICAsICdleHBlY3RlZCAje3RoaXN9IHRvIGVxdWFsICN7ZXhwfSdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGVxdWFsICN7YWN0fSdcbiAgICAgICwgZXhwXG4gICAgICAsIGFjdFxuICAgICAgLCB0cnVlXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgbm9uLXN0cmljdCBpbmVxdWFsaXR5IChgIT1gKSBvZiBgYWN0dWFsYCBhbmQgYGV4cGVjdGVkYC5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3RFcXVhbCgzLCA0LCAndGhlc2UgbnVtYmVycyBhcmUgbm90IGVxdWFsJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdEVxdWFsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBleHBlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90RXF1YWwgPSBmdW5jdGlvbiAoYWN0LCBleHAsIG1zZykge1xuICAgIHZhciB0ZXN0ID0gbmV3IEFzc2VydGlvbihhY3QsIG1zZywgYXNzZXJ0Lm5vdEVxdWFsLCB0cnVlKTtcblxuICAgIHRlc3QuYXNzZXJ0KFxuICAgICAgICBleHAgIT0gZmxhZyh0ZXN0LCAnb2JqZWN0JylcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gbm90IGVxdWFsICN7ZXhwfSdcbiAgICAgICwgJ2V4cGVjdGVkICN7dGhpc30gdG8gZXF1YWwgI3thY3R9J1xuICAgICAgLCBleHBcbiAgICAgICwgYWN0XG4gICAgICAsIHRydWVcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyBzdHJpY3QgZXF1YWxpdHkgKGA9PT1gKSBvZiBgYWN0dWFsYCBhbmQgYGV4cGVjdGVkYC5cbiAgICpcbiAgICogICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCB0cnVlLCAndGhlc2UgYm9vbGVhbnMgYXJlIHN0cmljdGx5IGVxdWFsJyk7XG4gICAqXG4gICAqIEBuYW1lIHN0cmljdEVxdWFsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBleHBlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuc3RyaWN0RXF1YWwgPSBmdW5jdGlvbiAoYWN0LCBleHAsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oYWN0LCBtc2csIGFzc2VydC5zdHJpY3RFcXVhbCwgdHJ1ZSkudG8uZXF1YWwoZXhwKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgc3RyaWN0IGluZXF1YWxpdHkgKGAhPT1gKSBvZiBgYWN0dWFsYCBhbmQgYGV4cGVjdGVkYC5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3RTdHJpY3RFcXVhbCgzLCAnMycsICdubyBjb2VyY2lvbiBmb3Igc3RyaWN0IGVxdWFsaXR5Jyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdFN0cmljdEVxdWFsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBleHBlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90U3RyaWN0RXF1YWwgPSBmdW5jdGlvbiAoYWN0LCBleHAsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oYWN0LCBtc2csIGFzc2VydC5ub3RTdHJpY3RFcXVhbCwgdHJ1ZSkudG8ubm90LmVxdWFsKGV4cCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBhY3R1YWxgIGlzIGRlZXBseSBlcXVhbCB0byBgZXhwZWN0ZWRgLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmRlZXBFcXVhbCh7IHRlYTogJ2dyZWVuJyB9LCB7IHRlYTogJ2dyZWVuJyB9KTtcbiAgICpcbiAgICogQG5hbWUgZGVlcEVxdWFsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IGFjdHVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBleHBlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAYWxpYXMgZGVlcFN0cmljdEVxdWFsXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kZWVwRXF1YWwgPSBhc3NlcnQuZGVlcFN0cmljdEVxdWFsID0gZnVuY3Rpb24gKGFjdCwgZXhwLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGFjdCwgbXNnLCBhc3NlcnQuZGVlcEVxdWFsLCB0cnVlKS50by5lcWwoZXhwKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnQgdGhhdCBgYWN0dWFsYCBpcyBub3QgZGVlcGx5IGVxdWFsIHRvIGBleHBlY3RlZGAuXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90RGVlcEVxdWFsKHsgdGVhOiAnZ3JlZW4nIH0sIHsgdGVhOiAnamFzbWluZScgfSk7XG4gICAqXG4gICAqIEBuYW1lIG5vdERlZXBFcXVhbFxuICAgKiBAcGFyYW0ge01peGVkfSBhY3R1YWxcbiAgICogQHBhcmFtIHtNaXhlZH0gZXhwZWN0ZWRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdERlZXBFcXVhbCA9IGZ1bmN0aW9uIChhY3QsIGV4cCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihhY3QsIG1zZywgYXNzZXJ0Lm5vdERlZXBFcXVhbCwgdHJ1ZSkudG8ubm90LmVxbChleHApO1xuICB9O1xuXG4gICAvKipcbiAgICogIyMjIC5pc0Fib3ZlKHZhbHVlVG9DaGVjaywgdmFsdWVUb0JlQWJvdmUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyBgdmFsdWVUb0NoZWNrYCBpcyBzdHJpY3RseSBncmVhdGVyIHRoYW4gKD4pIGB2YWx1ZVRvQmVBYm92ZWAuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNBYm92ZSg1LCAyLCAnNSBpcyBzdHJpY3RseSBncmVhdGVyIHRoYW4gMicpO1xuICAgKlxuICAgKiBAbmFtZSBpc0Fib3ZlXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlVG9DaGVja1xuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVRvQmVBYm92ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNBYm92ZSA9IGZ1bmN0aW9uICh2YWwsIGFidiwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzQWJvdmUsIHRydWUpLnRvLmJlLmFib3ZlKGFidik7XG4gIH07XG5cbiAgIC8qKlxuICAgKiAjIyMgLmlzQXRMZWFzdCh2YWx1ZVRvQ2hlY2ssIHZhbHVlVG9CZUF0TGVhc3QsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyBgdmFsdWVUb0NoZWNrYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gKD49KSBgdmFsdWVUb0JlQXRMZWFzdGAuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNBdExlYXN0KDUsIDIsICc1IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMicpO1xuICAgKiAgICAgYXNzZXJ0LmlzQXRMZWFzdCgzLCAzLCAnMyBpcyBncmVhdGVyIG9yIGVxdWFsIHRvIDMnKTtcbiAgICpcbiAgICogQG5hbWUgaXNBdExlYXN0XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlVG9DaGVja1xuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVRvQmVBdExlYXN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc0F0TGVhc3QgPSBmdW5jdGlvbiAodmFsLCBhdGxzdCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzQXRMZWFzdCwgdHJ1ZSkudG8uYmUubGVhc3QoYXRsc3QpO1xuICB9O1xuXG4gICAvKipcbiAgICogIyMjIC5pc0JlbG93KHZhbHVlVG9DaGVjaywgdmFsdWVUb0JlQmVsb3csIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyBgdmFsdWVUb0NoZWNrYCBpcyBzdHJpY3RseSBsZXNzIHRoYW4gKDwpIGB2YWx1ZVRvQmVCZWxvd2AuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNCZWxvdygzLCA2LCAnMyBpcyBzdHJpY3RseSBsZXNzIHRoYW4gNicpO1xuICAgKlxuICAgKiBAbmFtZSBpc0JlbG93XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlVG9DaGVja1xuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVRvQmVCZWxvd1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNCZWxvdyA9IGZ1bmN0aW9uICh2YWwsIGJsdywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzQmVsb3csIHRydWUpLnRvLmJlLmJlbG93KGJsdyk7XG4gIH07XG5cbiAgIC8qKlxuICAgKiAjIyMgLmlzQXRNb3N0KHZhbHVlVG9DaGVjaywgdmFsdWVUb0JlQXRNb3N0LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgYHZhbHVlVG9DaGVja2AgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICg8PSkgYHZhbHVlVG9CZUF0TW9zdGAuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNBdE1vc3QoMywgNiwgJzMgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDYnKTtcbiAgICogICAgIGFzc2VydC5pc0F0TW9zdCg0LCA0LCAnNCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gNCcpO1xuICAgKlxuICAgKiBAbmFtZSBpc0F0TW9zdFxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVRvQ2hlY2tcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVUb0JlQXRNb3N0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc0F0TW9zdCA9IGZ1bmN0aW9uICh2YWwsIGF0bXN0LCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNBdE1vc3QsIHRydWUpLnRvLmJlLm1vc3QoYXRtc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmlzVHJ1ZSh2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBpcyB0cnVlLlxuICAgKlxuICAgKiAgICAgdmFyIHRlYVNlcnZlZCA9IHRydWU7XG4gICAqICAgICBhc3NlcnQuaXNUcnVlKHRlYVNlcnZlZCwgJ3RoZSB0ZWEgaGFzIGJlZW4gc2VydmVkJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzVHJ1ZVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNUcnVlID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzVHJ1ZSwgdHJ1ZSkuaXNbJ3RydWUnXTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdFRydWUodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgbm90IHRydWUuXG4gICAqXG4gICAqICAgICB2YXIgdGVhID0gJ3Rhc3R5IGNoYWknO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90VHJ1ZSh0ZWEsICdncmVhdCwgdGltZSBmb3IgdGVhIScpO1xuICAgKlxuICAgKiBAbmFtZSBpc05vdFRydWVcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTm90VHJ1ZSA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc05vdFRydWUsIHRydWUpLnRvLm5vdC5lcXVhbCh0cnVlKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc0ZhbHNlKHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgIGlzIGZhbHNlLlxuICAgKlxuICAgKiAgICAgdmFyIHRlYVNlcnZlZCA9IGZhbHNlO1xuICAgKiAgICAgYXNzZXJ0LmlzRmFsc2UodGVhU2VydmVkLCAnbm8gdGVhIHlldD8gaG1tLi4uJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzRmFsc2VcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzRmFsc2UgPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNGYWxzZSwgdHJ1ZSkuaXNbJ2ZhbHNlJ107XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOb3RGYWxzZSh2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBpcyBub3QgZmFsc2UuXG4gICAqXG4gICAqICAgICB2YXIgdGVhID0gJ3Rhc3R5IGNoYWknO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90RmFsc2UodGVhLCAnZ3JlYXQsIHRpbWUgZm9yIHRlYSEnKTtcbiAgICpcbiAgICogQG5hbWUgaXNOb3RGYWxzZVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNOb3RGYWxzZSA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc05vdEZhbHNlLCB0cnVlKS50by5ub3QuZXF1YWwoZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmlzTnVsbCh2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBpcyBudWxsLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzTnVsbChlcnIsICd0aGVyZSB3YXMgbm8gZXJyb3InKTtcbiAgICpcbiAgICogQG5hbWUgaXNOdWxsXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc051bGwgPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNOdWxsLCB0cnVlKS50by5lcXVhbChudWxsKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdE51bGwodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgbm90IG51bGwuXG4gICAqXG4gICAqICAgICB2YXIgdGVhID0gJ3Rhc3R5IGNoYWknO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90TnVsbCh0ZWEsICdncmVhdCwgdGltZSBmb3IgdGVhIScpO1xuICAgKlxuICAgKiBAbmFtZSBpc05vdE51bGxcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTm90TnVsbCA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc05vdE51bGwsIHRydWUpLnRvLm5vdC5lcXVhbChudWxsKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05hTlxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdmFsdWUgaXMgTmFOLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzTmFOKE5hTiwgJ05hTiBpcyBOYU4nKTtcbiAgICpcbiAgICogQG5hbWUgaXNOYU5cbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTmFOID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzTmFOLCB0cnVlKS50by5iZS5OYU47XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOb3ROYU5cbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHZhbHVlIGlzIG5vdCBOYU4uXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNOb3ROYU4oNCwgJzQgaXMgbm90IE5hTicpO1xuICAgKlxuICAgKiBAbmFtZSBpc05vdE5hTlxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgYXNzZXJ0LmlzTm90TmFOID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzTm90TmFOLCB0cnVlKS5ub3QudG8uYmUuTmFOO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmV4aXN0c1xuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBuZWl0aGVyIGBudWxsYCBub3IgYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqICAgICB2YXIgZm9vID0gJ2hpJztcbiAgICpcbiAgICogICAgIGFzc2VydC5leGlzdHMoZm9vLCAnZm9vIGlzIG5laXRoZXIgYG51bGxgIG5vciBgdW5kZWZpbmVkYCcpO1xuICAgKlxuICAgKiBAbmFtZSBleGlzdHNcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmV4aXN0cyA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5leGlzdHMsIHRydWUpLnRvLmV4aXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm5vdEV4aXN0c1xuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBpcyBlaXRoZXIgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiAgICAgdmFyIGJhciA9IG51bGxcbiAgICogICAgICAgLCBiYXo7XG4gICAqXG4gICAqICAgICBhc3NlcnQubm90RXhpc3RzKGJhcik7XG4gICAqICAgICBhc3NlcnQubm90RXhpc3RzKGJheiwgJ2JheiBpcyBlaXRoZXIgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICpcbiAgICogQG5hbWUgbm90RXhpc3RzXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3RFeGlzdHMgPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQubm90RXhpc3RzLCB0cnVlKS50by5ub3QuZXhpc3Q7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNVbmRlZmluZWQodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqICAgICB2YXIgdGVhO1xuICAgKiAgICAgYXNzZXJ0LmlzVW5kZWZpbmVkKHRlYSwgJ25vIHRlYSBkZWZpbmVkJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzVW5kZWZpbmVkXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc1VuZGVmaW5lZCwgdHJ1ZSkudG8uZXF1YWwodW5kZWZpbmVkKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc0RlZmluZWQodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgbm90IGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiAgICAgdmFyIHRlYSA9ICdjdXAgb2YgY2hhaSc7XG4gICAqICAgICBhc3NlcnQuaXNEZWZpbmVkKHRlYSwgJ3RlYSBoYXMgYmVlbiBkZWZpbmVkJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzRGVmaW5lZFxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNEZWZpbmVkID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzRGVmaW5lZCwgdHJ1ZSkudG8ubm90LmVxdWFsKHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNGdW5jdGlvbih2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLlxuICAgKlxuICAgKiAgICAgZnVuY3Rpb24gc2VydmVUZWEoKSB7IHJldHVybiAnY3VwIG9mIHRlYSc7IH07XG4gICAqICAgICBhc3NlcnQuaXNGdW5jdGlvbihzZXJ2ZVRlYSwgJ2dyZWF0LCB3ZSBjYW4gaGF2ZSB0ZWEgbm93Jyk7XG4gICAqXG4gICAqIEBuYW1lIGlzRnVuY3Rpb25cbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzRnVuY3Rpb24gPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNGdW5jdGlvbiwgdHJ1ZSkudG8uYmUuYSgnZnVuY3Rpb24nKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdEZ1bmN0aW9uKHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgIGlzIF9ub3RfIGEgZnVuY3Rpb24uXG4gICAqXG4gICAqICAgICB2YXIgc2VydmVUZWEgPSBbICdoZWF0JywgJ3BvdXInLCAnc2lwJyBdO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90RnVuY3Rpb24oc2VydmVUZWEsICdncmVhdCwgd2UgaGF2ZSBsaXN0ZWQgdGhlIHN0ZXBzJyk7XG4gICAqXG4gICAqIEBuYW1lIGlzTm90RnVuY3Rpb25cbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTm90RnVuY3Rpb24gPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNOb3RGdW5jdGlvbiwgdHJ1ZSkudG8ubm90LmJlLmEoJ2Z1bmN0aW9uJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNPYmplY3QodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYW4gb2JqZWN0IG9mIHR5cGUgJ09iamVjdCcgKGFzIHJldmVhbGVkIGJ5IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYCkuXG4gICAqIF9UaGUgYXNzZXJ0aW9uIGRvZXMgbm90IG1hdGNoIHN1YmNsYXNzZWQgb2JqZWN0cy5fXG4gICAqXG4gICAqICAgICB2YXIgc2VsZWN0aW9uID0geyBuYW1lOiAnQ2hhaScsIHNlcnZlOiAnd2l0aCBzcGljZXMnIH07XG4gICAqICAgICBhc3NlcnQuaXNPYmplY3Qoc2VsZWN0aW9uLCAndGVhIHNlbGVjdGlvbiBpcyBhbiBvYmplY3QnKTtcbiAgICpcbiAgICogQG5hbWUgaXNPYmplY3RcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzT2JqZWN0ID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzT2JqZWN0LCB0cnVlKS50by5iZS5hKCdvYmplY3QnKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdE9iamVjdCh2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBpcyBfbm90XyBhbiBvYmplY3Qgb2YgdHlwZSAnT2JqZWN0JyAoYXMgcmV2ZWFsZWQgYnkgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgKS5cbiAgICpcbiAgICogICAgIHZhciBzZWxlY3Rpb24gPSAnY2hhaSdcbiAgICogICAgIGFzc2VydC5pc05vdE9iamVjdChzZWxlY3Rpb24sICd0ZWEgc2VsZWN0aW9uIGlzIG5vdCBhbiBvYmplY3QnKTtcbiAgICogICAgIGFzc2VydC5pc05vdE9iamVjdChudWxsLCAnbnVsbCBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gICAqXG4gICAqIEBuYW1lIGlzTm90T2JqZWN0XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc05vdE9iamVjdCA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc05vdE9iamVjdCwgdHJ1ZSkudG8ubm90LmJlLmEoJ29iamVjdCcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmlzQXJyYXkodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYW4gYXJyYXkuXG4gICAqXG4gICAqICAgICB2YXIgbWVudSA9IFsgJ2dyZWVuJywgJ2NoYWknLCAnb29sb25nJyBdO1xuICAgKiAgICAgYXNzZXJ0LmlzQXJyYXkobWVudSwgJ3doYXQga2luZCBvZiB0ZWEgZG8gd2Ugd2FudD8nKTtcbiAgICpcbiAgICogQG5hbWUgaXNBcnJheVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNBcnJheSA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc0FycmF5LCB0cnVlKS50by5iZS5hbignYXJyYXknKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdEFycmF5KHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgIGlzIF9ub3RfIGFuIGFycmF5LlxuICAgKlxuICAgKiAgICAgdmFyIG1lbnUgPSAnZ3JlZW58Y2hhaXxvb2xvbmcnO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90QXJyYXkobWVudSwgJ3doYXQga2luZCBvZiB0ZWEgZG8gd2Ugd2FudD8nKTtcbiAgICpcbiAgICogQG5hbWUgaXNOb3RBcnJheVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNOb3RBcnJheSA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc05vdEFycmF5LCB0cnVlKS50by5ub3QuYmUuYW4oJ2FycmF5Jyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNTdHJpbmcodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYSBzdHJpbmcuXG4gICAqXG4gICAqICAgICB2YXIgdGVhT3JkZXIgPSAnY2hhaSc7XG4gICAqICAgICBhc3NlcnQuaXNTdHJpbmcodGVhT3JkZXIsICdvcmRlciBwbGFjZWQnKTtcbiAgICpcbiAgICogQG5hbWUgaXNTdHJpbmdcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzU3RyaW5nID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzU3RyaW5nLCB0cnVlKS50by5iZS5hKCdzdHJpbmcnKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdFN0cmluZyh2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBpcyBfbm90XyBhIHN0cmluZy5cbiAgICpcbiAgICogICAgIHZhciB0ZWFPcmRlciA9IDQ7XG4gICAqICAgICBhc3NlcnQuaXNOb3RTdHJpbmcodGVhT3JkZXIsICdvcmRlciBwbGFjZWQnKTtcbiAgICpcbiAgICogQG5hbWUgaXNOb3RTdHJpbmdcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTm90U3RyaW5nID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzTm90U3RyaW5nLCB0cnVlKS50by5ub3QuYmUuYSgnc3RyaW5nJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOdW1iZXIodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYSBudW1iZXIuXG4gICAqXG4gICAqICAgICB2YXIgY3VwcyA9IDI7XG4gICAqICAgICBhc3NlcnQuaXNOdW1iZXIoY3VwcywgJ2hvdyBtYW55IGN1cHMnKTtcbiAgICpcbiAgICogQG5hbWUgaXNOdW1iZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc051bWJlciA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc051bWJlciwgdHJ1ZSkudG8uYmUuYSgnbnVtYmVyJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOb3ROdW1iZXIodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgX25vdF8gYSBudW1iZXIuXG4gICAqXG4gICAqICAgICB2YXIgY3VwcyA9ICcyIGN1cHMgcGxlYXNlJztcbiAgICogICAgIGFzc2VydC5pc05vdE51bWJlcihjdXBzLCAnaG93IG1hbnkgY3VwcycpO1xuICAgKlxuICAgKiBAbmFtZSBpc05vdE51bWJlclxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNOb3ROdW1iZXIgPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNOb3ROdW1iZXIsIHRydWUpLnRvLm5vdC5iZS5hKCdudW1iZXInKTtcbiAgfTtcblxuICAgLyoqXG4gICAqICMjIyAuaXNGaW5pdGUodmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLiBVbmxpa2UgYC5pc051bWJlcmAsIHRoaXMgd2lsbCBmYWlsIGZvciBgTmFOYCBhbmQgYEluZmluaXR5YC5cbiAgICpcbiAgICogICAgIHZhciBjdXBzID0gMjtcbiAgICogICAgIGFzc2VydC5pc0Zpbml0ZShjdXBzLCAnaG93IG1hbnkgY3VwcycpO1xuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzRmluaXRlKE5hTik7IC8vIHRocm93c1xuICAgKlxuICAgKiBAbmFtZSBpc0Zpbml0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzRmluaXRlID0gZnVuY3Rpb24gKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzRmluaXRlLCB0cnVlKS50by5iZS5maW5pdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNCb29sZWFuKHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgIGlzIGEgYm9vbGVhbi5cbiAgICpcbiAgICogICAgIHZhciB0ZWFSZWFkeSA9IHRydWVcbiAgICogICAgICAgLCB0ZWFTZXJ2ZWQgPSBmYWxzZTtcbiAgICpcbiAgICogICAgIGFzc2VydC5pc0Jvb2xlYW4odGVhUmVhZHksICdpcyB0aGUgdGVhIHJlYWR5Jyk7XG4gICAqICAgICBhc3NlcnQuaXNCb29sZWFuKHRlYVNlcnZlZCwgJ2hhcyB0ZWEgYmVlbiBzZXJ2ZWQnKTtcbiAgICpcbiAgICogQG5hbWUgaXNCb29sZWFuXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pc0Jvb2xlYW4gPSBmdW5jdGlvbiAodmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQuaXNCb29sZWFuLCB0cnVlKS50by5iZS5hKCdib29sZWFuJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOb3RCb29sZWFuKHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgIGlzIF9ub3RfIGEgYm9vbGVhbi5cbiAgICpcbiAgICogICAgIHZhciB0ZWFSZWFkeSA9ICd5ZXAnXG4gICAqICAgICAgICwgdGVhU2VydmVkID0gJ25vcGUnO1xuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzTm90Qm9vbGVhbih0ZWFSZWFkeSwgJ2lzIHRoZSB0ZWEgcmVhZHknKTtcbiAgICogICAgIGFzc2VydC5pc05vdEJvb2xlYW4odGVhU2VydmVkLCAnaGFzIHRlYSBiZWVuIHNlcnZlZCcpO1xuICAgKlxuICAgKiBAbmFtZSBpc05vdEJvb2xlYW5cbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTm90Qm9vbGVhbiA9IGZ1bmN0aW9uICh2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc05vdEJvb2xlYW4sIHRydWUpLnRvLm5vdC5iZS5hKCdib29sZWFuJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAudHlwZU9mKHZhbHVlLCBuYW1lLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgJ3MgdHlwZSBpcyBgbmFtZWAsIGFzIGRldGVybWluZWQgYnlcbiAgICogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LnR5cGVPZih7IHRlYTogJ2NoYWknIH0sICdvYmplY3QnLCAnd2UgaGF2ZSBhbiBvYmplY3QnKTtcbiAgICogICAgIGFzc2VydC50eXBlT2YoWydjaGFpJywgJ2phc21pbmUnXSwgJ2FycmF5JywgJ3dlIGhhdmUgYW4gYXJyYXknKTtcbiAgICogICAgIGFzc2VydC50eXBlT2YoJ3RlYScsICdzdHJpbmcnLCAnd2UgaGF2ZSBhIHN0cmluZycpO1xuICAgKiAgICAgYXNzZXJ0LnR5cGVPZigvdGVhLywgJ3JlZ2V4cCcsICd3ZSBoYXZlIGEgcmVndWxhciBleHByZXNzaW9uJyk7XG4gICAqICAgICBhc3NlcnQudHlwZU9mKG51bGwsICdudWxsJywgJ3dlIGhhdmUgYSBudWxsJyk7XG4gICAqICAgICBhc3NlcnQudHlwZU9mKHVuZGVmaW5lZCwgJ3VuZGVmaW5lZCcsICd3ZSBoYXZlIGFuIHVuZGVmaW5lZCcpO1xuICAgKlxuICAgKiBAbmFtZSB0eXBlT2ZcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LnR5cGVPZiA9IGZ1bmN0aW9uICh2YWwsIHR5cGUsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC50eXBlT2YsIHRydWUpLnRvLmJlLmEodHlwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90VHlwZU9mKHZhbHVlLCBuYW1lLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgJ3MgdHlwZSBpcyBfbm90XyBgbmFtZWAsIGFzIGRldGVybWluZWQgYnlcbiAgICogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdFR5cGVPZigndGVhJywgJ251bWJlcicsICdzdHJpbmdzIGFyZSBub3QgbnVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBub3RUeXBlT2ZcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVvZiBuYW1lXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3RUeXBlT2YgPSBmdW5jdGlvbiAodmFsLCB0eXBlLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHZhbCwgbXNnLCBhc3NlcnQubm90VHlwZU9mLCB0cnVlKS50by5ub3QuYmUuYSh0eXBlKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pbnN0YW5jZU9mKG9iamVjdCwgY29uc3RydWN0b3IsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGB2YWx1ZWAgaXMgYW4gaW5zdGFuY2Ugb2YgYGNvbnN0cnVjdG9yYC5cbiAgICpcbiAgICogICAgIHZhciBUZWEgPSBmdW5jdGlvbiAobmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lOyB9XG4gICAqICAgICAgICwgY2hhaSA9IG5ldyBUZWEoJ2NoYWknKTtcbiAgICpcbiAgICogICAgIGFzc2VydC5pbnN0YW5jZU9mKGNoYWksIFRlYSwgJ2NoYWkgaXMgYW4gaW5zdGFuY2Ugb2YgdGVhJyk7XG4gICAqXG4gICAqIEBuYW1lIGluc3RhbmNlT2ZcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgKiBAcGFyYW0ge0NvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaW5zdGFuY2VPZiA9IGZ1bmN0aW9uICh2YWwsIHR5cGUsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pbnN0YW5jZU9mLCB0cnVlKS50by5iZS5pbnN0YW5jZU9mKHR5cGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm5vdEluc3RhbmNlT2Yob2JqZWN0LCBjb25zdHJ1Y3RvciwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIGB2YWx1ZWAgaXMgbm90IGFuIGluc3RhbmNlIG9mIGBjb25zdHJ1Y3RvcmAuXG4gICAqXG4gICAqICAgICB2YXIgVGVhID0gZnVuY3Rpb24gKG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZTsgfVxuICAgKiAgICAgICAsIGNoYWkgPSBuZXcgU3RyaW5nKCdjaGFpJyk7XG4gICAqXG4gICAqICAgICBhc3NlcnQubm90SW5zdGFuY2VPZihjaGFpLCBUZWEsICdjaGFpIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiB0ZWEnKTtcbiAgICpcbiAgICogQG5hbWUgbm90SW5zdGFuY2VPZlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3J9IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3RJbnN0YW5jZU9mID0gZnVuY3Rpb24gKHZhbCwgdHlwZSwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0Lm5vdEluc3RhbmNlT2YsIHRydWUpXG4gICAgICAudG8ubm90LmJlLmluc3RhbmNlT2YodHlwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaW5jbHVkZShoYXlzdGFjaywgbmVlZGxlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgaGF5c3RhY2tgIGluY2x1ZGVzIGBuZWVkbGVgLiBDYW4gYmUgdXNlZCB0byBhc3NlcnQgdGhlXG4gICAqIGluY2x1c2lvbiBvZiBhIHZhbHVlIGluIGFuIGFycmF5LCBhIHN1YnN0cmluZyBpbiBhIHN0cmluZywgb3IgYSBzdWJzZXQgb2ZcbiAgICogcHJvcGVydGllcyBpbiBhbiBvYmplY3QuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaW5jbHVkZShbMSwyLDNdLCAyLCAnYXJyYXkgY29udGFpbnMgdmFsdWUnKTtcbiAgICogICAgIGFzc2VydC5pbmNsdWRlKCdmb29iYXInLCAnZm9vJywgJ3N0cmluZyBjb250YWlucyBzdWJzdHJpbmcnKTtcbiAgICogICAgIGFzc2VydC5pbmNsdWRlKHsgZm9vOiAnYmFyJywgaGVsbG86ICd1bml2ZXJzZScgfSwgeyBmb286ICdiYXInIH0sICdvYmplY3QgY29udGFpbnMgcHJvcGVydHknKTtcbiAgICpcbiAgICogU3RyaWN0IGVxdWFsaXR5ICg9PT0pIGlzIHVzZWQuIFdoZW4gYXNzZXJ0aW5nIHRoZSBpbmNsdXNpb24gb2YgYSB2YWx1ZSBpblxuICAgKiBhbiBhcnJheSwgdGhlIGFycmF5IGlzIHNlYXJjaGVkIGZvciBhbiBlbGVtZW50IHRoYXQncyBzdHJpY3RseSBlcXVhbCB0byB0aGVcbiAgICogZ2l2ZW4gdmFsdWUuIFdoZW4gYXNzZXJ0aW5nIGEgc3Vic2V0IG9mIHByb3BlcnRpZXMgaW4gYW4gb2JqZWN0LCB0aGUgb2JqZWN0XG4gICAqIGlzIHNlYXJjaGVkIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkga2V5cywgY2hlY2tpbmcgdGhhdCBlYWNoIG9uZSBpcyBwcmVzZW50XG4gICAqIGFuZCBzdHJpY3RseSBlcXVhbCB0byB0aGUgZ2l2ZW4gcHJvcGVydHkgdmFsdWUuIEZvciBpbnN0YW5jZTpcbiAgICpcbiAgICogICAgIHZhciBvYmoxID0ge2E6IDF9XG4gICAqICAgICAgICwgb2JqMiA9IHtiOiAyfTtcbiAgICogICAgIGFzc2VydC5pbmNsdWRlKFtvYmoxLCBvYmoyXSwgb2JqMSk7XG4gICAqICAgICBhc3NlcnQuaW5jbHVkZSh7Zm9vOiBvYmoxLCBiYXI6IG9iajJ9LCB7Zm9vOiBvYmoxfSk7XG4gICAqICAgICBhc3NlcnQuaW5jbHVkZSh7Zm9vOiBvYmoxLCBiYXI6IG9iajJ9LCB7Zm9vOiBvYmoxLCBiYXI6IG9iajJ9KTtcbiAgICpcbiAgICogQG5hbWUgaW5jbHVkZVxuICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gaGF5c3RhY2tcbiAgICogQHBhcmFtIHtNaXhlZH0gbmVlZGxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pbmNsdWRlID0gZnVuY3Rpb24gKGV4cCwgaW5jLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGV4cCwgbXNnLCBhc3NlcnQuaW5jbHVkZSwgdHJ1ZSkuaW5jbHVkZShpbmMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm5vdEluY2x1ZGUoaGF5c3RhY2ssIG5lZWRsZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYGhheXN0YWNrYCBkb2VzIG5vdCBpbmNsdWRlIGBuZWVkbGVgLiBDYW4gYmUgdXNlZCB0byBhc3NlcnRcbiAgICogdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBpbiBhbiBhcnJheSwgYSBzdWJzdHJpbmcgaW4gYSBzdHJpbmcsIG9yIGEgc3Vic2V0IG9mXG4gICAqIHByb3BlcnRpZXMgaW4gYW4gb2JqZWN0LlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdEluY2x1ZGUoWzEsMiwzXSwgNCwgXCJhcnJheSBkb2Vzbid0IGNvbnRhaW4gdmFsdWVcIik7XG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZSgnZm9vYmFyJywgJ2JheicsIFwic3RyaW5nIGRvZXNuJ3QgY29udGFpbiBzdWJzdHJpbmdcIik7XG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZSh7IGZvbzogJ2JhcicsIGhlbGxvOiAndW5pdmVyc2UnIH0sIHsgZm9vOiAnYmF6JyB9LCAnb2JqZWN0IGRvZXNuJ3QgY29udGFpbiBwcm9wZXJ0eScpO1xuICAgKlxuICAgKiBTdHJpY3QgZXF1YWxpdHkgKD09PSkgaXMgdXNlZC4gV2hlbiBhc3NlcnRpbmcgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBpbiBhblxuICAgKiBhcnJheSwgdGhlIGFycmF5IGlzIHNlYXJjaGVkIHRvIGNvbmZpcm0gdGhlIGFic2VuY2Ugb2YgYW4gZWxlbWVudCB0aGF0J3NcbiAgICogc3RyaWN0bHkgZXF1YWwgdG8gdGhlIGdpdmVuIHZhbHVlLiBXaGVuIGFzc2VydGluZyBhIHN1YnNldCBvZiBwcm9wZXJ0aWVzIGluXG4gICAqIGFuIG9iamVjdCwgdGhlIG9iamVjdCBpcyBzZWFyY2hlZCB0byBjb25maXJtIHRoYXQgYXQgbGVhc3Qgb25lIG9mIHRoZSBnaXZlblxuICAgKiBwcm9wZXJ0eSBrZXlzIGlzIGVpdGhlciBub3QgcHJlc2VudCBvciBub3Qgc3RyaWN0bHkgZXF1YWwgdG8gdGhlIGdpdmVuXG4gICAqIHByb3BlcnR5IHZhbHVlLiBGb3IgaW5zdGFuY2U6XG4gICAqXG4gICAqICAgICB2YXIgb2JqMSA9IHthOiAxfVxuICAgKiAgICAgICAsIG9iajIgPSB7YjogMn07XG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZShbb2JqMSwgb2JqMl0sIHthOiAxfSk7XG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZSh7Zm9vOiBvYmoxLCBiYXI6IG9iajJ9LCB7Zm9vOiB7YTogMX19KTtcbiAgICogICAgIGFzc2VydC5ub3RJbmNsdWRlKHtmb286IG9iajEsIGJhcjogb2JqMn0sIHtmb286IG9iajEsIGJhcjoge2I6IDJ9fSk7XG4gICAqXG4gICAqIEBuYW1lIG5vdEluY2x1ZGVcbiAgICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IGhheXN0YWNrXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG5lZWRsZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90SW5jbHVkZSA9IGZ1bmN0aW9uIChleHAsIGluYywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihleHAsIG1zZywgYXNzZXJ0Lm5vdEluY2x1ZGUsIHRydWUpLm5vdC5pbmNsdWRlKGluYyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuZGVlcEluY2x1ZGUoaGF5c3RhY2ssIG5lZWRsZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYGhheXN0YWNrYCBpbmNsdWRlcyBgbmVlZGxlYC4gQ2FuIGJlIHVzZWQgdG8gYXNzZXJ0IHRoZVxuICAgKiBpbmNsdXNpb24gb2YgYSB2YWx1ZSBpbiBhbiBhcnJheSBvciBhIHN1YnNldCBvZiBwcm9wZXJ0aWVzIGluIGFuIG9iamVjdC5cbiAgICogRGVlcCBlcXVhbGl0eSBpcyB1c2VkLlxuICAgKlxuICAgKiAgICAgdmFyIG9iajEgPSB7YTogMX1cbiAgICogICAgICAgLCBvYmoyID0ge2I6IDJ9O1xuICAgKiAgICAgYXNzZXJ0LmRlZXBJbmNsdWRlKFtvYmoxLCBvYmoyXSwge2E6IDF9KTtcbiAgICogICAgIGFzc2VydC5kZWVwSW5jbHVkZSh7Zm9vOiBvYmoxLCBiYXI6IG9iajJ9LCB7Zm9vOiB7YTogMX19KTtcbiAgICogICAgIGFzc2VydC5kZWVwSW5jbHVkZSh7Zm9vOiBvYmoxLCBiYXI6IG9iajJ9LCB7Zm9vOiB7YTogMX0sIGJhcjoge2I6IDJ9fSk7XG4gICAqXG4gICAqIEBuYW1lIGRlZXBJbmNsdWRlXG4gICAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBoYXlzdGFja1xuICAgKiBAcGFyYW0ge01peGVkfSBuZWVkbGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRlZXBJbmNsdWRlID0gZnVuY3Rpb24gKGV4cCwgaW5jLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGV4cCwgbXNnLCBhc3NlcnQuZGVlcEluY2x1ZGUsIHRydWUpLmRlZXAuaW5jbHVkZShpbmMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm5vdERlZXBJbmNsdWRlKGhheXN0YWNrLCBuZWVkbGUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBoYXlzdGFja2AgZG9lcyBub3QgaW5jbHVkZSBgbmVlZGxlYC4gQ2FuIGJlIHVzZWQgdG8gYXNzZXJ0XG4gICAqIHRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgaW4gYW4gYXJyYXkgb3IgYSBzdWJzZXQgb2YgcHJvcGVydGllcyBpbiBhbiBvYmplY3QuXG4gICAqIERlZXAgZXF1YWxpdHkgaXMgdXNlZC5cbiAgICpcbiAgICogICAgIHZhciBvYmoxID0ge2E6IDF9XG4gICAqICAgICAgICwgb2JqMiA9IHtiOiAyfTtcbiAgICogICAgIGFzc2VydC5ub3REZWVwSW5jbHVkZShbb2JqMSwgb2JqMl0sIHthOiA5fSk7XG4gICAqICAgICBhc3NlcnQubm90RGVlcEluY2x1ZGUoe2Zvbzogb2JqMSwgYmFyOiBvYmoyfSwge2Zvbzoge2E6IDl9fSk7XG4gICAqICAgICBhc3NlcnQubm90RGVlcEluY2x1ZGUoe2Zvbzogb2JqMSwgYmFyOiBvYmoyfSwge2Zvbzoge2E6IDF9LCBiYXI6IHtiOiA5fX0pO1xuICAgKlxuICAgKiBAbmFtZSBub3REZWVwSW5jbHVkZVxuICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gaGF5c3RhY2tcbiAgICogQHBhcmFtIHtNaXhlZH0gbmVlZGxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3REZWVwSW5jbHVkZSA9IGZ1bmN0aW9uIChleHAsIGluYywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihleHAsIG1zZywgYXNzZXJ0Lm5vdERlZXBJbmNsdWRlLCB0cnVlKS5ub3QuZGVlcC5pbmNsdWRlKGluYyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubmVzdGVkSW5jbHVkZShoYXlzdGFjaywgbmVlZGxlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCAnaGF5c3RhY2snIGluY2x1ZGVzICduZWVkbGUnLlxuICAgKiBDYW4gYmUgdXNlZCB0byBhc3NlcnQgdGhlIGluY2x1c2lvbiBvZiBhIHN1YnNldCBvZiBwcm9wZXJ0aWVzIGluIGFuXG4gICAqIG9iamVjdC5cbiAgICogRW5hYmxlcyB0aGUgdXNlIG9mIGRvdC0gYW5kIGJyYWNrZXQtbm90YXRpb24gZm9yIHJlZmVyZW5jaW5nIG5lc3RlZFxuICAgKiBwcm9wZXJ0aWVzLlxuICAgKiAnW10nIGFuZCAnLicgaW4gcHJvcGVydHkgbmFtZXMgY2FuIGJlIGVzY2FwZWQgdXNpbmcgZG91YmxlIGJhY2tzbGFzaGVzLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5lc3RlZEluY2x1ZGUoeycuYSc6IHsnYic6ICd4J319LCB7J1xcXFwuYS5bYl0nOiAneCd9KTtcbiAgICogICAgIGFzc2VydC5uZXN0ZWRJbmNsdWRlKHsnYSc6IHsnW2JdJzogJ3gnfX0sIHsnYS5cXFxcW2JcXFxcXSc6ICd4J30pO1xuICAgKlxuICAgKiBAbmFtZSBuZXN0ZWRJbmNsdWRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBoYXlzdGFja1xuICAgKiBAcGFyYW0ge09iamVjdH0gbmVlZGxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5uZXN0ZWRJbmNsdWRlID0gZnVuY3Rpb24gKGV4cCwgaW5jLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGV4cCwgbXNnLCBhc3NlcnQubmVzdGVkSW5jbHVkZSwgdHJ1ZSkubmVzdGVkLmluY2x1ZGUoaW5jKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3ROZXN0ZWRJbmNsdWRlKGhheXN0YWNrLCBuZWVkbGUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0ICdoYXlzdGFjaycgZG9lcyBub3QgaW5jbHVkZSAnbmVlZGxlJy5cbiAgICogQ2FuIGJlIHVzZWQgdG8gYXNzZXJ0IHRoZSBhYnNlbmNlIG9mIGEgc3Vic2V0IG9mIHByb3BlcnRpZXMgaW4gYW5cbiAgICogb2JqZWN0LlxuICAgKiBFbmFibGVzIHRoZSB1c2Ugb2YgZG90LSBhbmQgYnJhY2tldC1ub3RhdGlvbiBmb3IgcmVmZXJlbmNpbmcgbmVzdGVkXG4gICAqIHByb3BlcnRpZXMuXG4gICAqICdbXScgYW5kICcuJyBpbiBwcm9wZXJ0eSBuYW1lcyBjYW4gYmUgZXNjYXBlZCB1c2luZyBkb3VibGUgYmFja3NsYXNoZXMuXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90TmVzdGVkSW5jbHVkZSh7Jy5hJzogeydiJzogJ3gnfX0sIHsnXFxcXC5hLmInOiAneSd9KTtcbiAgICogICAgIGFzc2VydC5ub3ROZXN0ZWRJbmNsdWRlKHsnYSc6IHsnW2JdJzogJ3gnfX0sIHsnYS5cXFxcW2JcXFxcXSc6ICd5J30pO1xuICAgKlxuICAgKiBAbmFtZSBub3ROZXN0ZWRJbmNsdWRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBoYXlzdGFja1xuICAgKiBAcGFyYW0ge09iamVjdH0gbmVlZGxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3ROZXN0ZWRJbmNsdWRlID0gZnVuY3Rpb24gKGV4cCwgaW5jLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGV4cCwgbXNnLCBhc3NlcnQubm90TmVzdGVkSW5jbHVkZSwgdHJ1ZSlcbiAgICAgIC5ub3QubmVzdGVkLmluY2x1ZGUoaW5jKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5kZWVwTmVzdGVkSW5jbHVkZShoYXlzdGFjaywgbmVlZGxlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCAnaGF5c3RhY2snIGluY2x1ZGVzICduZWVkbGUnLlxuICAgKiBDYW4gYmUgdXNlZCB0byBhc3NlcnQgdGhlIGluY2x1c2lvbiBvZiBhIHN1YnNldCBvZiBwcm9wZXJ0aWVzIGluIGFuXG4gICAqIG9iamVjdCB3aGlsZSBjaGVja2luZyBmb3IgZGVlcCBlcXVhbGl0eS5cbiAgICogRW5hYmxlcyB0aGUgdXNlIG9mIGRvdC0gYW5kIGJyYWNrZXQtbm90YXRpb24gZm9yIHJlZmVyZW5jaW5nIG5lc3RlZFxuICAgKiBwcm9wZXJ0aWVzLlxuICAgKiAnW10nIGFuZCAnLicgaW4gcHJvcGVydHkgbmFtZXMgY2FuIGJlIGVzY2FwZWQgdXNpbmcgZG91YmxlIGJhY2tzbGFzaGVzLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmRlZXBOZXN0ZWRJbmNsdWRlKHthOiB7YjogW3t4OiAxfV19fSwgeydhLmJbMF0nOiB7eDogMX19KTtcbiAgICogICAgIGFzc2VydC5kZWVwTmVzdGVkSW5jbHVkZSh7Jy5hJzogeydbYl0nOiB7eDogMX19fSwgeydcXFxcLmEuXFxcXFtiXFxcXF0nOiB7eDogMX19KTtcbiAgICpcbiAgICogQG5hbWUgZGVlcE5lc3RlZEluY2x1ZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGhheXN0YWNrXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBuZWVkbGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRlZXBOZXN0ZWRJbmNsdWRlID0gZnVuY3Rpb24oZXhwLCBpbmMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oZXhwLCBtc2csIGFzc2VydC5kZWVwTmVzdGVkSW5jbHVkZSwgdHJ1ZSlcbiAgICAgIC5kZWVwLm5lc3RlZC5pbmNsdWRlKGluYyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90RGVlcE5lc3RlZEluY2x1ZGUoaGF5c3RhY2ssIG5lZWRsZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgJ2hheXN0YWNrJyBkb2VzIG5vdCBpbmNsdWRlICduZWVkbGUnLlxuICAgKiBDYW4gYmUgdXNlZCB0byBhc3NlcnQgdGhlIGFic2VuY2Ugb2YgYSBzdWJzZXQgb2YgcHJvcGVydGllcyBpbiBhblxuICAgKiBvYmplY3Qgd2hpbGUgY2hlY2tpbmcgZm9yIGRlZXAgZXF1YWxpdHkuXG4gICAqIEVuYWJsZXMgdGhlIHVzZSBvZiBkb3QtIGFuZCBicmFja2V0LW5vdGF0aW9uIGZvciByZWZlcmVuY2luZyBuZXN0ZWRcbiAgICogcHJvcGVydGllcy5cbiAgICogJ1tdJyBhbmQgJy4nIGluIHByb3BlcnR5IG5hbWVzIGNhbiBiZSBlc2NhcGVkIHVzaW5nIGRvdWJsZSBiYWNrc2xhc2hlcy5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3REZWVwTmVzdGVkSW5jbHVkZSh7YToge2I6IFt7eDogMX1dfX0sIHsnYS5iWzBdJzoge3k6IDF9fSlcbiAgICogICAgIGFzc2VydC5ub3REZWVwTmVzdGVkSW5jbHVkZSh7Jy5hJzogeydbYl0nOiB7eDogMX19fSwgeydcXFxcLmEuXFxcXFtiXFxcXF0nOiB7eTogMn19KTtcbiAgICpcbiAgICogQG5hbWUgbm90RGVlcE5lc3RlZEluY2x1ZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGhheXN0YWNrXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBuZWVkbGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdERlZXBOZXN0ZWRJbmNsdWRlID0gZnVuY3Rpb24oZXhwLCBpbmMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oZXhwLCBtc2csIGFzc2VydC5ub3REZWVwTmVzdGVkSW5jbHVkZSwgdHJ1ZSlcbiAgICAgIC5ub3QuZGVlcC5uZXN0ZWQuaW5jbHVkZShpbmMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm93bkluY2x1ZGUoaGF5c3RhY2ssIG5lZWRsZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgJ2hheXN0YWNrJyBpbmNsdWRlcyAnbmVlZGxlJy5cbiAgICogQ2FuIGJlIHVzZWQgdG8gYXNzZXJ0IHRoZSBpbmNsdXNpb24gb2YgYSBzdWJzZXQgb2YgcHJvcGVydGllcyBpbiBhblxuICAgKiBvYmplY3Qgd2hpbGUgaWdub3JpbmcgaW5oZXJpdGVkIHByb3BlcnRpZXMuXG4gICAqXG4gICAqICAgICBhc3NlcnQub3duSW5jbHVkZSh7IGE6IDEgfSwgeyBhOiAxIH0pO1xuICAgKlxuICAgKiBAbmFtZSBvd25JbmNsdWRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBoYXlzdGFja1xuICAgKiBAcGFyYW0ge09iamVjdH0gbmVlZGxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5vd25JbmNsdWRlID0gZnVuY3Rpb24oZXhwLCBpbmMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oZXhwLCBtc2csIGFzc2VydC5vd25JbmNsdWRlLCB0cnVlKS5vd24uaW5jbHVkZShpbmMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm5vdE93bkluY2x1ZGUoaGF5c3RhY2ssIG5lZWRsZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgJ2hheXN0YWNrJyBpbmNsdWRlcyAnbmVlZGxlJy5cbiAgICogQ2FuIGJlIHVzZWQgdG8gYXNzZXJ0IHRoZSBhYnNlbmNlIG9mIGEgc3Vic2V0IG9mIHByb3BlcnRpZXMgaW4gYW5cbiAgICogb2JqZWN0IHdoaWxlIGlnbm9yaW5nIGluaGVyaXRlZCBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiAgICAgT2JqZWN0LnByb3RvdHlwZS5iID0gMjtcbiAgICpcbiAgICogICAgIGFzc2VydC5ub3RPd25JbmNsdWRlKHsgYTogMSB9LCB7IGI6IDIgfSk7XG4gICAqXG4gICAqIEBuYW1lIG5vdE93bkluY2x1ZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGhheXN0YWNrXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBuZWVkbGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdE93bkluY2x1ZGUgPSBmdW5jdGlvbihleHAsIGluYywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihleHAsIG1zZywgYXNzZXJ0Lm5vdE93bkluY2x1ZGUsIHRydWUpLm5vdC5vd24uaW5jbHVkZShpbmMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmRlZXBPd25JbmNsdWRlKGhheXN0YWNrLCBuZWVkbGUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0ICdoYXlzdGFjaycgaW5jbHVkZXMgJ25lZWRsZScuXG4gICAqIENhbiBiZSB1c2VkIHRvIGFzc2VydCB0aGUgaW5jbHVzaW9uIG9mIGEgc3Vic2V0IG9mIHByb3BlcnRpZXMgaW4gYW5cbiAgICogb2JqZWN0IHdoaWxlIGlnbm9yaW5nIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGFuZCBjaGVja2luZyBmb3IgZGVlcCBlcXVhbGl0eS5cbiAgICpcbiAgICogICAgICBhc3NlcnQuZGVlcE93bkluY2x1ZGUoe2E6IHtiOiAyfX0sIHthOiB7YjogMn19KTtcbiAgICpcbiAgICogQG5hbWUgZGVlcE93bkluY2x1ZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGhheXN0YWNrXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBuZWVkbGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRlZXBPd25JbmNsdWRlID0gZnVuY3Rpb24oZXhwLCBpbmMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oZXhwLCBtc2csIGFzc2VydC5kZWVwT3duSW5jbHVkZSwgdHJ1ZSlcbiAgICAgIC5kZWVwLm93bi5pbmNsdWRlKGluYyk7XG4gIH07XG5cbiAgIC8qKlxuICAgKiAjIyMgLm5vdERlZXBPd25JbmNsdWRlKGhheXN0YWNrLCBuZWVkbGUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0ICdoYXlzdGFjaycgaW5jbHVkZXMgJ25lZWRsZScuXG4gICAqIENhbiBiZSB1c2VkIHRvIGFzc2VydCB0aGUgYWJzZW5jZSBvZiBhIHN1YnNldCBvZiBwcm9wZXJ0aWVzIGluIGFuXG4gICAqIG9iamVjdCB3aGlsZSBpZ25vcmluZyBpbmhlcml0ZWQgcHJvcGVydGllcyBhbmQgY2hlY2tpbmcgZm9yIGRlZXAgZXF1YWxpdHkuXG4gICAqXG4gICAqICAgICAgYXNzZXJ0Lm5vdERlZXBPd25JbmNsdWRlKHthOiB7YjogMn19LCB7YToge2M6IDN9fSk7XG4gICAqXG4gICAqIEBuYW1lIG5vdERlZXBPd25JbmNsdWRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBoYXlzdGFja1xuICAgKiBAcGFyYW0ge09iamVjdH0gbmVlZGxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3REZWVwT3duSW5jbHVkZSA9IGZ1bmN0aW9uKGV4cCwgaW5jLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGV4cCwgbXNnLCBhc3NlcnQubm90RGVlcE93bkluY2x1ZGUsIHRydWUpXG4gICAgICAubm90LmRlZXAub3duLmluY2x1ZGUoaW5jKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5tYXRjaCh2YWx1ZSwgcmVnZXhwLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgdmFsdWVgIG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBgcmVnZXhwYC5cbiAgICpcbiAgICogICAgIGFzc2VydC5tYXRjaCgnZm9vYmFyJywgL15mb28vLCAncmVnZXhwIG1hdGNoZXMnKTtcbiAgICpcbiAgICogQG5hbWUgbWF0Y2hcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubWF0Y2ggPSBmdW5jdGlvbiAoZXhwLCByZSwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihleHAsIG1zZywgYXNzZXJ0Lm1hdGNoLCB0cnVlKS50by5tYXRjaChyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90TWF0Y2godmFsdWUsIHJlZ2V4cCwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHZhbHVlYCBkb2VzIG5vdCBtYXRjaCB0aGUgcmVndWxhciBleHByZXNzaW9uIGByZWdleHBgLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdE1hdGNoKCdmb29iYXInLCAvXmZvby8sICdyZWdleHAgZG9lcyBub3QgbWF0Y2gnKTtcbiAgICpcbiAgICogQG5hbWUgbm90TWF0Y2hcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90TWF0Y2ggPSBmdW5jdGlvbiAoZXhwLCByZSwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihleHAsIG1zZywgYXNzZXJ0Lm5vdE1hdGNoLCB0cnVlKS50by5ub3QubWF0Y2gocmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLnByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZWQgYnlcbiAgICogYHByb3BlcnR5YC5cbiAgICpcbiAgICogICAgIGFzc2VydC5wcm9wZXJ0eSh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfX0sICd0ZWEnKTtcbiAgICogICAgIGFzc2VydC5wcm9wZXJ0eSh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfX0sICd0b1N0cmluZycpO1xuICAgKlxuICAgKiBAbmFtZSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQucHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQucHJvcGVydHksIHRydWUpLnRvLmhhdmUucHJvcGVydHkocHJvcCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90UHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgZG9lcyBfbm90XyBoYXZlIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lZFxuICAgKiBieSBgcHJvcGVydHlgLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdFByb3BlcnR5KHsgdGVhOiB7IGdyZWVuOiAnbWF0Y2hhJyB9fSwgJ2NvZmZlZScpO1xuICAgKlxuICAgKiBAbmFtZSBub3RQcm9wZXJ0eVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90UHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQubm90UHJvcGVydHksIHRydWUpXG4gICAgICAudG8ubm90LmhhdmUucHJvcGVydHkocHJvcCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAucHJvcGVydHlWYWwob2JqZWN0LCBwcm9wZXJ0eSwgdmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZWQgYnlcbiAgICogYHByb3BlcnR5YCB3aXRoIGEgdmFsdWUgZ2l2ZW4gYnkgYHZhbHVlYC4gVXNlcyBhIHN0cmljdCBlcXVhbGl0eSBjaGVja1xuICAgKiAoPT09KS5cbiAgICpcbiAgICogICAgIGFzc2VydC5wcm9wZXJ0eVZhbCh7IHRlYTogJ2lzIGdvb2QnIH0sICd0ZWEnLCAnaXMgZ29vZCcpO1xuICAgKlxuICAgKiBAbmFtZSBwcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQucHJvcGVydHlWYWwgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCB2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5wcm9wZXJ0eVZhbCwgdHJ1ZSlcbiAgICAgIC50by5oYXZlLnByb3BlcnR5KHByb3AsIHZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90UHJvcGVydHlWYWwob2JqZWN0LCBwcm9wZXJ0eSwgdmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGRvZXMgX25vdF8gaGF2ZSBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZWRcbiAgICogYnkgYHByb3BlcnR5YCB3aXRoIHZhbHVlIGdpdmVuIGJ5IGB2YWx1ZWAuIFVzZXMgYSBzdHJpY3QgZXF1YWxpdHkgY2hlY2tcbiAgICogKD09PSkuXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90UHJvcGVydHlWYWwoeyB0ZWE6ICdpcyBnb29kJyB9LCAndGVhJywgJ2lzIGJhZCcpO1xuICAgKiAgICAgYXNzZXJ0Lm5vdFByb3BlcnR5VmFsKHsgdGVhOiAnaXMgZ29vZCcgfSwgJ2NvZmZlZScsICdpcyBnb29kJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdFByb3BlcnR5VmFsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3RQcm9wZXJ0eVZhbCA9IGZ1bmN0aW9uIChvYmosIHByb3AsIHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lm5vdFByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLm5vdC5oYXZlLnByb3BlcnR5KHByb3AsIHZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuZGVlcFByb3BlcnR5VmFsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBoYXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVkIGJ5XG4gICAqIGBwcm9wZXJ0eWAgd2l0aCBhIHZhbHVlIGdpdmVuIGJ5IGB2YWx1ZWAuIFVzZXMgYSBkZWVwIGVxdWFsaXR5IGNoZWNrLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmRlZXBQcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfSB9LCAndGVhJywgeyBncmVlbjogJ21hdGNoYScgfSk7XG4gICAqXG4gICAqIEBuYW1lIGRlZXBQcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuZGVlcFByb3BlcnR5VmFsID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgdmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuZGVlcFByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLmhhdmUuZGVlcC5wcm9wZXJ0eShwcm9wLCB2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm5vdERlZXBQcm9wZXJ0eVZhbChvYmplY3QsIHByb3BlcnR5LCB2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgZG9lcyBfbm90XyBoYXZlIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lZFxuICAgKiBieSBgcHJvcGVydHlgIHdpdGggdmFsdWUgZ2l2ZW4gYnkgYHZhbHVlYC4gVXNlcyBhIGRlZXAgZXF1YWxpdHkgY2hlY2suXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90RGVlcFByb3BlcnR5VmFsKHsgdGVhOiB7IGdyZWVuOiAnbWF0Y2hhJyB9IH0sICd0ZWEnLCB7IGJsYWNrOiAnbWF0Y2hhJyB9KTtcbiAgICogICAgIGFzc2VydC5ub3REZWVwUHJvcGVydHlWYWwoeyB0ZWE6IHsgZ3JlZW46ICdtYXRjaGEnIH0gfSwgJ3RlYScsIHsgZ3JlZW46ICdvb2xvbmcnIH0pO1xuICAgKiAgICAgYXNzZXJ0Lm5vdERlZXBQcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfSB9LCAnY29mZmVlJywgeyBncmVlbjogJ21hdGNoYScgfSk7XG4gICAqXG4gICAqIEBuYW1lIG5vdERlZXBQcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90RGVlcFByb3BlcnR5VmFsID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgdmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQubm90RGVlcFByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLm5vdC5oYXZlLmRlZXAucHJvcGVydHkocHJvcCwgdmFsKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5vd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBoYXMgYSBkaXJlY3QgcHJvcGVydHkgbmFtZWQgYnkgYHByb3BlcnR5YC4gSW5oZXJpdGVkXG4gICAqIHByb3BlcnRpZXMgYXJlbid0IGNoZWNrZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQub3duUHJvcGVydHkoeyB0ZWE6IHsgZ3JlZW46ICdtYXRjaGEnIH19LCAndGVhJyk7XG4gICAqXG4gICAqIEBuYW1lIG93blByb3BlcnR5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5vd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIHByb3AsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5vd25Qcm9wZXJ0eSwgdHJ1ZSlcbiAgICAgIC50by5oYXZlLm93bi5wcm9wZXJ0eShwcm9wKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3RPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBkb2VzIF9ub3RfIGhhdmUgYSBkaXJlY3QgcHJvcGVydHkgbmFtZWQgYnlcbiAgICogYHByb3BlcnR5YC4gSW5oZXJpdGVkIHByb3BlcnRpZXMgYXJlbid0IGNoZWNrZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90T3duUHJvcGVydHkoeyB0ZWE6IHsgZ3JlZW46ICdtYXRjaGEnIH19LCAnY29mZmVlJyk7XG4gICAqICAgICBhc3NlcnQubm90T3duUHJvcGVydHkoe30sICd0b1N0cmluZycpO1xuICAgKlxuICAgKiBAbmFtZSBub3RPd25Qcm9wZXJ0eVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90T3duUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQubm90T3duUHJvcGVydHksIHRydWUpXG4gICAgICAudG8ubm90LmhhdmUub3duLnByb3BlcnR5KHByb3ApO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm93blByb3BlcnR5VmFsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBoYXMgYSBkaXJlY3QgcHJvcGVydHkgbmFtZWQgYnkgYHByb3BlcnR5YCBhbmQgYSB2YWx1ZVxuICAgKiBlcXVhbCB0byB0aGUgcHJvdmlkZWQgYHZhbHVlYC4gVXNlcyBhIHN0cmljdCBlcXVhbGl0eSBjaGVjayAoPT09KS5cbiAgICogSW5oZXJpdGVkIHByb3BlcnRpZXMgYXJlbid0IGNoZWNrZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQub3duUHJvcGVydHlWYWwoeyBjb2ZmZWU6ICdpcyBnb29kJ30sICdjb2ZmZWUnLCAnaXMgZ29vZCcpO1xuICAgKlxuICAgKiBAbmFtZSBvd25Qcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQub3duUHJvcGVydHlWYWwgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCB2YWx1ZSwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lm93blByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLmhhdmUub3duLnByb3BlcnR5KHByb3AsIHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3RPd25Qcm9wZXJ0eVZhbChvYmplY3QsIHByb3BlcnR5LCB2YWx1ZSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgZG9lcyBfbm90XyBoYXZlIGEgZGlyZWN0IHByb3BlcnR5IG5hbWVkIGJ5IGBwcm9wZXJ0eWBcbiAgICogd2l0aCBhIHZhbHVlIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBgdmFsdWVgLiBVc2VzIGEgc3RyaWN0IGVxdWFsaXR5IGNoZWNrXG4gICAqICg9PT0pLiBJbmhlcml0ZWQgcHJvcGVydGllcyBhcmVuJ3QgY2hlY2tlZC5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3RPd25Qcm9wZXJ0eVZhbCh7IHRlYTogJ2lzIGJldHRlcid9LCAndGVhJywgJ2lzIHdvcnNlJyk7XG4gICAqICAgICBhc3NlcnQubm90T3duUHJvcGVydHlWYWwoe30sICd0b1N0cmluZycsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO1xuICAgKlxuICAgKiBAbmFtZSBub3RPd25Qcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90T3duUHJvcGVydHlWYWwgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCB2YWx1ZSwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lm5vdE93blByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLm5vdC5oYXZlLm93bi5wcm9wZXJ0eShwcm9wLCB2YWx1ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuZGVlcE93blByb3BlcnR5VmFsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBoYXMgYSBkaXJlY3QgcHJvcGVydHkgbmFtZWQgYnkgYHByb3BlcnR5YCBhbmQgYSB2YWx1ZVxuICAgKiBlcXVhbCB0byB0aGUgcHJvdmlkZWQgYHZhbHVlYC4gVXNlcyBhIGRlZXAgZXF1YWxpdHkgY2hlY2suIEluaGVyaXRlZFxuICAgKiBwcm9wZXJ0aWVzIGFyZW4ndCBjaGVja2VkLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmRlZXBPd25Qcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfSB9LCAndGVhJywgeyBncmVlbjogJ21hdGNoYScgfSk7XG4gICAqXG4gICAqIEBuYW1lIGRlZXBPd25Qcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuZGVlcE93blByb3BlcnR5VmFsID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgdmFsdWUsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5kZWVwT3duUHJvcGVydHlWYWwsIHRydWUpXG4gICAgICAudG8uaGF2ZS5kZWVwLm93bi5wcm9wZXJ0eShwcm9wLCB2YWx1ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90RGVlcE93blByb3BlcnR5VmFsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBkb2VzIF9ub3RfIGhhdmUgYSBkaXJlY3QgcHJvcGVydHkgbmFtZWQgYnkgYHByb3BlcnR5YFxuICAgKiB3aXRoIGEgdmFsdWUgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIGB2YWx1ZWAuIFVzZXMgYSBkZWVwIGVxdWFsaXR5IGNoZWNrLlxuICAgKiBJbmhlcml0ZWQgcHJvcGVydGllcyBhcmVuJ3QgY2hlY2tlZC5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3REZWVwT3duUHJvcGVydHlWYWwoeyB0ZWE6IHsgZ3JlZW46ICdtYXRjaGEnIH0gfSwgJ3RlYScsIHsgYmxhY2s6ICdtYXRjaGEnIH0pO1xuICAgKiAgICAgYXNzZXJ0Lm5vdERlZXBPd25Qcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfSB9LCAndGVhJywgeyBncmVlbjogJ29vbG9uZycgfSk7XG4gICAqICAgICBhc3NlcnQubm90RGVlcE93blByb3BlcnR5VmFsKHsgdGVhOiB7IGdyZWVuOiAnbWF0Y2hhJyB9IH0sICdjb2ZmZWUnLCB7IGdyZWVuOiAnbWF0Y2hhJyB9KTtcbiAgICogICAgIGFzc2VydC5ub3REZWVwT3duUHJvcGVydHlWYWwoe30sICd0b1N0cmluZycsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO1xuICAgKlxuICAgKiBAbmFtZSBub3REZWVwT3duUHJvcGVydHlWYWxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdERlZXBPd25Qcm9wZXJ0eVZhbCA9IGZ1bmN0aW9uIChvYmosIHByb3AsIHZhbHVlLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQubm90RGVlcE93blByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLm5vdC5oYXZlLmRlZXAub3duLnByb3BlcnR5KHByb3AsIHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5uZXN0ZWRQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBoYXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVkIGJ5XG4gICAqIGBwcm9wZXJ0eWAsIHdoaWNoIGNhbiBiZSBhIHN0cmluZyB1c2luZyBkb3QtIGFuZCBicmFja2V0LW5vdGF0aW9uIGZvclxuICAgKiBuZXN0ZWQgcmVmZXJlbmNlLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5lc3RlZFByb3BlcnR5KHsgdGVhOiB7IGdyZWVuOiAnbWF0Y2hhJyB9fSwgJ3RlYS5ncmVlbicpO1xuICAgKlxuICAgKiBAbmFtZSBuZXN0ZWRQcm9wZXJ0eVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubmVzdGVkUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBwcm9wLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQubmVzdGVkUHJvcGVydHksIHRydWUpXG4gICAgICAudG8uaGF2ZS5uZXN0ZWQucHJvcGVydHkocHJvcCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90TmVzdGVkUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgZG9lcyBfbm90XyBoYXZlIGEgcHJvcGVydHkgbmFtZWQgYnkgYHByb3BlcnR5YCwgd2hpY2hcbiAgICogY2FuIGJlIGEgc3RyaW5nIHVzaW5nIGRvdC0gYW5kIGJyYWNrZXQtbm90YXRpb24gZm9yIG5lc3RlZCByZWZlcmVuY2UuIFRoZVxuICAgKiBwcm9wZXJ0eSBjYW5ub3QgZXhpc3Qgb24gdGhlIG9iamVjdCBub3IgYW55d2hlcmUgaW4gaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3ROZXN0ZWRQcm9wZXJ0eSh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfX0sICd0ZWEub29sb25nJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdE5lc3RlZFByb3BlcnR5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3ROZXN0ZWRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIHByb3AsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5ub3ROZXN0ZWRQcm9wZXJ0eSwgdHJ1ZSlcbiAgICAgIC50by5ub3QuaGF2ZS5uZXN0ZWQucHJvcGVydHkocHJvcCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubmVzdGVkUHJvcGVydHlWYWwob2JqZWN0LCBwcm9wZXJ0eSwgdmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhIHByb3BlcnR5IG5hbWVkIGJ5IGBwcm9wZXJ0eWAgd2l0aCB2YWx1ZSBnaXZlblxuICAgKiBieSBgdmFsdWVgLiBgcHJvcGVydHlgIGNhbiB1c2UgZG90LSBhbmQgYnJhY2tldC1ub3RhdGlvbiBmb3IgbmVzdGVkXG4gICAqIHJlZmVyZW5jZS4gVXNlcyBhIHN0cmljdCBlcXVhbGl0eSBjaGVjayAoPT09KS5cbiAgICpcbiAgICogICAgIGFzc2VydC5uZXN0ZWRQcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfX0sICd0ZWEuZ3JlZW4nLCAnbWF0Y2hhJyk7XG4gICAqXG4gICAqIEBuYW1lIG5lc3RlZFByb3BlcnR5VmFsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5uZXN0ZWRQcm9wZXJ0eVZhbCA9IGZ1bmN0aW9uIChvYmosIHByb3AsIHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lm5lc3RlZFByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLmhhdmUubmVzdGVkLnByb3BlcnR5KHByb3AsIHZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAubm90TmVzdGVkUHJvcGVydHlWYWwob2JqZWN0LCBwcm9wZXJ0eSwgdmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGRvZXMgX25vdF8gaGF2ZSBhIHByb3BlcnR5IG5hbWVkIGJ5IGBwcm9wZXJ0eWAgd2l0aFxuICAgKiB2YWx1ZSBnaXZlbiBieSBgdmFsdWVgLiBgcHJvcGVydHlgIGNhbiB1c2UgZG90LSBhbmQgYnJhY2tldC1ub3RhdGlvbiBmb3JcbiAgICogbmVzdGVkIHJlZmVyZW5jZS4gVXNlcyBhIHN0cmljdCBlcXVhbGl0eSBjaGVjayAoPT09KS5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3ROZXN0ZWRQcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogJ21hdGNoYScgfX0sICd0ZWEuZ3JlZW4nLCAna29uYWNoYScpO1xuICAgKiAgICAgYXNzZXJ0Lm5vdE5lc3RlZFByb3BlcnR5VmFsKHsgdGVhOiB7IGdyZWVuOiAnbWF0Y2hhJyB9fSwgJ2NvZmZlZS5ncmVlbicsICdtYXRjaGEnKTtcbiAgICpcbiAgICogQG5hbWUgbm90TmVzdGVkUHJvcGVydHlWYWxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdE5lc3RlZFByb3BlcnR5VmFsID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgdmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQubm90TmVzdGVkUHJvcGVydHlWYWwsIHRydWUpXG4gICAgICAudG8ubm90LmhhdmUubmVzdGVkLnByb3BlcnR5KHByb3AsIHZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuZGVlcE5lc3RlZFByb3BlcnR5VmFsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBoYXMgYSBwcm9wZXJ0eSBuYW1lZCBieSBgcHJvcGVydHlgIHdpdGggYSB2YWx1ZSBnaXZlblxuICAgKiBieSBgdmFsdWVgLiBgcHJvcGVydHlgIGNhbiB1c2UgZG90LSBhbmQgYnJhY2tldC1ub3RhdGlvbiBmb3IgbmVzdGVkXG4gICAqIHJlZmVyZW5jZS4gVXNlcyBhIGRlZXAgZXF1YWxpdHkgY2hlY2suXG4gICAqXG4gICAqICAgICBhc3NlcnQuZGVlcE5lc3RlZFByb3BlcnR5VmFsKHsgdGVhOiB7IGdyZWVuOiB7IG1hdGNoYTogJ3l1bScgfSB9IH0sICd0ZWEuZ3JlZW4nLCB7IG1hdGNoYTogJ3l1bScgfSk7XG4gICAqXG4gICAqIEBuYW1lIGRlZXBOZXN0ZWRQcm9wZXJ0eVZhbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuZGVlcE5lc3RlZFByb3BlcnR5VmFsID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgdmFsLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuZGVlcE5lc3RlZFByb3BlcnR5VmFsLCB0cnVlKVxuICAgICAgLnRvLmhhdmUuZGVlcC5uZXN0ZWQucHJvcGVydHkocHJvcCwgdmFsKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5ub3REZWVwTmVzdGVkUHJvcGVydHlWYWwob2JqZWN0LCBwcm9wZXJ0eSwgdmFsdWUsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGRvZXMgX25vdF8gaGF2ZSBhIHByb3BlcnR5IG5hbWVkIGJ5IGBwcm9wZXJ0eWAgd2l0aFxuICAgKiB2YWx1ZSBnaXZlbiBieSBgdmFsdWVgLiBgcHJvcGVydHlgIGNhbiB1c2UgZG90LSBhbmQgYnJhY2tldC1ub3RhdGlvbiBmb3JcbiAgICogbmVzdGVkIHJlZmVyZW5jZS4gVXNlcyBhIGRlZXAgZXF1YWxpdHkgY2hlY2suXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90RGVlcE5lc3RlZFByb3BlcnR5VmFsKHsgdGVhOiB7IGdyZWVuOiB7IG1hdGNoYTogJ3l1bScgfSB9IH0sICd0ZWEuZ3JlZW4nLCB7IG9vbG9uZzogJ3l1bScgfSk7XG4gICAqICAgICBhc3NlcnQubm90RGVlcE5lc3RlZFByb3BlcnR5VmFsKHsgdGVhOiB7IGdyZWVuOiB7IG1hdGNoYTogJ3l1bScgfSB9IH0sICd0ZWEuZ3JlZW4nLCB7IG1hdGNoYTogJ3l1Y2snIH0pO1xuICAgKiAgICAgYXNzZXJ0Lm5vdERlZXBOZXN0ZWRQcm9wZXJ0eVZhbCh7IHRlYTogeyBncmVlbjogeyBtYXRjaGE6ICd5dW0nIH0gfSB9LCAndGVhLmJsYWNrJywgeyBtYXRjaGE6ICd5dW0nIH0pO1xuICAgKlxuICAgKiBAbmFtZSBub3REZWVwTmVzdGVkUHJvcGVydHlWYWxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdERlZXBOZXN0ZWRQcm9wZXJ0eVZhbCA9IGZ1bmN0aW9uIChvYmosIHByb3AsIHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lm5vdERlZXBOZXN0ZWRQcm9wZXJ0eVZhbCwgdHJ1ZSlcbiAgICAgIC50by5ub3QuaGF2ZS5kZWVwLm5lc3RlZC5wcm9wZXJ0eShwcm9wLCB2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAubGVuZ3RoT2Yob2JqZWN0LCBsZW5ndGgsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhIGBsZW5ndGhgIG9yIGBzaXplYCB3aXRoIHRoZSBleHBlY3RlZCB2YWx1ZS5cbiAgICpcbiAgICogICAgIGFzc2VydC5sZW5ndGhPZihbMSwyLDNdLCAzLCAnYXJyYXkgaGFzIGxlbmd0aCBvZiAzJyk7XG4gICAqICAgICBhc3NlcnQubGVuZ3RoT2YoJ2Zvb2JhcicsIDYsICdzdHJpbmcgaGFzIGxlbmd0aCBvZiA2Jyk7XG4gICAqICAgICBhc3NlcnQubGVuZ3RoT2YobmV3IFNldChbMSwyLDNdKSwgMywgJ3NldCBoYXMgc2l6ZSBvZiAzJyk7XG4gICAqICAgICBhc3NlcnQubGVuZ3RoT2YobmV3IE1hcChbWydhJywxXSxbJ2InLDJdLFsnYycsM11dKSwgMywgJ21hcCBoYXMgc2l6ZSBvZiAzJyk7XG4gICAqXG4gICAqIEBuYW1lIGxlbmd0aE9mXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICAgKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5sZW5ndGhPZiA9IGZ1bmN0aW9uIChleHAsIGxlbiwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihleHAsIG1zZywgYXNzZXJ0Lmxlbmd0aE9mLCB0cnVlKS50by5oYXZlLmxlbmd0aE9mKGxlbik7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaGFzQW55S2V5cyhvYmplY3QsIFtrZXlzXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaGFzIGF0IGxlYXN0IG9uZSBvZiB0aGUgYGtleXNgIHByb3ZpZGVkLlxuICAgKiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhIHNpbmdsZSBvYmplY3QgaW5zdGVhZCBvZiBhIGBrZXlzYCBhcnJheSBhbmQgaXRzIGtleXNcbiAgICogd2lsbCBiZSB1c2VkIGFzIHRoZSBleHBlY3RlZCBzZXQgb2Yga2V5cy5cbiAgICpcbiAgICogICAgIGFzc2VydC5oYXNBbnlLZXlzKHtmb286IDEsIGJhcjogMiwgYmF6OiAzfSwgWydmb28nLCAnaURvbnRFeGlzdCcsICdiYXonXSk7XG4gICAqICAgICBhc3NlcnQuaGFzQW55S2V5cyh7Zm9vOiAxLCBiYXI6IDIsIGJhejogM30sIHtmb286IDMwLCBpRG9udEV4aXN0OiA5OSwgYmF6OiAxMzM3fSk7XG4gICAqICAgICBhc3NlcnQuaGFzQW55S2V5cyhuZXcgTWFwKFtbe2ZvbzogMX0sICdiYXInXSwgWydrZXknLCAndmFsdWUnXV0pLCBbe2ZvbzogMX0sICdrZXknXSk7XG4gICAqICAgICBhc3NlcnQuaGFzQW55S2V5cyhuZXcgU2V0KFt7Zm9vOiAnYmFyJ30sICdhbm90aGVyS2V5J10pLCBbe2ZvbzogJ2Jhcid9LCAnYW5vdGhlcktleSddKTtcbiAgICpcbiAgICogQG5hbWUgaGFzQW55S2V5c1xuICAgKiBAcGFyYW0ge01peGVkfSBvYmplY3RcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGtleXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lmhhc0FueUtleXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuaGFzQW55S2V5cywgdHJ1ZSkudG8uaGF2ZS5hbnkua2V5cyhrZXlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmhhc0FsbEtleXMob2JqZWN0LCBba2V5c10sIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhbGwgYW5kIG9ubHkgYWxsIG9mIHRoZSBga2V5c2AgcHJvdmlkZWQuXG4gICAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgc2luZ2xlIG9iamVjdCBpbnN0ZWFkIG9mIGEgYGtleXNgIGFycmF5IGFuZCBpdHMga2V5c1xuICAgKiB3aWxsIGJlIHVzZWQgYXMgdGhlIGV4cGVjdGVkIHNldCBvZiBrZXlzLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lmhhc0FsbEtleXMoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9LCBbJ2ZvbycsICdiYXInLCAnYmF6J10pO1xuICAgKiAgICAgYXNzZXJ0Lmhhc0FsbEtleXMoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9LCB7Zm9vOiAzMCwgYmFyOiA5OSwgYmF6OiAxMzM3XSk7XG4gICAqICAgICBhc3NlcnQuaGFzQWxsS2V5cyhuZXcgTWFwKFtbe2ZvbzogMX0sICdiYXInXSwgWydrZXknLCAndmFsdWUnXV0pLCBbe2ZvbzogMX0sICdrZXknXSk7XG4gICAqICAgICBhc3NlcnQuaGFzQWxsS2V5cyhuZXcgU2V0KFt7Zm9vOiAnYmFyJ30sICdhbm90aGVyS2V5J10sIFt7Zm9vOiAnYmFyJ30sICdhbm90aGVyS2V5J10pO1xuICAgKlxuICAgKiBAbmFtZSBoYXNBbGxLZXlzXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBrZXlzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5oYXNBbGxLZXlzID0gZnVuY3Rpb24gKG9iaiwga2V5cywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lmhhc0FsbEtleXMsIHRydWUpLnRvLmhhdmUuYWxsLmtleXMoa2V5cyk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5jb250YWluc0FsbEtleXMob2JqZWN0LCBba2V5c10sIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhbGwgb2YgdGhlIGBrZXlzYCBwcm92aWRlZCBidXQgbWF5IGhhdmUgbW9yZSBrZXlzIG5vdCBsaXN0ZWQuXG4gICAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgc2luZ2xlIG9iamVjdCBpbnN0ZWFkIG9mIGEgYGtleXNgIGFycmF5IGFuZCBpdHMga2V5c1xuICAgKiB3aWxsIGJlIHVzZWQgYXMgdGhlIGV4cGVjdGVkIHNldCBvZiBrZXlzLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsS2V5cyh7Zm9vOiAxLCBiYXI6IDIsIGJhejogM30sIFsnZm9vJywgJ2JheiddKTtcbiAgICogICAgIGFzc2VydC5jb250YWluc0FsbEtleXMoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9LCBbJ2ZvbycsICdiYXInLCAnYmF6J10pO1xuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsS2V5cyh7Zm9vOiAxLCBiYXI6IDIsIGJhejogM30sIHtmb286IDMwLCBiYXo6IDEzMzd9KTtcbiAgICogICAgIGFzc2VydC5jb250YWluc0FsbEtleXMoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9LCB7Zm9vOiAzMCwgYmFyOiA5OSwgYmF6OiAxMzM3fSk7XG4gICAqICAgICBhc3NlcnQuY29udGFpbnNBbGxLZXlzKG5ldyBNYXAoW1t7Zm9vOiAxfSwgJ2JhciddLCBbJ2tleScsICd2YWx1ZSddXSksIFt7Zm9vOiAxfV0pO1xuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsS2V5cyhuZXcgTWFwKFtbe2ZvbzogMX0sICdiYXInXSwgWydrZXknLCAndmFsdWUnXV0pLCBbe2ZvbzogMX0sICdrZXknXSk7XG4gICAqICAgICBhc3NlcnQuY29udGFpbnNBbGxLZXlzKG5ldyBTZXQoW3tmb286ICdiYXInfSwgJ2Fub3RoZXJLZXknXSwgW3tmb286ICdiYXInfV0pO1xuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsS2V5cyhuZXcgU2V0KFt7Zm9vOiAnYmFyJ30sICdhbm90aGVyS2V5J10sIFt7Zm9vOiAnYmFyJ30sICdhbm90aGVyS2V5J10pO1xuICAgKlxuICAgKiBAbmFtZSBjb250YWluc0FsbEtleXNcbiAgICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nW119IGtleXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmNvbnRhaW5zQWxsS2V5cyA9IGZ1bmN0aW9uIChvYmosIGtleXMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5jb250YWluc0FsbEtleXMsIHRydWUpXG4gICAgICAudG8uY29udGFpbi5hbGwua2V5cyhrZXlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmRvZXNOb3RIYXZlQW55S2V5cyhvYmplY3QsIFtrZXlzXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaGFzIG5vbmUgb2YgdGhlIGBrZXlzYCBwcm92aWRlZC5cbiAgICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYSBzaW5nbGUgb2JqZWN0IGluc3RlYWQgb2YgYSBga2V5c2AgYXJyYXkgYW5kIGl0cyBrZXlzXG4gICAqIHdpbGwgYmUgdXNlZCBhcyB0aGUgZXhwZWN0ZWQgc2V0IG9mIGtleXMuXG4gICAqXG4gICAqICAgICBhc3NlcnQuZG9lc05vdEhhdmVBbnlLZXlzKHtmb286IDEsIGJhcjogMiwgYmF6OiAzfSwgWydvbmUnLCAndHdvJywgJ2V4YW1wbGUnXSk7XG4gICAqICAgICBhc3NlcnQuZG9lc05vdEhhdmVBbnlLZXlzKHtmb286IDEsIGJhcjogMiwgYmF6OiAzfSwge29uZTogMSwgdHdvOiAyLCBleGFtcGxlOiAnZm9vJ30pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RIYXZlQW55S2V5cyhuZXcgTWFwKFtbe2ZvbzogMX0sICdiYXInXSwgWydrZXknLCAndmFsdWUnXV0pLCBbe29uZTogJ3R3byd9LCAnZXhhbXBsZSddKTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90SGF2ZUFueUtleXMobmV3IFNldChbe2ZvbzogJ2Jhcid9LCAnYW5vdGhlcktleSddLCBbe29uZTogJ3R3byd9LCAnZXhhbXBsZSddKTtcbiAgICpcbiAgICogQG5hbWUgZG9lc05vdEhhdmVBbnlLZXlzXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBrZXlzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kb2VzTm90SGF2ZUFueUtleXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuZG9lc05vdEhhdmVBbnlLZXlzLCB0cnVlKVxuICAgICAgLnRvLm5vdC5oYXZlLmFueS5rZXlzKGtleXMpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAuZG9lc05vdEhhdmVBbGxLZXlzKG9iamVjdCwgW2tleXNdLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBkb2VzIG5vdCBoYXZlIGF0IGxlYXN0IG9uZSBvZiB0aGUgYGtleXNgIHByb3ZpZGVkLlxuICAgKiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhIHNpbmdsZSBvYmplY3QgaW5zdGVhZCBvZiBhIGBrZXlzYCBhcnJheSBhbmQgaXRzIGtleXNcbiAgICogd2lsbCBiZSB1c2VkIGFzIHRoZSBleHBlY3RlZCBzZXQgb2Yga2V5cy5cbiAgICpcbiAgICogICAgIGFzc2VydC5kb2VzTm90SGF2ZUFsbEtleXMoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9LCBbJ29uZScsICd0d28nLCAnZXhhbXBsZSddKTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90SGF2ZUFsbEtleXMoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9LCB7b25lOiAxLCB0d286IDIsIGV4YW1wbGU6ICdmb28nfSk7XG4gICAqICAgICBhc3NlcnQuZG9lc05vdEhhdmVBbGxLZXlzKG5ldyBNYXAoW1t7Zm9vOiAxfSwgJ2JhciddLCBbJ2tleScsICd2YWx1ZSddXSksIFt7b25lOiAndHdvJ30sICdleGFtcGxlJ10pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RIYXZlQWxsS2V5cyhuZXcgU2V0KFt7Zm9vOiAnYmFyJ30sICdhbm90aGVyS2V5J10sIFt7b25lOiAndHdvJ30sICdleGFtcGxlJ10pO1xuICAgKlxuICAgKiBAbmFtZSBkb2VzTm90SGF2ZUFsbEtleXNcbiAgICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nW119IGtleXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRvZXNOb3RIYXZlQWxsS2V5cyA9IGZ1bmN0aW9uIChvYmosIGtleXMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5kb2VzTm90SGF2ZUFsbEtleXMsIHRydWUpXG4gICAgICAudG8ubm90LmhhdmUuYWxsLmtleXMoa2V5cyk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5oYXNBbnlEZWVwS2V5cyhvYmplY3QsIFtrZXlzXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaGFzIGF0IGxlYXN0IG9uZSBvZiB0aGUgYGtleXNgIHByb3ZpZGVkLlxuICAgKiBTaW5jZSBTZXRzIGFuZCBNYXBzIGNhbiBoYXZlIG9iamVjdHMgYXMga2V5cyB5b3UgY2FuIHVzZSB0aGlzIGFzc2VydGlvbiB0byBwZXJmb3JtXG4gICAqIGEgZGVlcCBjb21wYXJpc29uLlxuICAgKiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhIHNpbmdsZSBvYmplY3QgaW5zdGVhZCBvZiBhIGBrZXlzYCBhcnJheSBhbmQgaXRzIGtleXNcbiAgICogd2lsbCBiZSB1c2VkIGFzIHRoZSBleHBlY3RlZCBzZXQgb2Yga2V5cy5cbiAgICpcbiAgICogICAgIGFzc2VydC5oYXNBbnlEZWVwS2V5cyhuZXcgTWFwKFtbe29uZTogJ29uZSd9LCAndmFsdWVPbmUnXSwgWzEsIDJdXSksIHtvbmU6ICdvbmUnfSk7XG4gICAqICAgICBhc3NlcnQuaGFzQW55RGVlcEtleXMobmV3IE1hcChbW3tvbmU6ICdvbmUnfSwgJ3ZhbHVlT25lJ10sIFsxLCAyXV0pLCBbe29uZTogJ29uZSd9LCB7dHdvOiAndHdvJ31dKTtcbiAgICogICAgIGFzc2VydC5oYXNBbnlEZWVwS2V5cyhuZXcgTWFwKFtbe29uZTogJ29uZSd9LCAndmFsdWVPbmUnXSwgW3t0d286ICd0d28nfSwgJ3ZhbHVlVHdvJ11dKSwgW3tvbmU6ICdvbmUnfSwge3R3bzogJ3R3byd9XSk7XG4gICAqICAgICBhc3NlcnQuaGFzQW55RGVlcEtleXMobmV3IFNldChbe29uZTogJ29uZSd9LCB7dHdvOiAndHdvJ31dKSwge29uZTogJ29uZSd9KTtcbiAgICogICAgIGFzc2VydC5oYXNBbnlEZWVwS2V5cyhuZXcgU2V0KFt7b25lOiAnb25lJ30sIHt0d286ICd0d28nfV0pLCBbe29uZTogJ29uZSd9LCB7dGhyZWU6ICd0aHJlZSd9XSk7XG4gICAqICAgICBhc3NlcnQuaGFzQW55RGVlcEtleXMobmV3IFNldChbe29uZTogJ29uZSd9LCB7dHdvOiAndHdvJ31dKSwgW3tvbmU6ICdvbmUnfSwge3R3bzogJ3R3byd9XSk7XG4gICAqXG4gICAqIEBuYW1lIGRvZXNOb3RIYXZlQWxsS2V5c1xuICAgKiBAcGFyYW0ge01peGVkfSBvYmplY3RcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGtleXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lmhhc0FueURlZXBLZXlzID0gZnVuY3Rpb24gKG9iaiwga2V5cywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lmhhc0FueURlZXBLZXlzLCB0cnVlKVxuICAgICAgLnRvLmhhdmUuYW55LmRlZXAua2V5cyhrZXlzKTtcbiAgfVxuXG4gLyoqXG4gICAqICMjIyAuaGFzQWxsRGVlcEtleXMob2JqZWN0LCBba2V5c10sIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGhhcyBhbGwgYW5kIG9ubHkgYWxsIG9mIHRoZSBga2V5c2AgcHJvdmlkZWQuXG4gICAqIFNpbmNlIFNldHMgYW5kIE1hcHMgY2FuIGhhdmUgb2JqZWN0cyBhcyBrZXlzIHlvdSBjYW4gdXNlIHRoaXMgYXNzZXJ0aW9uIHRvIHBlcmZvcm1cbiAgICogYSBkZWVwIGNvbXBhcmlzb24uXG4gICAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgc2luZ2xlIG9iamVjdCBpbnN0ZWFkIG9mIGEgYGtleXNgIGFycmF5IGFuZCBpdHMga2V5c1xuICAgKiB3aWxsIGJlIHVzZWQgYXMgdGhlIGV4cGVjdGVkIHNldCBvZiBrZXlzLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lmhhc0FsbERlZXBLZXlzKG5ldyBNYXAoW1t7b25lOiAnb25lJ30sICd2YWx1ZU9uZSddXSksIHtvbmU6ICdvbmUnfSk7XG4gICAqICAgICBhc3NlcnQuaGFzQWxsRGVlcEtleXMobmV3IE1hcChbW3tvbmU6ICdvbmUnfSwgJ3ZhbHVlT25lJ10sIFt7dHdvOiAndHdvJ30sICd2YWx1ZVR3byddXSksIFt7b25lOiAnb25lJ30sIHt0d286ICd0d28nfV0pO1xuICAgKiAgICAgYXNzZXJ0Lmhhc0FsbERlZXBLZXlzKG5ldyBTZXQoW3tvbmU6ICdvbmUnfV0pLCB7b25lOiAnb25lJ30pO1xuICAgKiAgICAgYXNzZXJ0Lmhhc0FsbERlZXBLZXlzKG5ldyBTZXQoW3tvbmU6ICdvbmUnfSwge3R3bzogJ3R3byd9XSksIFt7b25lOiAnb25lJ30sIHt0d286ICd0d28nfV0pO1xuICAgKlxuICAgKiBAbmFtZSBoYXNBbGxEZWVwS2V5c1xuICAgKiBAcGFyYW0ge01peGVkfSBvYmplY3RcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGtleXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lmhhc0FsbERlZXBLZXlzID0gZnVuY3Rpb24gKG9iaiwga2V5cywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0Lmhhc0FsbERlZXBLZXlzLCB0cnVlKVxuICAgICAgLnRvLmhhdmUuYWxsLmRlZXAua2V5cyhrZXlzKTtcbiAgfVxuXG4gLyoqXG4gICAqICMjIyAuY29udGFpbnNBbGxEZWVwS2V5cyhvYmplY3QsIFtrZXlzXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgY29udGFpbnMgYWxsIG9mIHRoZSBga2V5c2AgcHJvdmlkZWQuXG4gICAqIFNpbmNlIFNldHMgYW5kIE1hcHMgY2FuIGhhdmUgb2JqZWN0cyBhcyBrZXlzIHlvdSBjYW4gdXNlIHRoaXMgYXNzZXJ0aW9uIHRvIHBlcmZvcm1cbiAgICogYSBkZWVwIGNvbXBhcmlzb24uXG4gICAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgc2luZ2xlIG9iamVjdCBpbnN0ZWFkIG9mIGEgYGtleXNgIGFycmF5IGFuZCBpdHMga2V5c1xuICAgKiB3aWxsIGJlIHVzZWQgYXMgdGhlIGV4cGVjdGVkIHNldCBvZiBrZXlzLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsRGVlcEtleXMobmV3IE1hcChbW3tvbmU6ICdvbmUnfSwgJ3ZhbHVlT25lJ10sIFsxLCAyXV0pLCB7b25lOiAnb25lJ30pO1xuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsRGVlcEtleXMobmV3IE1hcChbW3tvbmU6ICdvbmUnfSwgJ3ZhbHVlT25lJ10sIFt7dHdvOiAndHdvJ30sICd2YWx1ZVR3byddXSksIFt7b25lOiAnb25lJ30sIHt0d286ICd0d28nfV0pO1xuICAgKiAgICAgYXNzZXJ0LmNvbnRhaW5zQWxsRGVlcEtleXMobmV3IFNldChbe29uZTogJ29uZSd9LCB7dHdvOiAndHdvJ31dKSwge29uZTogJ29uZSd9KTtcbiAgICogICAgIGFzc2VydC5jb250YWluc0FsbERlZXBLZXlzKG5ldyBTZXQoW3tvbmU6ICdvbmUnfSwge3R3bzogJ3R3byd9XSksIFt7b25lOiAnb25lJ30sIHt0d286ICd0d28nfV0pO1xuICAgKlxuICAgKiBAbmFtZSBjb250YWluc0FsbERlZXBLZXlzXG4gICAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0ga2V5c1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuY29udGFpbnNBbGxEZWVwS2V5cyA9IGZ1bmN0aW9uIChvYmosIGtleXMsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5jb250YWluc0FsbERlZXBLZXlzLCB0cnVlKVxuICAgICAgLnRvLmNvbnRhaW4uYWxsLmRlZXAua2V5cyhrZXlzKTtcbiAgfVxuXG4gLyoqXG4gICAqICMjIyAuZG9lc05vdEhhdmVBbnlEZWVwS2V5cyhvYmplY3QsIFtrZXlzXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaGFzIG5vbmUgb2YgdGhlIGBrZXlzYCBwcm92aWRlZC5cbiAgICogU2luY2UgU2V0cyBhbmQgTWFwcyBjYW4gaGF2ZSBvYmplY3RzIGFzIGtleXMgeW91IGNhbiB1c2UgdGhpcyBhc3NlcnRpb24gdG8gcGVyZm9ybVxuICAgKiBhIGRlZXAgY29tcGFyaXNvbi5cbiAgICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYSBzaW5nbGUgb2JqZWN0IGluc3RlYWQgb2YgYSBga2V5c2AgYXJyYXkgYW5kIGl0cyBrZXlzXG4gICAqIHdpbGwgYmUgdXNlZCBhcyB0aGUgZXhwZWN0ZWQgc2V0IG9mIGtleXMuXG4gICAqXG4gICAqICAgICBhc3NlcnQuZG9lc05vdEhhdmVBbnlEZWVwS2V5cyhuZXcgTWFwKFtbe29uZTogJ29uZSd9LCAndmFsdWVPbmUnXSwgWzEsIDJdXSksIHt0aGlzRG9lc05vdDogJ2V4aXN0J30pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RIYXZlQW55RGVlcEtleXMobmV3IE1hcChbW3tvbmU6ICdvbmUnfSwgJ3ZhbHVlT25lJ10sIFt7dHdvOiAndHdvJ30sICd2YWx1ZVR3byddXSksIFt7dHdlbnR5OiAndHdlbnR5J30sIHtmaWZ0eTogJ2ZpZnR5J31dKTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90SGF2ZUFueURlZXBLZXlzKG5ldyBTZXQoW3tvbmU6ICdvbmUnfSwge3R3bzogJ3R3byd9XSksIHt0d2VudHk6ICd0d2VudHknfSk7XG4gICAqICAgICBhc3NlcnQuZG9lc05vdEhhdmVBbnlEZWVwS2V5cyhuZXcgU2V0KFt7b25lOiAnb25lJ30sIHt0d286ICd0d28nfV0pLCBbe3R3ZW50eTogJ3R3ZW50eSd9LCB7ZmlmdHk6ICdmaWZ0eSd9XSk7XG4gICAqXG4gICAqIEBuYW1lIGRvZXNOb3RIYXZlQW55RGVlcEtleXNcbiAgICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBrZXlzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kb2VzTm90SGF2ZUFueURlZXBLZXlzID0gZnVuY3Rpb24gKG9iaiwga2V5cywgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0LmRvZXNOb3RIYXZlQW55RGVlcEtleXMsIHRydWUpXG4gICAgICAudG8ubm90LmhhdmUuYW55LmRlZXAua2V5cyhrZXlzKTtcbiAgfVxuXG4gLyoqXG4gICAqICMjIyAuZG9lc05vdEhhdmVBbGxEZWVwS2V5cyhvYmplY3QsIFtrZXlzXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgZG9lcyBub3QgaGF2ZSBhdCBsZWFzdCBvbmUgb2YgdGhlIGBrZXlzYCBwcm92aWRlZC5cbiAgICogU2luY2UgU2V0cyBhbmQgTWFwcyBjYW4gaGF2ZSBvYmplY3RzIGFzIGtleXMgeW91IGNhbiB1c2UgdGhpcyBhc3NlcnRpb24gdG8gcGVyZm9ybVxuICAgKiBhIGRlZXAgY29tcGFyaXNvbi5cbiAgICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYSBzaW5nbGUgb2JqZWN0IGluc3RlYWQgb2YgYSBga2V5c2AgYXJyYXkgYW5kIGl0cyBrZXlzXG4gICAqIHdpbGwgYmUgdXNlZCBhcyB0aGUgZXhwZWN0ZWQgc2V0IG9mIGtleXMuXG4gICAqXG4gICAqICAgICBhc3NlcnQuZG9lc05vdEhhdmVBbGxEZWVwS2V5cyhuZXcgTWFwKFtbe29uZTogJ29uZSd9LCAndmFsdWVPbmUnXSwgWzEsIDJdXSksIHt0aGlzRG9lc05vdDogJ2V4aXN0J30pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RIYXZlQWxsRGVlcEtleXMobmV3IE1hcChbW3tvbmU6ICdvbmUnfSwgJ3ZhbHVlT25lJ10sIFt7dHdvOiAndHdvJ30sICd2YWx1ZVR3byddXSksIFt7dHdlbnR5OiAndHdlbnR5J30sIHtvbmU6ICdvbmUnfV0pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RIYXZlQWxsRGVlcEtleXMobmV3IFNldChbe29uZTogJ29uZSd9LCB7dHdvOiAndHdvJ31dKSwge3R3ZW50eTogJ3R3ZW50eSd9KTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90SGF2ZUFsbERlZXBLZXlzKG5ldyBTZXQoW3tvbmU6ICdvbmUnfSwge3R3bzogJ3R3byd9XSksIFt7b25lOiAnb25lJ30sIHtmaWZ0eTogJ2ZpZnR5J31dKTtcbiAgICpcbiAgICogQG5hbWUgZG9lc05vdEhhdmVBbGxEZWVwS2V5c1xuICAgKiBAcGFyYW0ge01peGVkfSBvYmplY3RcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGtleXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRvZXNOb3RIYXZlQWxsRGVlcEtleXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuZG9lc05vdEhhdmVBbGxEZWVwS2V5cywgdHJ1ZSlcbiAgICAgIC50by5ub3QuaGF2ZS5hbGwuZGVlcC5rZXlzKGtleXMpO1xuICB9XG5cbiAvKipcbiAgICogIyMjIC50aHJvd3MoZm4sIFtlcnJvckxpa2Uvc3RyaW5nL3JlZ2V4cF0sIFtzdHJpbmcvcmVnZXhwXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBJZiBgZXJyb3JMaWtlYCBpcyBhbiBgRXJyb3JgIGNvbnN0cnVjdG9yLCBhc3NlcnRzIHRoYXQgYGZuYCB3aWxsIHRocm93IGFuIGVycm9yIHRoYXQgaXMgYW5cbiAgICogaW5zdGFuY2Ugb2YgYGVycm9yTGlrZWAuXG4gICAqIElmIGBlcnJvckxpa2VgIGlzIGFuIGBFcnJvcmAgaW5zdGFuY2UsIGFzc2VydHMgdGhhdCB0aGUgZXJyb3IgdGhyb3duIGlzIHRoZSBzYW1lXG4gICAqIGluc3RhbmNlIGFzIGBlcnJvckxpa2VgLlxuICAgKiBJZiBgZXJyTXNnTWF0Y2hlcmAgaXMgcHJvdmlkZWQsIGl0IGFsc28gYXNzZXJ0cyB0aGF0IHRoZSBlcnJvciB0aHJvd24gd2lsbCBoYXZlIGFcbiAgICogbWVzc2FnZSBtYXRjaGluZyBgZXJyTXNnTWF0Y2hlcmAuXG4gICAqXG4gICAqICAgICBhc3NlcnQudGhyb3dzKGZuLCAnRXJyb3IgdGhyb3duIG11c3QgaGF2ZSB0aGlzIG1zZycpO1xuICAgKiAgICAgYXNzZXJ0LnRocm93cyhmbiwgL0Vycm9yIHRocm93biBtdXN0IGhhdmUgYSBtc2cgdGhhdCBtYXRjaGVzIHRoaXMvKTtcbiAgICogICAgIGFzc2VydC50aHJvd3MoZm4sIFJlZmVyZW5jZUVycm9yKTtcbiAgICogICAgIGFzc2VydC50aHJvd3MoZm4sIGVycm9ySW5zdGFuY2UpO1xuICAgKiAgICAgYXNzZXJ0LnRocm93cyhmbiwgUmVmZXJlbmNlRXJyb3IsICdFcnJvciB0aHJvd24gbXVzdCBiZSBhIFJlZmVyZW5jZUVycm9yIGFuZCBoYXZlIHRoaXMgbXNnJyk7XG4gICAqICAgICBhc3NlcnQudGhyb3dzKGZuLCBlcnJvckluc3RhbmNlLCAnRXJyb3IgdGhyb3duIG11c3QgYmUgdGhlIHNhbWUgZXJyb3JJbnN0YW5jZSBhbmQgaGF2ZSB0aGlzIG1zZycpO1xuICAgKiAgICAgYXNzZXJ0LnRocm93cyhmbiwgUmVmZXJlbmNlRXJyb3IsIC9FcnJvciB0aHJvd24gbXVzdCBiZSBhIFJlZmVyZW5jZUVycm9yIGFuZCBtYXRjaCB0aGlzLyk7XG4gICAqICAgICBhc3NlcnQudGhyb3dzKGZuLCBlcnJvckluc3RhbmNlLCAvRXJyb3IgdGhyb3duIG11c3QgYmUgdGhlIHNhbWUgZXJyb3JJbnN0YW5jZSBhbmQgbWF0Y2ggdGhpcy8pO1xuICAgKlxuICAgKiBAbmFtZSB0aHJvd3NcbiAgICogQGFsaWFzIHRocm93XG4gICAqIEBhbGlhcyBUaHJvd1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgKiBAcGFyYW0ge0Vycm9yQ29uc3RydWN0b3J8RXJyb3J9IGVycm9yTGlrZVxuICAgKiBAcGFyYW0ge1JlZ0V4cHxTdHJpbmd9IGVyck1zZ01hdGNoZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNFcnJvcl90eXBlc1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQudGhyb3dzID0gZnVuY3Rpb24gKGZuLCBlcnJvckxpa2UsIGVyck1zZ01hdGNoZXIsIG1zZykge1xuICAgIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIGVycm9yTGlrZSB8fCBlcnJvckxpa2UgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIGVyck1zZ01hdGNoZXIgPSBlcnJvckxpa2U7XG4gICAgICBlcnJvckxpa2UgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBhc3NlcnRFcnIgPSBuZXcgQXNzZXJ0aW9uKGZuLCBtc2csIGFzc2VydC50aHJvd3MsIHRydWUpXG4gICAgICAudG8udGhyb3coZXJyb3JMaWtlLCBlcnJNc2dNYXRjaGVyKTtcbiAgICByZXR1cm4gZmxhZyhhc3NlcnRFcnIsICdvYmplY3QnKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5kb2VzTm90VGhyb3coZm4sIFtlcnJvckxpa2Uvc3RyaW5nL3JlZ2V4cF0sIFtzdHJpbmcvcmVnZXhwXSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBJZiBgZXJyb3JMaWtlYCBpcyBhbiBgRXJyb3JgIGNvbnN0cnVjdG9yLCBhc3NlcnRzIHRoYXQgYGZuYCB3aWxsIF9ub3RfIHRocm93IGFuIGVycm9yIHRoYXQgaXMgYW5cbiAgICogaW5zdGFuY2Ugb2YgYGVycm9yTGlrZWAuXG4gICAqIElmIGBlcnJvckxpa2VgIGlzIGFuIGBFcnJvcmAgaW5zdGFuY2UsIGFzc2VydHMgdGhhdCB0aGUgZXJyb3IgdGhyb3duIGlzIF9ub3RfIHRoZSBzYW1lXG4gICAqIGluc3RhbmNlIGFzIGBlcnJvckxpa2VgLlxuICAgKiBJZiBgZXJyTXNnTWF0Y2hlcmAgaXMgcHJvdmlkZWQsIGl0IGFsc28gYXNzZXJ0cyB0aGF0IHRoZSBlcnJvciB0aHJvd24gd2lsbCBfbm90XyBoYXZlIGFcbiAgICogbWVzc2FnZSBtYXRjaGluZyBgZXJyTXNnTWF0Y2hlcmAuXG4gICAqXG4gICAqICAgICBhc3NlcnQuZG9lc05vdFRocm93KGZuLCAnQW55IEVycm9yIHRocm93biBtdXN0IG5vdCBoYXZlIHRoaXMgbWVzc2FnZScpO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RUaHJvdyhmbiwgL0FueSBFcnJvciB0aHJvd24gbXVzdCBub3QgbWF0Y2ggdGhpcy8pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RUaHJvdyhmbiwgRXJyb3IpO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RUaHJvdyhmbiwgZXJyb3JJbnN0YW5jZSk7XG4gICAqICAgICBhc3NlcnQuZG9lc05vdFRocm93KGZuLCBFcnJvciwgJ0Vycm9yIG11c3Qgbm90IGhhdmUgdGhpcyBtZXNzYWdlJyk7XG4gICAqICAgICBhc3NlcnQuZG9lc05vdFRocm93KGZuLCBlcnJvckluc3RhbmNlLCAnRXJyb3IgbXVzdCBub3QgaGF2ZSB0aGlzIG1lc3NhZ2UnKTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90VGhyb3coZm4sIEVycm9yLCAvRXJyb3IgbXVzdCBub3QgbWF0Y2ggdGhpcy8pO1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3RUaHJvdyhmbiwgZXJyb3JJbnN0YW5jZSwgL0Vycm9yIG11c3Qgbm90IG1hdGNoIHRoaXMvKTtcbiAgICpcbiAgICogQG5hbWUgZG9lc05vdFRocm93XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAqIEBwYXJhbSB7RXJyb3JDb25zdHJ1Y3Rvcn0gZXJyb3JMaWtlXG4gICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gZXJyTXNnTWF0Y2hlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0Vycm9yX3R5cGVzXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kb2VzTm90VGhyb3cgPSBmdW5jdGlvbiAoZm4sIGVycm9yTGlrZSwgZXJyTXNnTWF0Y2hlciwgbXNnKSB7XG4gICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgZXJyb3JMaWtlIHx8IGVycm9yTGlrZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgZXJyTXNnTWF0Y2hlciA9IGVycm9yTGlrZTtcbiAgICAgIGVycm9yTGlrZSA9IG51bGw7XG4gICAgfVxuXG4gICAgbmV3IEFzc2VydGlvbihmbiwgbXNnLCBhc3NlcnQuZG9lc05vdFRocm93LCB0cnVlKVxuICAgICAgLnRvLm5vdC50aHJvdyhlcnJvckxpa2UsIGVyck1zZ01hdGNoZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLm9wZXJhdG9yKHZhbDEsIG9wZXJhdG9yLCB2YWwyLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIENvbXBhcmVzIHR3byB2YWx1ZXMgdXNpbmcgYG9wZXJhdG9yYC5cbiAgICpcbiAgICogICAgIGFzc2VydC5vcGVyYXRvcigxLCAnPCcsIDIsICdldmVyeXRoaW5nIGlzIG9rJyk7XG4gICAqICAgICBhc3NlcnQub3BlcmF0b3IoMSwgJz4nLCAyLCAndGhpcyB3aWxsIGZhaWwnKTtcbiAgICpcbiAgICogQG5hbWUgb3BlcmF0b3JcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsMVxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BlcmF0b3JcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsMlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQub3BlcmF0b3IgPSBmdW5jdGlvbiAodmFsLCBvcGVyYXRvciwgdmFsMiwgbXNnKSB7XG4gICAgdmFyIG9rO1xuICAgIHN3aXRjaChvcGVyYXRvcikge1xuICAgICAgY2FzZSAnPT0nOlxuICAgICAgICBvayA9IHZhbCA9PSB2YWwyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJz09PSc6XG4gICAgICAgIG9rID0gdmFsID09PSB2YWwyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJz4nOlxuICAgICAgICBvayA9IHZhbCA+IHZhbDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnPj0nOlxuICAgICAgICBvayA9IHZhbCA+PSB2YWwyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgICBvayA9IHZhbCA8IHZhbDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnPD0nOlxuICAgICAgICBvayA9IHZhbCA8PSB2YWwyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgb2sgPSB2YWwgIT0gdmFsMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICchPT0nOlxuICAgICAgICBvayA9IHZhbCAhPT0gdmFsMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBtc2cgPSBtc2cgPyBtc2cgKyAnOiAnIDogbXNnO1xuICAgICAgICB0aHJvdyBuZXcgY2hhaS5Bc3NlcnRpb25FcnJvcihcbiAgICAgICAgICBtc2cgKyAnSW52YWxpZCBvcGVyYXRvciBcIicgKyBvcGVyYXRvciArICdcIicsXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIGFzc2VydC5vcGVyYXRvclxuICAgICAgICApO1xuICAgIH1cbiAgICB2YXIgdGVzdCA9IG5ldyBBc3NlcnRpb24ob2ssIG1zZywgYXNzZXJ0Lm9wZXJhdG9yLCB0cnVlKTtcbiAgICB0ZXN0LmFzc2VydChcbiAgICAgICAgdHJ1ZSA9PT0gZmxhZyh0ZXN0LCAnb2JqZWN0JylcbiAgICAgICwgJ2V4cGVjdGVkICcgKyB1dGlsLmluc3BlY3QodmFsKSArICcgdG8gYmUgJyArIG9wZXJhdG9yICsgJyAnICsgdXRpbC5pbnNwZWN0KHZhbDIpXG4gICAgICAsICdleHBlY3RlZCAnICsgdXRpbC5pbnNwZWN0KHZhbCkgKyAnIHRvIG5vdCBiZSAnICsgb3BlcmF0b3IgKyAnICcgKyB1dGlsLmluc3BlY3QodmFsMikgKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5jbG9zZVRvKGFjdHVhbCwgZXhwZWN0ZWQsIGRlbHRhLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgdGFyZ2V0IGlzIGVxdWFsIGBleHBlY3RlZGAsIHRvIHdpdGhpbiBhICsvLSBgZGVsdGFgIHJhbmdlLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmNsb3NlVG8oMS41LCAxLCAwLjUsICdudW1iZXJzIGFyZSBjbG9zZScpO1xuICAgKlxuICAgKiBAbmFtZSBjbG9zZVRvXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhY3R1YWxcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGV4cGVjdGVkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuY2xvc2VUbyA9IGZ1bmN0aW9uIChhY3QsIGV4cCwgZGVsdGEsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oYWN0LCBtc2csIGFzc2VydC5jbG9zZVRvLCB0cnVlKS50by5iZS5jbG9zZVRvKGV4cCwgZGVsdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmFwcHJveGltYXRlbHkoYWN0dWFsLCBleHBlY3RlZCwgZGVsdGEsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgaXMgZXF1YWwgYGV4cGVjdGVkYCwgdG8gd2l0aGluIGEgKy8tIGBkZWx0YWAgcmFuZ2UuXG4gICAqXG4gICAqICAgICBhc3NlcnQuYXBwcm94aW1hdGVseSgxLjUsIDEsIDAuNSwgJ251bWJlcnMgYXJlIGNsb3NlJyk7XG4gICAqXG4gICAqIEBuYW1lIGFwcHJveGltYXRlbHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFjdHVhbFxuICAgKiBAcGFyYW0ge051bWJlcn0gZXhwZWN0ZWRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5hcHByb3hpbWF0ZWx5ID0gZnVuY3Rpb24gKGFjdCwgZXhwLCBkZWx0YSwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihhY3QsIG1zZywgYXNzZXJ0LmFwcHJveGltYXRlbHksIHRydWUpXG4gICAgICAudG8uYmUuYXBwcm94aW1hdGVseShleHAsIGRlbHRhKTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5zYW1lTWVtYmVycyhzZXQxLCBzZXQyLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc2V0MWAgYW5kIGBzZXQyYCBoYXZlIHRoZSBzYW1lIG1lbWJlcnMgaW4gYW55IG9yZGVyLiBVc2VzIGFcbiAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNrICg9PT0pLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LnNhbWVNZW1iZXJzKFsgMSwgMiwgMyBdLCBbIDIsIDEsIDMgXSwgJ3NhbWUgbWVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBzYW1lTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzZXQxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LnNhbWVNZW1iZXJzID0gZnVuY3Rpb24gKHNldDEsIHNldDIsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oc2V0MSwgbXNnLCBhc3NlcnQuc2FtZU1lbWJlcnMsIHRydWUpXG4gICAgICAudG8uaGF2ZS5zYW1lLm1lbWJlcnMoc2V0Mik7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5ub3RTYW1lTWVtYmVycyhzZXQxLCBzZXQyLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc2V0MWAgYW5kIGBzZXQyYCBkb24ndCBoYXZlIHRoZSBzYW1lIG1lbWJlcnMgaW4gYW55IG9yZGVyLlxuICAgKiBVc2VzIGEgc3RyaWN0IGVxdWFsaXR5IGNoZWNrICg9PT0pLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdFNhbWVNZW1iZXJzKFsgMSwgMiwgMyBdLCBbIDUsIDEsIDMgXSwgJ25vdCBzYW1lIG1lbWJlcnMnKTtcbiAgICpcbiAgICogQG5hbWUgbm90U2FtZU1lbWJlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gc2V0MVxuICAgKiBAcGFyYW0ge0FycmF5fSBzZXQyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3RTYW1lTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0Lm5vdFNhbWVNZW1iZXJzLCB0cnVlKVxuICAgICAgLnRvLm5vdC5oYXZlLnNhbWUubWVtYmVycyhzZXQyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLnNhbWVEZWVwTWVtYmVycyhzZXQxLCBzZXQyLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc2V0MWAgYW5kIGBzZXQyYCBoYXZlIHRoZSBzYW1lIG1lbWJlcnMgaW4gYW55IG9yZGVyLiBVc2VzIGFcbiAgICogZGVlcCBlcXVhbGl0eSBjaGVjay5cbiAgICpcbiAgICogICAgIGFzc2VydC5zYW1lRGVlcE1lbWJlcnMoWyB7IGE6IDEgfSwgeyBiOiAyIH0sIHsgYzogMyB9IF0sIFt7IGI6IDIgfSwgeyBhOiAxIH0sIHsgYzogMyB9XSwgJ3NhbWUgZGVlcCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIHNhbWVEZWVwTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzZXQxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LnNhbWVEZWVwTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0LnNhbWVEZWVwTWVtYmVycywgdHJ1ZSlcbiAgICAgIC50by5oYXZlLnNhbWUuZGVlcC5tZW1iZXJzKHNldDIpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAubm90U2FtZURlZXBNZW1iZXJzKHNldDEsIHNldDIsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBzZXQxYCBhbmQgYHNldDJgIGRvbid0IGhhdmUgdGhlIHNhbWUgbWVtYmVycyBpbiBhbnkgb3JkZXIuXG4gICAqIFVzZXMgYSBkZWVwIGVxdWFsaXR5IGNoZWNrLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdFNhbWVEZWVwTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgW3sgYjogMiB9LCB7IGE6IDEgfSwgeyBmOiA1IH1dLCAnbm90IHNhbWUgZGVlcCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdFNhbWVEZWVwTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzZXQxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdFNhbWVEZWVwTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0Lm5vdFNhbWVEZWVwTWVtYmVycywgdHJ1ZSlcbiAgICAgIC50by5ub3QuaGF2ZS5zYW1lLmRlZXAubWVtYmVycyhzZXQyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLnNhbWVPcmRlcmVkTWVtYmVycyhzZXQxLCBzZXQyLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc2V0MWAgYW5kIGBzZXQyYCBoYXZlIHRoZSBzYW1lIG1lbWJlcnMgaW4gdGhlIHNhbWUgb3JkZXIuXG4gICAqIFVzZXMgYSBzdHJpY3QgZXF1YWxpdHkgY2hlY2sgKD09PSkuXG4gICAqXG4gICAqICAgICBhc3NlcnQuc2FtZU9yZGVyZWRNZW1iZXJzKFsgMSwgMiwgMyBdLCBbIDEsIDIsIDMgXSwgJ3NhbWUgb3JkZXJlZCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIHNhbWVPcmRlcmVkTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzZXQxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LnNhbWVPcmRlcmVkTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0LnNhbWVPcmRlcmVkTWVtYmVycywgdHJ1ZSlcbiAgICAgIC50by5oYXZlLnNhbWUub3JkZXJlZC5tZW1iZXJzKHNldDIpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAubm90U2FtZU9yZGVyZWRNZW1iZXJzKHNldDEsIHNldDIsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBzZXQxYCBhbmQgYHNldDJgIGRvbid0IGhhdmUgdGhlIHNhbWUgbWVtYmVycyBpbiB0aGUgc2FtZVxuICAgKiBvcmRlci4gVXNlcyBhIHN0cmljdCBlcXVhbGl0eSBjaGVjayAoPT09KS5cbiAgICpcbiAgICogICAgIGFzc2VydC5ub3RTYW1lT3JkZXJlZE1lbWJlcnMoWyAxLCAyLCAzIF0sIFsgMiwgMSwgMyBdLCAnbm90IHNhbWUgb3JkZXJlZCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdFNhbWVPcmRlcmVkTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzZXQxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdFNhbWVPcmRlcmVkTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0Lm5vdFNhbWVPcmRlcmVkTWVtYmVycywgdHJ1ZSlcbiAgICAgIC50by5ub3QuaGF2ZS5zYW1lLm9yZGVyZWQubWVtYmVycyhzZXQyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLnNhbWVEZWVwT3JkZXJlZE1lbWJlcnMoc2V0MSwgc2V0MiwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHNldDFgIGFuZCBgc2V0MmAgaGF2ZSB0aGUgc2FtZSBtZW1iZXJzIGluIHRoZSBzYW1lIG9yZGVyLlxuICAgKiBVc2VzIGEgZGVlcCBlcXVhbGl0eSBjaGVjay5cbiAgICpcbiAgICogYXNzZXJ0LnNhbWVEZWVwT3JkZXJlZE1lbWJlcnMoWyB7IGE6IDEgfSwgeyBiOiAyIH0sIHsgYzogMyB9IF0sIFsgeyBhOiAxIH0sIHsgYjogMiB9LCB7IGM6IDMgfSBdLCAnc2FtZSBkZWVwIG9yZGVyZWQgbWVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBzYW1lRGVlcE9yZGVyZWRNZW1iZXJzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDFcbiAgICogQHBhcmFtIHtBcnJheX0gc2V0MlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuc2FtZURlZXBPcmRlcmVkTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0LnNhbWVEZWVwT3JkZXJlZE1lbWJlcnMsIHRydWUpXG4gICAgICAudG8uaGF2ZS5zYW1lLmRlZXAub3JkZXJlZC5tZW1iZXJzKHNldDIpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAubm90U2FtZURlZXBPcmRlcmVkTWVtYmVycyhzZXQxLCBzZXQyLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc2V0MWAgYW5kIGBzZXQyYCBkb24ndCBoYXZlIHRoZSBzYW1lIG1lbWJlcnMgaW4gdGhlIHNhbWVcbiAgICogb3JkZXIuIFVzZXMgYSBkZWVwIGVxdWFsaXR5IGNoZWNrLlxuICAgKlxuICAgKiBhc3NlcnQubm90U2FtZURlZXBPcmRlcmVkTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgWyB7IGE6IDEgfSwgeyBiOiAyIH0sIHsgejogNSB9IF0sICdub3Qgc2FtZSBkZWVwIG9yZGVyZWQgbWVtYmVycycpO1xuICAgKiBhc3NlcnQubm90U2FtZURlZXBPcmRlcmVkTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgWyB7IGI6IDIgfSwgeyBhOiAxIH0sIHsgYzogMyB9IF0sICdub3Qgc2FtZSBkZWVwIG9yZGVyZWQgbWVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBub3RTYW1lRGVlcE9yZGVyZWRNZW1iZXJzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNldDFcbiAgICogQHBhcmFtIHtBcnJheX0gc2V0MlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQubm90U2FtZURlZXBPcmRlcmVkTWVtYmVycyA9IGZ1bmN0aW9uIChzZXQxLCBzZXQyLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHNldDEsIG1zZywgYXNzZXJ0Lm5vdFNhbWVEZWVwT3JkZXJlZE1lbWJlcnMsIHRydWUpXG4gICAgICAudG8ubm90LmhhdmUuc2FtZS5kZWVwLm9yZGVyZWQubWVtYmVycyhzZXQyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmluY2x1ZGVNZW1iZXJzKHN1cGVyc2V0LCBzdWJzZXQsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBzdWJzZXRgIGlzIGluY2x1ZGVkIGluIGBzdXBlcnNldGAgaW4gYW55IG9yZGVyLiBVc2VzIGFcbiAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNrICg9PT0pLiBEdXBsaWNhdGVzIGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmluY2x1ZGVNZW1iZXJzKFsgMSwgMiwgMyBdLCBbIDIsIDEsIDIgXSwgJ2luY2x1ZGUgbWVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBpbmNsdWRlTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdXBlcnNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJzZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmluY2x1ZGVNZW1iZXJzID0gZnVuY3Rpb24gKHN1cGVyc2V0LCBzdWJzZXQsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oc3VwZXJzZXQsIG1zZywgYXNzZXJ0LmluY2x1ZGVNZW1iZXJzLCB0cnVlKVxuICAgICAgLnRvLmluY2x1ZGUubWVtYmVycyhzdWJzZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAubm90SW5jbHVkZU1lbWJlcnMoc3VwZXJzZXQsIHN1YnNldCwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHN1YnNldGAgaXNuJ3QgaW5jbHVkZWQgaW4gYHN1cGVyc2V0YCBpbiBhbnkgb3JkZXIuIFVzZXMgYVxuICAgKiBzdHJpY3QgZXF1YWxpdHkgY2hlY2sgKD09PSkuIER1cGxpY2F0ZXMgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZU1lbWJlcnMoWyAxLCAyLCAzIF0sIFsgNSwgMSBdLCAnbm90IGluY2x1ZGUgbWVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBub3RJbmNsdWRlTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdXBlcnNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJzZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdEluY2x1ZGVNZW1iZXJzID0gZnVuY3Rpb24gKHN1cGVyc2V0LCBzdWJzZXQsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oc3VwZXJzZXQsIG1zZywgYXNzZXJ0Lm5vdEluY2x1ZGVNZW1iZXJzLCB0cnVlKVxuICAgICAgLnRvLm5vdC5pbmNsdWRlLm1lbWJlcnMoc3Vic2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmluY2x1ZGVEZWVwTWVtYmVycyhzdXBlcnNldCwgc3Vic2V0LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc3Vic2V0YCBpcyBpbmNsdWRlZCBpbiBgc3VwZXJzZXRgIGluIGFueSBvcmRlci4gVXNlcyBhIGRlZXBcbiAgICogZXF1YWxpdHkgY2hlY2suIER1cGxpY2F0ZXMgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaW5jbHVkZURlZXBNZW1iZXJzKFsgeyBhOiAxIH0sIHsgYjogMiB9LCB7IGM6IDMgfSBdLCBbIHsgYjogMiB9LCB7IGE6IDEgfSwgeyBiOiAyIH0gXSwgJ2luY2x1ZGUgZGVlcCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIGluY2x1ZGVEZWVwTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdXBlcnNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJzZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmluY2x1ZGVEZWVwTWVtYmVycyA9IGZ1bmN0aW9uIChzdXBlcnNldCwgc3Vic2V0LCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHN1cGVyc2V0LCBtc2csIGFzc2VydC5pbmNsdWRlRGVlcE1lbWJlcnMsIHRydWUpXG4gICAgICAudG8uaW5jbHVkZS5kZWVwLm1lbWJlcnMoc3Vic2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLm5vdEluY2x1ZGVEZWVwTWVtYmVycyhzdXBlcnNldCwgc3Vic2V0LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgc3Vic2V0YCBpc24ndCBpbmNsdWRlZCBpbiBgc3VwZXJzZXRgIGluIGFueSBvcmRlci4gVXNlcyBhXG4gICAqIGRlZXAgZXF1YWxpdHkgY2hlY2suIER1cGxpY2F0ZXMgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZURlZXBNZW1iZXJzKFsgeyBhOiAxIH0sIHsgYjogMiB9LCB7IGM6IDMgfSBdLCBbIHsgYjogMiB9LCB7IGY6IDUgfSBdLCAnbm90IGluY2x1ZGUgZGVlcCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdEluY2x1ZGVEZWVwTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdXBlcnNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJzZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdEluY2x1ZGVEZWVwTWVtYmVycyA9IGZ1bmN0aW9uIChzdXBlcnNldCwgc3Vic2V0LCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHN1cGVyc2V0LCBtc2csIGFzc2VydC5ub3RJbmNsdWRlRGVlcE1lbWJlcnMsIHRydWUpXG4gICAgICAudG8ubm90LmluY2x1ZGUuZGVlcC5tZW1iZXJzKHN1YnNldCk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5pbmNsdWRlT3JkZXJlZE1lbWJlcnMoc3VwZXJzZXQsIHN1YnNldCwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHN1YnNldGAgaXMgaW5jbHVkZWQgaW4gYHN1cGVyc2V0YCBpbiB0aGUgc2FtZSBvcmRlclxuICAgKiBiZWdpbm5pbmcgd2l0aCB0aGUgZmlyc3QgZWxlbWVudCBpbiBgc3VwZXJzZXRgLiBVc2VzIGEgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNoZWNrICg9PT0pLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmluY2x1ZGVPcmRlcmVkTWVtYmVycyhbIDEsIDIsIDMgXSwgWyAxLCAyIF0sICdpbmNsdWRlIG9yZGVyZWQgbWVtYmVycycpO1xuICAgKlxuICAgKiBAbmFtZSBpbmNsdWRlT3JkZXJlZE1lbWJlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gc3VwZXJzZXRcbiAgICogQHBhcmFtIHtBcnJheX0gc3Vic2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pbmNsdWRlT3JkZXJlZE1lbWJlcnMgPSBmdW5jdGlvbiAoc3VwZXJzZXQsIHN1YnNldCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihzdXBlcnNldCwgbXNnLCBhc3NlcnQuaW5jbHVkZU9yZGVyZWRNZW1iZXJzLCB0cnVlKVxuICAgICAgLnRvLmluY2x1ZGUub3JkZXJlZC5tZW1iZXJzKHN1YnNldCk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5ub3RJbmNsdWRlT3JkZXJlZE1lbWJlcnMoc3VwZXJzZXQsIHN1YnNldCwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYHN1YnNldGAgaXNuJ3QgaW5jbHVkZWQgaW4gYHN1cGVyc2V0YCBpbiB0aGUgc2FtZSBvcmRlclxuICAgKiBiZWdpbm5pbmcgd2l0aCB0aGUgZmlyc3QgZWxlbWVudCBpbiBgc3VwZXJzZXRgLiBVc2VzIGEgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNoZWNrICg9PT0pLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm5vdEluY2x1ZGVPcmRlcmVkTWVtYmVycyhbIDEsIDIsIDMgXSwgWyAyLCAxIF0sICdub3QgaW5jbHVkZSBvcmRlcmVkIG1lbWJlcnMnKTtcbiAgICogICAgIGFzc2VydC5ub3RJbmNsdWRlT3JkZXJlZE1lbWJlcnMoWyAxLCAyLCAzIF0sIFsgMiwgMyBdLCAnbm90IGluY2x1ZGUgb3JkZXJlZCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdEluY2x1ZGVPcmRlcmVkTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdXBlcnNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJzZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0Lm5vdEluY2x1ZGVPcmRlcmVkTWVtYmVycyA9IGZ1bmN0aW9uIChzdXBlcnNldCwgc3Vic2V0LCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKHN1cGVyc2V0LCBtc2csIGFzc2VydC5ub3RJbmNsdWRlT3JkZXJlZE1lbWJlcnMsIHRydWUpXG4gICAgICAudG8ubm90LmluY2x1ZGUub3JkZXJlZC5tZW1iZXJzKHN1YnNldCk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5pbmNsdWRlRGVlcE9yZGVyZWRNZW1iZXJzKHN1cGVyc2V0LCBzdWJzZXQsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBzdWJzZXRgIGlzIGluY2x1ZGVkIGluIGBzdXBlcnNldGAgaW4gdGhlIHNhbWUgb3JkZXJcbiAgICogYmVnaW5uaW5nIHdpdGggdGhlIGZpcnN0IGVsZW1lbnQgaW4gYHN1cGVyc2V0YC4gVXNlcyBhIGRlZXAgZXF1YWxpdHlcbiAgICogY2hlY2suXG4gICAqXG4gICAqICAgICBhc3NlcnQuaW5jbHVkZURlZXBPcmRlcmVkTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgWyB7IGE6IDEgfSwgeyBiOiAyIH0gXSwgJ2luY2x1ZGUgZGVlcCBvcmRlcmVkIG1lbWJlcnMnKTtcbiAgICpcbiAgICogQG5hbWUgaW5jbHVkZURlZXBPcmRlcmVkTWVtYmVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdXBlcnNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJzZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmluY2x1ZGVEZWVwT3JkZXJlZE1lbWJlcnMgPSBmdW5jdGlvbiAoc3VwZXJzZXQsIHN1YnNldCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihzdXBlcnNldCwgbXNnLCBhc3NlcnQuaW5jbHVkZURlZXBPcmRlcmVkTWVtYmVycywgdHJ1ZSlcbiAgICAgIC50by5pbmNsdWRlLmRlZXAub3JkZXJlZC5tZW1iZXJzKHN1YnNldCk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5ub3RJbmNsdWRlRGVlcE9yZGVyZWRNZW1iZXJzKHN1cGVyc2V0LCBzdWJzZXQsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBzdWJzZXRgIGlzbid0IGluY2x1ZGVkIGluIGBzdXBlcnNldGAgaW4gdGhlIHNhbWUgb3JkZXJcbiAgICogYmVnaW5uaW5nIHdpdGggdGhlIGZpcnN0IGVsZW1lbnQgaW4gYHN1cGVyc2V0YC4gVXNlcyBhIGRlZXAgZXF1YWxpdHlcbiAgICogY2hlY2suXG4gICAqXG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZURlZXBPcmRlcmVkTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgWyB7IGE6IDEgfSwgeyBmOiA1IH0gXSwgJ25vdCBpbmNsdWRlIGRlZXAgb3JkZXJlZCBtZW1iZXJzJyk7XG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZURlZXBPcmRlcmVkTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgWyB7IGI6IDIgfSwgeyBhOiAxIH0gXSwgJ25vdCBpbmNsdWRlIGRlZXAgb3JkZXJlZCBtZW1iZXJzJyk7XG4gICAqICAgICBhc3NlcnQubm90SW5jbHVkZURlZXBPcmRlcmVkTWVtYmVycyhbIHsgYTogMSB9LCB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgWyB7IGI6IDIgfSwgeyBjOiAzIH0gXSwgJ25vdCBpbmNsdWRlIGRlZXAgb3JkZXJlZCBtZW1iZXJzJyk7XG4gICAqXG4gICAqIEBuYW1lIG5vdEluY2x1ZGVEZWVwT3JkZXJlZE1lbWJlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gc3VwZXJzZXRcbiAgICogQHBhcmFtIHtBcnJheX0gc3Vic2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5ub3RJbmNsdWRlRGVlcE9yZGVyZWRNZW1iZXJzID0gZnVuY3Rpb24gKHN1cGVyc2V0LCBzdWJzZXQsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24oc3VwZXJzZXQsIG1zZywgYXNzZXJ0Lm5vdEluY2x1ZGVEZWVwT3JkZXJlZE1lbWJlcnMsIHRydWUpXG4gICAgICAudG8ubm90LmluY2x1ZGUuZGVlcC5vcmRlcmVkLm1lbWJlcnMoc3Vic2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLm9uZU9mKGluTGlzdCwgbGlzdCwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgbm9uLW9iamVjdCwgbm9uLWFycmF5IHZhbHVlIGBpbkxpc3RgIGFwcGVhcnMgaW4gdGhlIGZsYXQgYXJyYXkgYGxpc3RgLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0Lm9uZU9mKDEsIFsgMiwgMSBdLCAnTm90IGZvdW5kIGluIGxpc3QnKTtcbiAgICpcbiAgICogQG5hbWUgb25lT2ZcbiAgICogQHBhcmFtIHsqfSBpbkxpc3RcbiAgICogQHBhcmFtIHtBcnJheTwqPn0gbGlzdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQub25lT2YgPSBmdW5jdGlvbiAoaW5MaXN0LCBsaXN0LCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKGluTGlzdCwgbXNnLCBhc3NlcnQub25lT2YsIHRydWUpLnRvLmJlLm9uZU9mKGxpc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAuY2hhbmdlcyhmdW5jdGlvbiwgb2JqZWN0LCBwcm9wZXJ0eSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBjaGFuZ2VzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5LlxuICAgKlxuICAgKiAgICAgdmFyIG9iaiA9IHsgdmFsOiAxMCB9O1xuICAgKiAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7IG9iai52YWwgPSAyMiB9O1xuICAgKiAgICAgYXNzZXJ0LmNoYW5nZXMoZm4sIG9iaiwgJ3ZhbCcpO1xuICAgKlxuICAgKiBAbmFtZSBjaGFuZ2VzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuY2hhbmdlcyA9IGZ1bmN0aW9uIChmbiwgb2JqLCBwcm9wLCBtc2cpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMyAmJiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtc2cgPSBwcm9wO1xuICAgICAgcHJvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgbmV3IEFzc2VydGlvbihmbiwgbXNnLCBhc3NlcnQuY2hhbmdlcywgdHJ1ZSkudG8uY2hhbmdlKG9iaiwgcHJvcCk7XG4gIH1cblxuICAgLyoqXG4gICAqICMjIyAuY2hhbmdlc0J5KGZ1bmN0aW9uLCBvYmplY3QsIHByb3BlcnR5LCBkZWx0YSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBjaGFuZ2VzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGJ5IGFuIGFtb3VudCAoZGVsdGEpLlxuICAgKlxuICAgKiAgICAgdmFyIG9iaiA9IHsgdmFsOiAxMCB9O1xuICAgKiAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7IG9iai52YWwgKz0gMiB9O1xuICAgKiAgICAgYXNzZXJ0LmNoYW5nZXNCeShmbiwgb2JqLCAndmFsJywgMik7XG4gICAqXG4gICAqIEBuYW1lIGNoYW5nZXNCeVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtb2RpZmllciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IG9yIGdldHRlciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgbmFtZSBfb3B0aW9uYWxfXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFuZ2UgYW1vdW50IChkZWx0YSlcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuY2hhbmdlc0J5ID0gZnVuY3Rpb24gKGZuLCBvYmosIHByb3AsIGRlbHRhLCBtc2cpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gNCAmJiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgdG1wTXNnID0gZGVsdGE7XG4gICAgICBkZWx0YSA9IHByb3A7XG4gICAgICBtc2cgPSB0bXBNc2c7XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgICBkZWx0YSA9IHByb3A7XG4gICAgICBwcm9wID0gbnVsbDtcbiAgICB9XG5cbiAgICBuZXcgQXNzZXJ0aW9uKGZuLCBtc2csIGFzc2VydC5jaGFuZ2VzQnksIHRydWUpXG4gICAgICAudG8uY2hhbmdlKG9iaiwgcHJvcCkuYnkoZGVsdGEpO1xuICB9XG5cbiAgIC8qKlxuICAgKiAjIyMgLmRvZXNOb3RDaGFuZ2UoZnVuY3Rpb24sIG9iamVjdCwgcHJvcGVydHksIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGEgZnVuY3Rpb24gZG9lcyBub3QgY2hhbmdlIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5LlxuICAgKlxuICAgKiAgICAgdmFyIG9iaiA9IHsgdmFsOiAxMCB9O1xuICAgKiAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdmb28nKTsgfTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90Q2hhbmdlKGZuLCBvYmosICd2YWwnKTtcbiAgICpcbiAgICogQG5hbWUgZG9lc05vdENoYW5nZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtb2RpZmllciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IG9yIGdldHRlciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgbmFtZSBfb3B0aW9uYWxfXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRvZXNOb3RDaGFuZ2UgPSBmdW5jdGlvbiAoZm4sIG9iaiwgcHJvcCwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbXNnID0gcHJvcDtcbiAgICAgIHByb3AgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXNzZXJ0aW9uKGZuLCBtc2csIGFzc2VydC5kb2VzTm90Q2hhbmdlLCB0cnVlKVxuICAgICAgLnRvLm5vdC5jaGFuZ2Uob2JqLCBwcm9wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmNoYW5nZXNCdXROb3RCeShmdW5jdGlvbiwgb2JqZWN0LCBwcm9wZXJ0eSwgZGVsdGEsIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGEgZnVuY3Rpb24gZG9lcyBub3QgY2hhbmdlIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IG9yIG9mIGEgZnVuY3Rpb24ncyByZXR1cm4gdmFsdWUgYnkgYW4gYW1vdW50IChkZWx0YSlcbiAgICpcbiAgICogICAgIHZhciBvYmogPSB7IHZhbDogMTAgfTtcbiAgICogICAgIHZhciBmbiA9IGZ1bmN0aW9uKCkgeyBvYmoudmFsICs9IDEwIH07XG4gICAqICAgICBhc3NlcnQuY2hhbmdlc0J1dE5vdEJ5KGZuLCBvYmosICd2YWwnLCA1KTtcbiAgICpcbiAgICogQG5hbWUgY2hhbmdlc0J1dE5vdEJ5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5nZSBhbW91bnQgKGRlbHRhKVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5jaGFuZ2VzQnV0Tm90QnkgPSBmdW5jdGlvbiAoZm4sIG9iaiwgcHJvcCwgZGVsdGEsIG1zZykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSA0ICYmIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciB0bXBNc2cgPSBkZWx0YTtcbiAgICAgIGRlbHRhID0gcHJvcDtcbiAgICAgIG1zZyA9IHRtcE1zZztcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIGRlbHRhID0gcHJvcDtcbiAgICAgIHByb3AgPSBudWxsO1xuICAgIH1cblxuICAgIG5ldyBBc3NlcnRpb24oZm4sIG1zZywgYXNzZXJ0LmNoYW5nZXNCdXROb3RCeSwgdHJ1ZSlcbiAgICAgIC50by5jaGFuZ2Uob2JqLCBwcm9wKS5idXQubm90LmJ5KGRlbHRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmluY3JlYXNlcyhmdW5jdGlvbiwgb2JqZWN0LCBwcm9wZXJ0eSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBpbmNyZWFzZXMgYSBudW1lcmljIG9iamVjdCBwcm9wZXJ0eS5cbiAgICpcbiAgICogICAgIHZhciBvYmogPSB7IHZhbDogMTAgfTtcbiAgICogICAgIHZhciBmbiA9IGZ1bmN0aW9uKCkgeyBvYmoudmFsID0gMTMgfTtcbiAgICogICAgIGFzc2VydC5pbmNyZWFzZXMoZm4sIG9iaiwgJ3ZhbCcpO1xuICAgKlxuICAgKiBAbmFtZSBpbmNyZWFzZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbW9kaWZpZXIgZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBvciBnZXR0ZXIgZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IG5hbWUgX29wdGlvbmFsX1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pbmNyZWFzZXMgPSBmdW5jdGlvbiAoZm4sIG9iaiwgcHJvcCwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbXNnID0gcHJvcDtcbiAgICAgIHByb3AgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXNzZXJ0aW9uKGZuLCBtc2csIGFzc2VydC5pbmNyZWFzZXMsIHRydWUpXG4gICAgICAudG8uaW5jcmVhc2Uob2JqLCBwcm9wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmluY3JlYXNlc0J5KGZ1bmN0aW9uLCBvYmplY3QsIHByb3BlcnR5LCBkZWx0YSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBpbmNyZWFzZXMgYSBudW1lcmljIG9iamVjdCBwcm9wZXJ0eSBvciBhIGZ1bmN0aW9uJ3MgcmV0dXJuIHZhbHVlIGJ5IGFuIGFtb3VudCAoZGVsdGEpLlxuICAgKlxuICAgKiAgICAgdmFyIG9iaiA9IHsgdmFsOiAxMCB9O1xuICAgKiAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7IG9iai52YWwgKz0gMTAgfTtcbiAgICogICAgIGFzc2VydC5pbmNyZWFzZXNCeShmbiwgb2JqLCAndmFsJywgMTApO1xuICAgKlxuICAgKiBAbmFtZSBpbmNyZWFzZXNCeVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtb2RpZmllciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IG9yIGdldHRlciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgbmFtZSBfb3B0aW9uYWxfXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFuZ2UgYW1vdW50IChkZWx0YSlcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaW5jcmVhc2VzQnkgPSBmdW5jdGlvbiAoZm4sIG9iaiwgcHJvcCwgZGVsdGEsIG1zZykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSA0ICYmIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciB0bXBNc2cgPSBkZWx0YTtcbiAgICAgIGRlbHRhID0gcHJvcDtcbiAgICAgIG1zZyA9IHRtcE1zZztcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIGRlbHRhID0gcHJvcDtcbiAgICAgIHByb3AgPSBudWxsO1xuICAgIH1cblxuICAgIG5ldyBBc3NlcnRpb24oZm4sIG1zZywgYXNzZXJ0LmluY3JlYXNlc0J5LCB0cnVlKVxuICAgICAgLnRvLmluY3JlYXNlKG9iaiwgcHJvcCkuYnkoZGVsdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAuZG9lc05vdEluY3JlYXNlKGZ1bmN0aW9uLCBvYmplY3QsIHByb3BlcnR5LCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBhIGZ1bmN0aW9uIGRvZXMgbm90IGluY3JlYXNlIGEgbnVtZXJpYyBvYmplY3QgcHJvcGVydHkuXG4gICAqXG4gICAqICAgICB2YXIgb2JqID0geyB2YWw6IDEwIH07XG4gICAqICAgICB2YXIgZm4gPSBmdW5jdGlvbigpIHsgb2JqLnZhbCA9IDggfTtcbiAgICogICAgIGFzc2VydC5kb2VzTm90SW5jcmVhc2UoZm4sIG9iaiwgJ3ZhbCcpO1xuICAgKlxuICAgKiBAbmFtZSBkb2VzTm90SW5jcmVhc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbW9kaWZpZXIgZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBvciBnZXR0ZXIgZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IG5hbWUgX29wdGlvbmFsX1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kb2VzTm90SW5jcmVhc2UgPSBmdW5jdGlvbiAoZm4sIG9iaiwgcHJvcCwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbXNnID0gcHJvcDtcbiAgICAgIHByb3AgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXNzZXJ0aW9uKGZuLCBtc2csIGFzc2VydC5kb2VzTm90SW5jcmVhc2UsIHRydWUpXG4gICAgICAudG8ubm90LmluY3JlYXNlKG9iaiwgcHJvcCk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5pbmNyZWFzZXNCdXROb3RCeShmdW5jdGlvbiwgb2JqZWN0LCBwcm9wZXJ0eSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBkb2VzIG5vdCBpbmNyZWFzZSBhIG51bWVyaWMgb2JqZWN0IHByb3BlcnR5IG9yIGZ1bmN0aW9uJ3MgcmV0dXJuIHZhbHVlIGJ5IGFuIGFtb3VudCAoZGVsdGEpLlxuICAgKlxuICAgKiAgICAgdmFyIG9iaiA9IHsgdmFsOiAxMCB9O1xuICAgKiAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7IG9iai52YWwgPSAxNSB9O1xuICAgKiAgICAgYXNzZXJ0LmluY3JlYXNlc0J1dE5vdEJ5KGZuLCBvYmosICd2YWwnLCAxMCk7XG4gICAqXG4gICAqIEBuYW1lIGluY3JlYXNlc0J1dE5vdEJ5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5nZSBhbW91bnQgKGRlbHRhKVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5pbmNyZWFzZXNCdXROb3RCeSA9IGZ1bmN0aW9uIChmbiwgb2JqLCBwcm9wLCBkZWx0YSwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDQgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHRtcE1zZyA9IGRlbHRhO1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgbXNnID0gdG1wTXNnO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgcHJvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgbmV3IEFzc2VydGlvbihmbiwgbXNnLCBhc3NlcnQuaW5jcmVhc2VzQnV0Tm90QnksIHRydWUpXG4gICAgICAudG8uaW5jcmVhc2Uob2JqLCBwcm9wKS5idXQubm90LmJ5KGRlbHRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmRlY3JlYXNlcyhmdW5jdGlvbiwgb2JqZWN0LCBwcm9wZXJ0eSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBkZWNyZWFzZXMgYSBudW1lcmljIG9iamVjdCBwcm9wZXJ0eS5cbiAgICpcbiAgICogICAgIHZhciBvYmogPSB7IHZhbDogMTAgfTtcbiAgICogICAgIHZhciBmbiA9IGZ1bmN0aW9uKCkgeyBvYmoudmFsID0gNSB9O1xuICAgKiAgICAgYXNzZXJ0LmRlY3JlYXNlcyhmbiwgb2JqLCAndmFsJyk7XG4gICAqXG4gICAqIEBuYW1lIGRlY3JlYXNlc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtb2RpZmllciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IG9yIGdldHRlciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgbmFtZSBfb3B0aW9uYWxfXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmRlY3JlYXNlcyA9IGZ1bmN0aW9uIChmbiwgb2JqLCBwcm9wLCBtc2cpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMyAmJiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtc2cgPSBwcm9wO1xuICAgICAgcHJvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBc3NlcnRpb24oZm4sIG1zZywgYXNzZXJ0LmRlY3JlYXNlcywgdHJ1ZSlcbiAgICAgIC50by5kZWNyZWFzZShvYmosIHByb3ApO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAuZGVjcmVhc2VzQnkoZnVuY3Rpb24sIG9iamVjdCwgcHJvcGVydHksIGRlbHRhLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBhIGZ1bmN0aW9uIGRlY3JlYXNlcyBhIG51bWVyaWMgb2JqZWN0IHByb3BlcnR5IG9yIGEgZnVuY3Rpb24ncyByZXR1cm4gdmFsdWUgYnkgYW4gYW1vdW50IChkZWx0YSlcbiAgICpcbiAgICogICAgIHZhciBvYmogPSB7IHZhbDogMTAgfTtcbiAgICogICAgIHZhciBmbiA9IGZ1bmN0aW9uKCkgeyBvYmoudmFsIC09IDUgfTtcbiAgICogICAgIGFzc2VydC5kZWNyZWFzZXNCeShmbiwgb2JqLCAndmFsJywgNSk7XG4gICAqXG4gICAqIEBuYW1lIGRlY3JlYXNlc0J5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5nZSBhbW91bnQgKGRlbHRhKVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kZWNyZWFzZXNCeSA9IGZ1bmN0aW9uIChmbiwgb2JqLCBwcm9wLCBkZWx0YSwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDQgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHRtcE1zZyA9IGRlbHRhO1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgbXNnID0gdG1wTXNnO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgcHJvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgbmV3IEFzc2VydGlvbihmbiwgbXNnLCBhc3NlcnQuZGVjcmVhc2VzQnksIHRydWUpXG4gICAgICAudG8uZGVjcmVhc2Uob2JqLCBwcm9wKS5ieShkZWx0YSk7XG4gIH1cblxuICAvKipcbiAgICogIyMjIC5kb2VzTm90RGVjcmVhc2UoZnVuY3Rpb24sIG9iamVjdCwgcHJvcGVydHksIFttZXNzYWdlXSlcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGEgZnVuY3Rpb24gZG9lcyBub3QgZGVjcmVhc2VzIGEgbnVtZXJpYyBvYmplY3QgcHJvcGVydHkuXG4gICAqXG4gICAqICAgICB2YXIgb2JqID0geyB2YWw6IDEwIH07XG4gICAqICAgICB2YXIgZm4gPSBmdW5jdGlvbigpIHsgb2JqLnZhbCA9IDE1IH07XG4gICAqICAgICBhc3NlcnQuZG9lc05vdERlY3JlYXNlKGZuLCBvYmosICd2YWwnKTtcbiAgICpcbiAgICogQG5hbWUgZG9lc05vdERlY3JlYXNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuZG9lc05vdERlY3JlYXNlID0gZnVuY3Rpb24gKGZuLCBvYmosIHByb3AsIG1zZykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzICYmIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG1zZyA9IHByb3A7XG4gICAgICBwcm9wID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEFzc2VydGlvbihmbiwgbXNnLCBhc3NlcnQuZG9lc05vdERlY3JlYXNlLCB0cnVlKVxuICAgICAgLnRvLm5vdC5kZWNyZWFzZShvYmosIHByb3ApO1xuICB9XG5cbiAgLyoqXG4gICAqICMjIyAuZG9lc05vdERlY3JlYXNlQnkoZnVuY3Rpb24sIG9iamVjdCwgcHJvcGVydHksIGRlbHRhLCBbbWVzc2FnZV0pXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBhIGZ1bmN0aW9uIGRvZXMgbm90IGRlY3JlYXNlcyBhIG51bWVyaWMgb2JqZWN0IHByb3BlcnR5IG9yIGEgZnVuY3Rpb24ncyByZXR1cm4gdmFsdWUgYnkgYW4gYW1vdW50IChkZWx0YSlcbiAgICpcbiAgICogICAgIHZhciBvYmogPSB7IHZhbDogMTAgfTtcbiAgICogICAgIHZhciBmbiA9IGZ1bmN0aW9uKCkgeyBvYmoudmFsID0gNSB9O1xuICAgKiAgICAgYXNzZXJ0LmRvZXNOb3REZWNyZWFzZUJ5KGZuLCBvYmosICd2YWwnLCAxKTtcbiAgICpcbiAgICogQG5hbWUgZG9lc05vdERlY3JlYXNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5nZSBhbW91bnQgKGRlbHRhKVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kb2VzTm90RGVjcmVhc2VCeSA9IGZ1bmN0aW9uIChmbiwgb2JqLCBwcm9wLCBkZWx0YSwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDQgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHRtcE1zZyA9IGRlbHRhO1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgbXNnID0gdG1wTXNnO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgcHJvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBc3NlcnRpb24oZm4sIG1zZywgYXNzZXJ0LmRvZXNOb3REZWNyZWFzZUJ5LCB0cnVlKVxuICAgICAgLnRvLm5vdC5kZWNyZWFzZShvYmosIHByb3ApLmJ5KGRlbHRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAjIyMgLmRlY3JlYXNlc0J1dE5vdEJ5KGZ1bmN0aW9uLCBvYmplY3QsIHByb3BlcnR5LCBkZWx0YSwgW21lc3NhZ2VdKVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYSBmdW5jdGlvbiBkb2VzIG5vdCBkZWNyZWFzZXMgYSBudW1lcmljIG9iamVjdCBwcm9wZXJ0eSBvciBhIGZ1bmN0aW9uJ3MgcmV0dXJuIHZhbHVlIGJ5IGFuIGFtb3VudCAoZGVsdGEpXG4gICAqXG4gICAqICAgICB2YXIgb2JqID0geyB2YWw6IDEwIH07XG4gICAqICAgICB2YXIgZm4gPSBmdW5jdGlvbigpIHsgb2JqLnZhbCA9IDUgfTtcbiAgICogICAgIGFzc2VydC5kZWNyZWFzZXNCdXROb3RCeShmbiwgb2JqLCAndmFsJywgMSk7XG4gICAqXG4gICAqIEBuYW1lIGRlY3JlYXNlc0J1dE5vdEJ5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1vZGlmaWVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb3IgZ2V0dGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBuYW1lIF9vcHRpb25hbF9cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5nZSBhbW91bnQgKGRlbHRhKVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBfb3B0aW9uYWxfXG4gICAqIEBuYW1lc3BhY2UgQXNzZXJ0XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFzc2VydC5kZWNyZWFzZXNCdXROb3RCeSA9IGZ1bmN0aW9uIChmbiwgb2JqLCBwcm9wLCBkZWx0YSwgbXNnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDQgJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHRtcE1zZyA9IGRlbHRhO1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgbXNnID0gdG1wTXNnO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgZGVsdGEgPSBwcm9wO1xuICAgICAgcHJvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgbmV3IEFzc2VydGlvbihmbiwgbXNnLCBhc3NlcnQuZGVjcmVhc2VzQnV0Tm90QnksIHRydWUpXG4gICAgICAudG8uZGVjcmVhc2Uob2JqLCBwcm9wKS5idXQubm90LmJ5KGRlbHRhKTtcbiAgfVxuXG4gIC8qIVxuICAgKiAjIyMgLmlmRXJyb3Iob2JqZWN0KVxuICAgKlxuICAgKiBBc3NlcnRzIGlmIHZhbHVlIGlzIG5vdCBhIGZhbHNlIHZhbHVlLCBhbmQgdGhyb3dzIGlmIGl0IGlzIGEgdHJ1ZSB2YWx1ZS5cbiAgICogVGhpcyBpcyBhZGRlZCB0byBhbGxvdyBmb3IgY2hhaSB0byBiZSBhIGRyb3AtaW4gcmVwbGFjZW1lbnQgZm9yIE5vZGUnc1xuICAgKiBhc3NlcnQgY2xhc3MuXG4gICAqXG4gICAqICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdJIGFtIGEgY3VzdG9tIGVycm9yJyk7XG4gICAqICAgICBhc3NlcnQuaWZFcnJvcihlcnIpOyAvLyBSZXRocm93cyBlcnIhXG4gICAqXG4gICAqIEBuYW1lIGlmRXJyb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaWZFcnJvciA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICB0aHJvdyh2YWwpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc0V4dGVuc2libGUob2JqZWN0KVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaXMgZXh0ZW5zaWJsZSAoY2FuIGhhdmUgbmV3IHByb3BlcnRpZXMgYWRkZWQgdG8gaXQpLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzRXh0ZW5zaWJsZSh7fSk7XG4gICAqXG4gICAqIEBuYW1lIGlzRXh0ZW5zaWJsZVxuICAgKiBAYWxpYXMgZXh0ZW5zaWJsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzRXh0ZW5zaWJsZSA9IGZ1bmN0aW9uIChvYmosIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24ob2JqLCBtc2csIGFzc2VydC5pc0V4dGVuc2libGUsIHRydWUpLnRvLmJlLmV4dGVuc2libGU7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOb3RFeHRlbnNpYmxlKG9iamVjdClcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IGBvYmplY3RgIGlzIF9ub3RfIGV4dGVuc2libGUuXG4gICAqXG4gICAqICAgICB2YXIgbm9uRXh0ZW5zaWJsZU9iamVjdCA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSk7XG4gICAqICAgICB2YXIgc2VhbGVkT2JqZWN0ID0gT2JqZWN0LnNlYWwoe30pO1xuICAgKiAgICAgdmFyIGZyb3plbk9iamVjdCA9IE9iamVjdC5mcmVlemUoe30pO1xuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzTm90RXh0ZW5zaWJsZShub25FeHRlbnNpYmxlT2JqZWN0KTtcbiAgICogICAgIGFzc2VydC5pc05vdEV4dGVuc2libGUoc2VhbGVkT2JqZWN0KTtcbiAgICogICAgIGFzc2VydC5pc05vdEV4dGVuc2libGUoZnJvemVuT2JqZWN0KTtcbiAgICpcbiAgICogQG5hbWUgaXNOb3RFeHRlbnNpYmxlXG4gICAqIEBhbGlhcyBub3RFeHRlbnNpYmxlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNOb3RFeHRlbnNpYmxlID0gZnVuY3Rpb24gKG9iaiwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0LmlzTm90RXh0ZW5zaWJsZSwgdHJ1ZSkudG8ubm90LmJlLmV4dGVuc2libGU7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNTZWFsZWQob2JqZWN0KVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaXMgc2VhbGVkIChjYW5ub3QgaGF2ZSBuZXcgcHJvcGVydGllcyBhZGRlZCB0byBpdFxuICAgKiBhbmQgaXRzIGV4aXN0aW5nIHByb3BlcnRpZXMgY2Fubm90IGJlIHJlbW92ZWQpLlxuICAgKlxuICAgKiAgICAgdmFyIHNlYWxlZE9iamVjdCA9IE9iamVjdC5zZWFsKHt9KTtcbiAgICogICAgIHZhciBmcm96ZW5PYmplY3QgPSBPYmplY3Quc2VhbCh7fSk7XG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNTZWFsZWQoc2VhbGVkT2JqZWN0KTtcbiAgICogICAgIGFzc2VydC5pc1NlYWxlZChmcm96ZW5PYmplY3QpO1xuICAgKlxuICAgKiBAbmFtZSBpc1NlYWxlZFxuICAgKiBAYWxpYXMgc2VhbGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNTZWFsZWQgPSBmdW5jdGlvbiAob2JqLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuaXNTZWFsZWQsIHRydWUpLnRvLmJlLnNlYWxlZDtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdFNlYWxlZChvYmplY3QpXG4gICAqXG4gICAqIEFzc2VydHMgdGhhdCBgb2JqZWN0YCBpcyBfbm90XyBzZWFsZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNOb3RTZWFsZWQoe30pO1xuICAgKlxuICAgKiBAbmFtZSBpc05vdFNlYWxlZFxuICAgKiBAYWxpYXMgbm90U2VhbGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNOb3RTZWFsZWQgPSBmdW5jdGlvbiAob2JqLCBtc2cpIHtcbiAgICBuZXcgQXNzZXJ0aW9uKG9iaiwgbXNnLCBhc3NlcnQuaXNOb3RTZWFsZWQsIHRydWUpLnRvLm5vdC5iZS5zZWFsZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNGcm96ZW4ob2JqZWN0KVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaXMgZnJvemVuIChjYW5ub3QgaGF2ZSBuZXcgcHJvcGVydGllcyBhZGRlZCB0byBpdFxuICAgKiBhbmQgaXRzIGV4aXN0aW5nIHByb3BlcnRpZXMgY2Fubm90IGJlIG1vZGlmaWVkKS5cbiAgICpcbiAgICogICAgIHZhciBmcm96ZW5PYmplY3QgPSBPYmplY3QuZnJlZXplKHt9KTtcbiAgICogICAgIGFzc2VydC5mcm96ZW4oZnJvemVuT2JqZWN0KTtcbiAgICpcbiAgICogQG5hbWUgaXNGcm96ZW5cbiAgICogQGFsaWFzIGZyb3plblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzRnJvemVuID0gZnVuY3Rpb24gKG9iaiwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0LmlzRnJvemVuLCB0cnVlKS50by5iZS5mcm96ZW47XG4gIH07XG5cbiAgLyoqXG4gICAqICMjIyAuaXNOb3RGcm96ZW4ob2JqZWN0KVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgYG9iamVjdGAgaXMgX25vdF8gZnJvemVuLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0LmlzTm90RnJvemVuKHt9KTtcbiAgICpcbiAgICogQG5hbWUgaXNOb3RGcm96ZW5cbiAgICogQGFsaWFzIG5vdEZyb3plblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzTm90RnJvemVuID0gZnVuY3Rpb24gKG9iaiwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbihvYmosIG1zZywgYXNzZXJ0LmlzTm90RnJvemVuLCB0cnVlKS50by5ub3QuYmUuZnJvemVuO1xuICB9O1xuXG4gIC8qKlxuICAgKiAjIyMgLmlzRW1wdHkodGFyZ2V0KVxuICAgKlxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHRhcmdldCBkb2VzIG5vdCBjb250YWluIGFueSB2YWx1ZXMuXG4gICAqIEZvciBhcnJheXMgYW5kIHN0cmluZ3MsIGl0IGNoZWNrcyB0aGUgYGxlbmd0aGAgcHJvcGVydHkuXG4gICAqIEZvciBgTWFwYCBhbmQgYFNldGAgaW5zdGFuY2VzLCBpdCBjaGVja3MgdGhlIGBzaXplYCBwcm9wZXJ0eS5cbiAgICogRm9yIG5vbi1mdW5jdGlvbiBvYmplY3RzLCBpdCBnZXRzIHRoZSBjb3VudCBvZiBvd25cbiAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5cy5cbiAgICpcbiAgICogICAgIGFzc2VydC5pc0VtcHR5KFtdKTtcbiAgICogICAgIGFzc2VydC5pc0VtcHR5KCcnKTtcbiAgICogICAgIGFzc2VydC5pc0VtcHR5KG5ldyBNYXApO1xuICAgKiAgICAgYXNzZXJ0LmlzRW1wdHkoe30pO1xuICAgKlxuICAgKiBAbmFtZSBpc0VtcHR5XG4gICAqIEBhbGlhcyBlbXB0eVxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxTdHJpbmd8TWFwfFNldH0gdGFyZ2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIF9vcHRpb25hbF9cbiAgICogQG5hbWVzcGFjZSBBc3NlcnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXNzZXJ0LmlzRW1wdHkgPSBmdW5jdGlvbih2YWwsIG1zZykge1xuICAgIG5ldyBBc3NlcnRpb24odmFsLCBtc2csIGFzc2VydC5pc0VtcHR5LCB0cnVlKS50by5iZS5lbXB0eTtcbiAgfTtcblxuICAvKipcbiAgICogIyMjIC5pc05vdEVtcHR5KHRhcmdldClcbiAgICpcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSB0YXJnZXQgY29udGFpbnMgdmFsdWVzLlxuICAgKiBGb3IgYXJyYXlzIGFuZCBzdHJpbmdzLCBpdCBjaGVja3MgdGhlIGBsZW5ndGhgIHByb3BlcnR5LlxuICAgKiBGb3IgYE1hcGAgYW5kIGBTZXRgIGluc3RhbmNlcywgaXQgY2hlY2tzIHRoZSBgc2l6ZWAgcHJvcGVydHkuXG4gICAqIEZvciBub24tZnVuY3Rpb24gb2JqZWN0cywgaXQgZ2V0cyB0aGUgY291bnQgb2Ygb3duXG4gICAqIGVudW1lcmFibGUgc3RyaW5nIGtleXMuXG4gICAqXG4gICAqICAgICBhc3NlcnQuaXNOb3RFbXB0eShbMSwgMl0pO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90RW1wdHkoJzM0Jyk7XG4gICAqICAgICBhc3NlcnQuaXNOb3RFbXB0eShuZXcgU2V0KFs1LCA2XSkpO1xuICAgKiAgICAgYXNzZXJ0LmlzTm90RW1wdHkoeyBrZXk6IDcgfSk7XG4gICAqXG4gICAqIEBuYW1lIGlzTm90RW1wdHlcbiAgICogQGFsaWFzIG5vdEVtcHR5XG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fFN0cmluZ3xNYXB8U2V0fSB0YXJnZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgX29wdGlvbmFsX1xuICAgKiBAbmFtZXNwYWNlIEFzc2VydFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhc3NlcnQuaXNOb3RFbXB0eSA9IGZ1bmN0aW9uKHZhbCwgbXNnKSB7XG4gICAgbmV3IEFzc2VydGlvbih2YWwsIG1zZywgYXNzZXJ0LmlzTm90RW1wdHksIHRydWUpLnRvLm5vdC5iZS5lbXB0eTtcbiAgfTtcblxuICAvKiFcbiAgICogQWxpYXNlcy5cbiAgICovXG5cbiAgKGZ1bmN0aW9uIGFsaWFzKG5hbWUsIGFzKXtcbiAgICBhc3NlcnRbYXNdID0gYXNzZXJ0W25hbWVdO1xuICAgIHJldHVybiBhbGlhcztcbiAgfSlcbiAgKCdpc09rJywgJ29rJylcbiAgKCdpc05vdE9rJywgJ25vdE9rJylcbiAgKCd0aHJvd3MnLCAndGhyb3cnKVxuICAoJ3Rocm93cycsICdUaHJvdycpXG4gICgnaXNFeHRlbnNpYmxlJywgJ2V4dGVuc2libGUnKVxuICAoJ2lzTm90RXh0ZW5zaWJsZScsICdub3RFeHRlbnNpYmxlJylcbiAgKCdpc1NlYWxlZCcsICdzZWFsZWQnKVxuICAoJ2lzTm90U2VhbGVkJywgJ25vdFNlYWxlZCcpXG4gICgnaXNGcm96ZW4nLCAnZnJvemVuJylcbiAgKCdpc05vdEZyb3plbicsICdub3RGcm96ZW4nKVxuICAoJ2lzRW1wdHknLCAnZW1wdHknKVxuICAoJ2lzTm90RW1wdHknLCAnbm90RW1wdHknKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vKiAhXG4gKiB0eXBlLWRldGVjdFxuICogQ29weXJpZ2h0KGMpIDIwMTMgamFrZSBsdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xudmFyIGdldFByb3RvdHlwZU9mRXhpc3RzID0gdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiA9PT0gJ2Z1bmN0aW9uJztcbnZhciBwcm9taXNlRXhpc3RzID0gdHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbic7XG52YXIgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHNlbGY7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbnZhciBpc0RvbSA9ICdsb2NhdGlvbicgaW4gZ2xvYmFsT2JqZWN0ICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsT2JqZWN0O1xudmFyIGh0bWxFbGVtZW50RXhpc3RzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcbnZhciBpc0FycmF5RXhpc3RzID0gdHlwZW9mIEFycmF5LmlzQXJyYXkgPT09ICdmdW5jdGlvbic7XG52YXIgc3ltYm9sRXhpc3RzID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgbWFwRXhpc3RzID0gdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc2V0RXhpc3RzID0gdHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgd2Vha01hcEV4aXN0cyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJztcbnZhciB3ZWFrU2V0RXhpc3RzID0gdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnO1xudmFyIGRhdGFWaWV3RXhpc3RzID0gdHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJztcbnZhciBzeW1ib2xJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJztcbnZhciBzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnICE9PSAndW5kZWZpbmVkJztcbnZhciBzZXRFbnRyaWVzRXhpc3RzID0gc2V0RXhpc3RzICYmIHR5cGVvZiBTZXQucHJvdG90eXBlLmVudHJpZXMgPT09ICdmdW5jdGlvbic7XG52YXIgbWFwRW50cmllc0V4aXN0cyA9IG1hcEV4aXN0cyAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xudmFyIHNldEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgc2V0RW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IFNldCgpLmVudHJpZXMoKSk7XG52YXIgbWFwSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZkV4aXN0cyAmJiBtYXBFbnRyaWVzRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgTWFwKCkuZW50cmllcygpKTtcbnZhciBhcnJheUl0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xudmFyIGFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBhcnJheUl0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpO1xudmFyIHN0cmluZ0l0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xudmFyIHN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlID0gc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG52YXIgdG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGggPSA4O1xudmFyIHRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCA9IC0xO1xuLyoqXG4gKiAjIyMgdHlwZU9mIChvYmopXG4gKlxuICogVXNlcyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGFuIG9iamVjdCxcbiAqIG5vcm1hbGlzaW5nIGJlaGF2aW91ciBhY3Jvc3MgZW5naW5lIHZlcnNpb25zICYgd2VsbCBvcHRpbWlzZWQuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtTdHJpbmd9IG9iamVjdCB0eXBlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHR5cGVEZXRlY3Qob2JqKSB7XG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAqIFByZTpcbiAgICogICBzdHJpbmcgbGl0ZXJhbCAgICAgeCAzLDAzOSwwMzUgb3BzL3NlYyDCsTEuNjIlICg3OCBydW5zIHNhbXBsZWQpXG4gICAqICAgYm9vbGVhbiBsaXRlcmFsICAgIHggMSw0MjQsMTM4IG9wcy9zZWMgwrE0LjU0JSAoNzUgcnVucyBzYW1wbGVkKVxuICAgKiAgIG51bWJlciBsaXRlcmFsICAgICB4IDEsNjUzLDE1MyBvcHMvc2VjIMKxMS45MSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogICB1bmRlZmluZWQgICAgICAgICAgeCA5LDk3OCw2NjAgb3BzL3NlYyDCsTEuOTIlICg3NSBydW5zIHNhbXBsZWQpXG4gICAqICAgZnVuY3Rpb24gICAgICAgICAgIHggMiw1NTYsNzY5IG9wcy9zZWMgwrExLjczJSAoNzcgcnVucyBzYW1wbGVkKVxuICAgKiBQb3N0OlxuICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDM4LDU2NCw3OTYgb3BzL3NlYyDCsTEuMTUlICg3OSBydW5zIHNhbXBsZWQpXG4gICAqICAgYm9vbGVhbiBsaXRlcmFsICAgIHggMzEsMTQ4LDk0MCBvcHMvc2VjIMKxMS4xMCUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAzMiw2NzksMzMwIG9wcy9zZWMgwrExLjkwJSAoNzggcnVucyBzYW1wbGVkKVxuICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDMyLDM2MywzNjggb3BzL3NlYyDCsTEuMDclICg4MiBydW5zIHNhbXBsZWQpXG4gICAqICAgZnVuY3Rpb24gICAgICAgICAgIHggMzEsMjk2LDg3MCBvcHMvc2VjIMKxMC45NiUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgICovXG4gIHZhciB0eXBlb2ZPYmogPSB0eXBlb2Ygb2JqO1xuICBpZiAodHlwZW9mT2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB0eXBlb2ZPYmo7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgKiBQcmU6XG4gICAqICAgbnVsbCAgICAgICAgICAgICAgIHggMjgsNjQ1LDc2NSBvcHMvc2VjIMKxMS4xNyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogUG9zdDpcbiAgICogICBudWxsICAgICAgICAgICAgICAgeCAzNiw0MjgsOTYyIG9wcy9zZWMgwrExLjM3JSAoODQgcnVucyBzYW1wbGVkKVxuICAgKi9cbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH1cblxuICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cpYGBcbiAgICogIC0gTm9kZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcbiAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBQaGFudG9tSlMgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIElFIDExID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIElFIEVkZ2UgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKWBgXG4gICAqICAtIENocm9tZSBXb3JrZXIgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcbiAgICogIC0gRmlyZWZveCBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKiAgLSBTYWZhcmkgV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICogIC0gSUUgMTEgV29ya2VyID09PSBcIltvYmplY3QgV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICogIC0gSUUgRWRnZSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKi9cbiAgaWYgKG9iaiA9PT0gZ2xvYmFsT2JqZWN0KSB7XG4gICAgcmV0dXJuICdnbG9iYWwnO1xuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICogUHJlOlxuICAgKiAgIGFycmF5IGxpdGVyYWwgICAgICB4IDIsODg4LDM1MiBvcHMvc2VjIMKxMC42NyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogUG9zdDpcbiAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyMiw0NzksNjUwIG9wcy9zZWMgwrEwLjk2JSAoODEgcnVucyBzYW1wbGVkKVxuICAgKi9cbiAgaWYgKGlzQXJyYXlFeGlzdHMgJiYgQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuICdBcnJheSc7XG4gIH1cblxuICBpZiAoaXNEb20pIHtcbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvYnJvd3NlcnMuaHRtbCNsb2NhdGlvbilcbiAgICAgKiBXaGF0V0cgSFRNTCQ3LjcuMyAtIFRoZSBgTG9jYXRpb25gIGludGVyZmFjZVxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93LmxvY2F0aW9uKWBgXG4gICAgICogIC0gSUUgPD0xMSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5sb2NhdGlvbikge1xuICAgICAgcmV0dXJuICdMb2NhdGlvbic7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2RvY3VtZW50KVxuICAgICAqIFdoYXRXRyBIVE1MJDMuMS4xIC0gVGhlIGBEb2N1bWVudGAgb2JqZWN0XG4gICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG4gICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC0yNjgwOTI2OClcbiAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG4gICAgICogICAgICAgV2hhdFdHIEhUTUwgc3RhdGVzOlxuICAgICAqICAgICAgICAgPiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBXaW5kb3cgb2JqZWN0cyBtdXN0IGFsc28gaGF2ZSBhXG4gICAgICogICAgICAgICA+IHdyaXRhYmxlLCBjb25maWd1cmFibGUsIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVkXG4gICAgICogICAgICAgICA+IEhUTUxEb2N1bWVudCB3aG9zZSB2YWx1ZSBpcyB0aGUgRG9jdW1lbnQgaW50ZXJmYWNlIG9iamVjdC5cbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50KWBgXG4gICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBEb2N1bWVudF1cIlxuICAgICAqICAtIElFIDExID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gZ2xvYmFsT2JqZWN0LmRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gJ0RvY3VtZW50JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI21pbWV0eXBlYXJyYXkpXG4gICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgTWltZVR5cGVBcnJheVxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLm1pbWVUeXBlcylgYFxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU01pbWVUeXBlc0NvbGxlY3Rpb25dXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkubWltZVR5cGVzKSB7XG4gICAgICByZXR1cm4gJ01pbWVUeXBlQXJyYXknO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG4gICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgUGx1Z2luQXJyYXlcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5wbHVnaW5zKWBgXG4gICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IE1TUGx1Z2luc0NvbGxlY3Rpb25dXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkucGx1Z2lucykge1xuICAgICAgcmV0dXJuICdQbHVnaW5BcnJheSc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcbiAgICAgKiBXaGF0V0cgSFRNTCQ0LjQuNCAtIFRoZSBgYmxvY2txdW90ZWAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFF1b3RlRWxlbWVudGBcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jsb2NrcXVvdGUnKSlgYFxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBIVE1MQmxvY2tFbGVtZW50XVwiXG4gICAgICovXG4gICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnQkxPQ0tRVU9URScpIHtcbiAgICAgIHJldHVybiAnSFRNTFF1b3RlRWxlbWVudCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2h0bWx0YWJsZWRhdGFjZWxsZWxlbWVudClcbiAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZURhdGFDZWxsRWxlbWVudGBcbiAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcbiAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuICAgICAqICAgICAgIHdoaWNoIHN1Z2dlc3RzIHRoYXQgYnJvd3NlcnMgc2hvdWxkIHVzZSBIVE1MVGFibGVDZWxsRWxlbWVudCBmb3JcbiAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cbiAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSlcbiAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICovXG4gICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEQnKSB7XG4gICAgICByZXR1cm4gJ0hUTUxUYWJsZURhdGFDZWxsRWxlbWVudCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2h0bWx0YWJsZWhlYWRlcmNlbGxlbGVtZW50KVxuICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnRgXG4gICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG4gICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC04MjkxNTA3NSlcbiAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG4gICAgICogVGVzdDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJykpXG4gICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqL1xuICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1RIJykge1xuICAgICAgcmV0dXJuICdIVE1MVGFibGVIZWFkZXJDZWxsRWxlbWVudCc7XG4gICAgfVxuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgKiBQcmU6XG4gICogICBGbG9hdDY0QXJyYXkgICAgICAgeCA2MjUsNjQ0IG9wcy9zZWMgwrExLjU4JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggMSwyNzksODUyIG9wcy9zZWMgwrEyLjkxJSAoNzcgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDMyQXJyYXkgICAgICAgIHggMSwxNzgsMTg1IG9wcy9zZWMgwrExLjk1JSAoODMgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDE2QXJyYXkgICAgICAgIHggMSwwMDgsMzgwIG9wcy9zZWMgwrEyLjI1JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhBcnJheSAgICAgICAgIHggMSwxMjgsMDQwIG9wcy9zZWMgwrEyLjExJSAoODEgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MzJBcnJheSAgICAgICAgIHggMSwxNzAsMTE5IG9wcy9zZWMgwrEyLjg4JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MTZBcnJheSAgICAgICAgIHggMSwxNzYsMzQ4IG9wcy9zZWMgwrE1Ljc5JSAoODYgcnVucyBzYW1wbGVkKVxuICAqICAgSW50OEFycmF5ICAgICAgICAgIHggMSwwNTgsNzA3IG9wcy9zZWMgwrE0Ljk0JSAoNzcgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhDbGFtcGVkQXJyYXkgIHggMSwxMTAsNjMzIG9wcy9zZWMgwrE0LjIwJSAoODAgcnVucyBzYW1wbGVkKVxuICAqIFBvc3Q6XG4gICogICBGbG9hdDY0QXJyYXkgICAgICAgeCA3LDEwNSw2NzEgb3BzL3NlYyDCsTEzLjQ3JSAoNjQgcnVucyBzYW1wbGVkKVxuICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggNSw4ODcsOTEyIG9wcy9zZWMgwrExLjQ2JSAoODIgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDMyQXJyYXkgICAgICAgIHggNiw0OTEsNjYxIG9wcy9zZWMgwrExLjc2JSAoNzkgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDE2QXJyYXkgICAgICAgIHggNiw1NTksNzk1IG9wcy9zZWMgwrExLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhBcnJheSAgICAgICAgIHggNiw0NjMsOTY2IG9wcy9zZWMgwrExLjQzJSAoODUgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MzJBcnJheSAgICAgICAgIHggNSw2NDEsODQxIG9wcy9zZWMgwrEzLjQ5JSAoODEgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MTZBcnJheSAgICAgICAgIHggNiw1ODMsNTExIG9wcy9zZWMgwrExLjk4JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgSW50OEFycmF5ICAgICAgICAgIHggNiw2MDYsMDc4IG9wcy9zZWMgwrExLjc0JSAoODEgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhDbGFtcGVkQXJyYXkgIHggNiw2MDIsMjI0IG9wcy9zZWMgwrExLjc3JSAoODMgcnVucyBzYW1wbGVkKVxuICAqL1xuICB2YXIgc3RyaW5nVGFnID0gKHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzICYmIG9ialtTeW1ib2wudG9TdHJpbmdUYWddKTtcbiAgaWYgKHR5cGVvZiBzdHJpbmdUYWcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0cmluZ1RhZztcbiAgfVxuXG4gIGlmIChnZXRQcm90b3R5cGVPZkV4aXN0cykge1xuICAgIHZhciBvYmpQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICByZWdleCBsaXRlcmFsICAgICAgeCAxLDc3MiwzODUgb3BzL3NlYyDCsTEuODUlICg3NyBydW5zIHNhbXBsZWQpXG4gICAgKiAgIHJlZ2V4IGNvbnN0cnVjdG9yICB4IDIsMTQzLDYzNCBvcHMvc2VjIMKxMi40NiUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDMsOTI4LDAwOSBvcHMvc2VjIMKxMC42NSUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICAqICAgcmVnZXggY29uc3RydWN0b3IgIHggMyw5MzEsMTA4IG9wcy9zZWMgwrEwLjU4JSAoODQgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKG9ialByb3RvdHlwZSA9PT0gUmVnRXhwLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdSZWdFeHAnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDIsMTMwLDA3NCBvcHMvc2VjIMKxNC40MiUgKDY4IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDMsOTUzLDc3OSBvcHMvc2VjIMKxMS4zNSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChvYmpQcm90b3R5cGUgPT09IERhdGUucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ0RhdGUnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLXByb21pc2UucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDI1LjQuNS40IC0gUHJvbWlzZS5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiUHJvbWlzZVwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUHJvbWlzZS5yZXNvbHZlKCkpYGBcbiAgICAgKiAgLSBDaHJvbWUgPD00NyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqICAtIEVkZ2UgPD0yMCA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqICAtIEZpcmVmb3ggMjktTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuICAgICAqICAtIFNhZmFyaSA3LjEtTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuICAgICAqL1xuICAgIGlmIChwcm9taXNlRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gUHJvbWlzZS5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnUHJvbWlzZSc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgc2V0ICAgICAgICAgICAgICAgIHggMiwyMjIsMTg2IG9wcy9zZWMgwrExLjMxJSAoODIgcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgc2V0ICAgICAgICAgICAgICAgIHggNCw1NDUsODc5IG9wcy9zZWMgwrExLjEzJSAoODMgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFNldC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnU2V0JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBtYXAgICAgICAgICAgICAgICAgeCAyLDM5Niw4NDIgb3BzL3NlYyDCsTEuNTklICg4MSBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBtYXAgICAgICAgICAgICAgICAgeCA0LDE4Myw5NDUgb3BzL3NlYyDCsTYuNTklICg4MiBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAobWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gTWFwLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdNYXAnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDEsMzIzLDIyMCBvcHMvc2VjIMKxMi4xNyUgKDc2IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDQsMjM3LDUxMCBvcHMvc2VjIMKxMi4wMSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmICh3ZWFrU2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha1NldC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnV2Vha1NldCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMSw1MDAsMjYwIG9wcy9zZWMgwrEyLjAyJSAoNzggcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMyw4ODEsMzg0IG9wcy9zZWMgwrExLjQ1JSAoODIgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKHdlYWtNYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBXZWFrTWFwLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdXZWFrTWFwJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1kYXRhdmlldy5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjQuMi40LjIxIC0gRGF0YVZpZXcucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkRhdGFWaWV3XCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChkYXRhVmlld0V4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IERhdGFWaWV3LnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdEYXRhVmlldyc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJW1hcGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMy4xLjUuMi4yIC0gJU1hcEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJNYXAgSXRlcmF0b3JcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBNYXAoKS5lbnRyaWVzKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAobWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gbWFwSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnTWFwIEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lc2V0aXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDIzLjIuNS4yLjIgLSAlU2V0SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlNldCBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IFNldCgpLmVudHJpZXMoKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzZXRJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdTZXQgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMi4xLjUuMi4yIC0gJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkFycmF5IEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChbXVtTeW1ib2wuaXRlcmF0b3JdKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoYXJyYXlJdGVyYXRvckV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IGFycmF5SXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnQXJyYXkgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjEuMS41LjIuMiAtICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiU3RyaW5nIEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdTdHJpbmcgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDIsNDI0LDMyMCBvcHMvc2VjIMKxMS42NyUgKDc2IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDUsODM4LDAwMCBvcHMvc2VjIMKxMC45OSUgKDg0IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChvYmpQcm90b3R5cGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnT2JqZWN0JztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gT2JqZWN0XG4gICAgLnByb3RvdHlwZVxuICAgIC50b1N0cmluZ1xuICAgIC5jYWxsKG9iailcbiAgICAuc2xpY2UodG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGgsIHRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy50eXBlRGV0ZWN0ID0gbW9kdWxlLmV4cG9ydHM7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPVxuXHRkZWZpbmVkOiAoc3ViamVjdCktPiBzdWJqZWN0IGlzbnQgdW5kZWZpbmVkXG5cdFxuXHRhcnJheTogKHN1YmplY3QpLT4gc3ViamVjdCBpbnN0YW5jZW9mIEFycmF5XG5cdFxuXHRvYmplY3Q6IChzdWJqZWN0KS0+IHR5cGVvZiBzdWJqZWN0IGlzICdvYmplY3QnIGFuZCBzdWJqZWN0ICMgMm5kIGNoZWNrIGlzIHRvIHRlc3QgYWdhaW5zdCAnbnVsbCcgdmFsdWVzXG5cblx0b2JqZWN0UGxhaW46IChzdWJqZWN0KS0+IGV4cG9ydHMub2JqZWN0KHN1YmplY3QpIGFuZCBPYmplY3Q6OnRvU3RyaW5nLmNhbGwoc3ViamVjdCkgaXMgJ1tvYmplY3QgT2JqZWN0XScgYW5kIHN1YmplY3QuY29uc3RydWN0b3IgaXMgT2JqZWN0XG5cblx0c3RyaW5nOiAoc3ViamVjdCktPiB0eXBlb2Ygc3ViamVjdCBpcyAnc3RyaW5nJ1xuXHRcblx0bnVtYmVyOiAoc3ViamVjdCktPiB0eXBlb2Ygc3ViamVjdCBpcyAnbnVtYmVyJyBhbmQgbm90IGlzTmFOKHN1YmplY3QpXG5cblx0bnVtYmVyTG9vc2U6IChzdWJqZWN0KS0+IGV4cG9ydHMubnVtYmVyKHN1YmplY3QpIG9yIGV4cG9ydHMuc3RyaW5nKHN1YmplY3QpIGFuZCBleHBvcnRzLm51bWJlcihOdW1iZXIgc3ViamVjdClcblx0XG5cdGZ1bmN0aW9uOiAoc3ViamVjdCktPiB0eXBlb2Ygc3ViamVjdCBpcyAnZnVuY3Rpb24nXG5cblx0aXRlcmFibGU6IChzdWJqZWN0KS0+IGV4cG9ydHMub2JqZWN0KHN1YmplY3QpIGFuZCBleHBvcnRzLm51bWJlcihzdWJqZWN0Lmxlbmd0aCkiLCJtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBcblx0ZG9tRG9jOiAoc3ViamVjdCktPiBzdWJqZWN0IGFuZCBzdWJqZWN0Lm5vZGVUeXBlIGlzIDlcblxuXHRkb21FbDogKHN1YmplY3QpLT4gc3ViamVjdCBhbmQgc3ViamVjdC5ub2RlVHlwZSBpcyAxXG5cblx0ZG9tVGV4dDogKHN1YmplY3QpLT4gc3ViamVjdCBhbmQgc3ViamVjdC5ub2RlVHlwZSBpcyAzXG5cblx0ZG9tTm9kZTogKHN1YmplY3QpLT4gZXhwb3J0cy5kb21FbChzdWJqZWN0KSBvciBleHBvcnRzLmRvbVRleHQoc3ViamVjdClcblxuXHRkb21UZXh0YXJlYTogKHN1YmplY3QpLT4gc3ViamVjdCBhbmQgc3ViamVjdC5ub2RlTmFtZSBpcyAnVEVYVEFSRUEnXG5cdFxuXHRkb21JbnB1dDogKHN1YmplY3QpLT4gc3ViamVjdCBhbmQgc3ViamVjdC5ub2RlTmFtZSBpcyAnSU5QVVQnXG5cdFxuXHRkb21TZWxlY3Q6IChzdWJqZWN0KS0+IHN1YmplY3QgYW5kIHN1YmplY3Qubm9kZU5hbWUgaXMgJ1NFTEVDVCdcblx0XG5cdGRvbUZpZWxkOiAoc3ViamVjdCktPiBleHBvcnRzLmRvbUlucHV0KHN1YmplY3QpIG9yIGV4cG9ydHMuZG9tVGV4dGFyZWEoc3ViamVjdCkgb3IgZXhwb3J0cy5kb21TZWxlY3Qoc3ViamVjdCkiLCJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFN0YXRlQ2hhaW5cblx0Y29uc3RydWN0b3I6IChzdGF0ZXMpLT5cblx0XHRAc3RyaW5nID0gc3RhdGVzLmpvaW4oJysnKVxuXHRcdEBhcnJheSA9IHN0YXRlcy5zbGljZSgpXG5cdFx0QGxlbmd0aCA9IHN0YXRlcy5sZW5ndGhcblxuXHRpbmNsdWRlczogKHRhcmdldCktPlxuXHRcdGZvciBzdGF0ZSBpbiBAYXJyYXlcblx0XHRcdHJldHVybiB0cnVlIGlmIHN0YXRlIGlzIHRhcmdldFxuXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0d2l0aG91dDogKHRhcmdldCktPlxuXHRcdEBhcnJheVxuXHRcdFx0LmZpbHRlciAoc3RhdGUpLT4gc3RhdGUgaXNudCB0YXJnZXRcblx0XHRcdC5qb2luICcrJ1xuXG5cblx0aXNBcHBsaWNhYmxlOiAodGFyZ2V0LCBvdGhlckFjdGl2ZSktPlxuXHRcdGFjdGl2ZSA9IEBhcnJheS5maWx0ZXIgKHN0YXRlKS0+XG5cdFx0XHRzdGF0ZSBpcyB0YXJnZXQgb3Jcblx0XHRcdG90aGVyQWN0aXZlLmluZGV4T2Yoc3RhdGUpIGlzbnQgLTFcblxuXHRcdHJldHVybiBhY3RpdmUubGVuZ3RoIGlzIEBhcnJheS5sZW5ndGgiLCIndXNlIHN0cmljdCc7XG5cbi8qICFcbiAqIENoYWkgLSBwYXRodmFsIHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9sb2dpY2FscGFyYWRveC9maWx0clxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiAjIyMgLmhhc1Byb3BlcnR5KG9iamVjdCwgbmFtZSlcbiAqXG4gKiBUaGlzIGFsbG93cyBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgb3duXG4gKiBvciBpbmhlcml0ZWQgZnJvbSBwcm90b3R5cGUgY2hhaW4gbmFtZWQgcHJvcGVydHkuXG4gKlxuICogQmFzaWNhbGx5IGRvZXMgdGhlIHNhbWUgdGhpbmcgYXMgdGhlIGBpbmBcbiAqIG9wZXJhdG9yIGJ1dCB3b3JrcyBwcm9wZXJseSB3aXRoIG51bGwvdW5kZWZpbmVkIHZhbHVlc1xuICogYW5kIG90aGVyIHByaW1pdGl2ZXMuXG4gKlxuICogICAgIHZhciBvYmogPSB7XG4gKiAgICAgICAgIGFycjogWydhJywgJ2InLCAnYyddXG4gKiAgICAgICAsIHN0cjogJ0hlbGxvJ1xuICogICAgIH1cbiAqXG4gKiBUaGUgZm9sbG93aW5nIHdvdWxkIGJlIHRoZSByZXN1bHRzLlxuICpcbiAqICAgICBoYXNQcm9wZXJ0eShvYmosICdzdHInKTsgIC8vIHRydWVcbiAqICAgICBoYXNQcm9wZXJ0eShvYmosICdjb25zdHJ1Y3RvcicpOyAgLy8gdHJ1ZVxuICogICAgIGhhc1Byb3BlcnR5KG9iaiwgJ2JhcicpOyAgLy8gZmFsc2VcbiAqXG4gKiAgICAgaGFzUHJvcGVydHkob2JqLnN0ciwgJ2xlbmd0aCcpOyAvLyB0cnVlXG4gKiAgICAgaGFzUHJvcGVydHkob2JqLnN0ciwgMSk7ICAvLyB0cnVlXG4gKiAgICAgaGFzUHJvcGVydHkob2JqLnN0ciwgNSk7ICAvLyBmYWxzZVxuICpcbiAqICAgICBoYXNQcm9wZXJ0eShvYmouYXJyLCAnbGVuZ3RoJyk7ICAvLyB0cnVlXG4gKiAgICAgaGFzUHJvcGVydHkob2JqLmFyciwgMik7ICAvLyB0cnVlXG4gKiAgICAgaGFzUHJvcGVydHkob2JqLmFyciwgMyk7ICAvLyBmYWxzZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59IHdoZXRoZXIgaXQgZXhpc3RzXG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAbmFtZSBoYXNQcm9wZXJ0eVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBoYXNQcm9wZXJ0eShvYmosIG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRoZSBgaW5gIG9wZXJhdG9yIGRvZXMgbm90IHdvcmsgd2l0aCBwcmltaXRpdmVzLlxuICByZXR1cm4gbmFtZSBpbiBPYmplY3Qob2JqKTtcbn1cblxuLyogIVxuICogIyMgcGFyc2VQYXRoKHBhdGgpXG4gKlxuICogSGVscGVyIGZ1bmN0aW9uIHVzZWQgdG8gcGFyc2Ugc3RyaW5nIG9iamVjdFxuICogcGF0aHMuIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBpbnRlcm5hbEdldFBhdGhWYWx1ZWAuXG4gKlxuICogICAgICB2YXIgcGFyc2VkID0gcGFyc2VQYXRoKCdteW9iamVjdC5wcm9wZXJ0eS5zdWJwcm9wJyk7XG4gKlxuICogIyMjIFBhdGhzOlxuICpcbiAqICogQ2FuIGJlIGluZmluaXRlbHkgZGVlcCBhbmQgbmVzdGVkLlxuICogKiBBcnJheXMgYXJlIGFsc28gdmFsaWQgdXNpbmcgdGhlIGZvcm1hbCBgbXlvYmplY3QuZG9jdW1lbnRbM10ucHJvcGVydHlgLlxuICogKiBMaXRlcmFsIGRvdHMgYW5kIGJyYWNrZXRzIChub3QgZGVsaW1pdGVyKSBtdXN0IGJlIGJhY2tzbGFzaC1lc2NhcGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwYXJzZWRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBzdHIgPSBwYXRoLnJlcGxhY2UoLyhbXlxcXFxdKVxcWy9nLCAnJDEuWycpO1xuICB2YXIgcGFydHMgPSBzdHIubWF0Y2goLyhcXFxcXFwufFteLl0rPykrL2cpO1xuICByZXR1cm4gcGFydHMubWFwKGZ1bmN0aW9uIG1hcE1hdGNoZXModmFsdWUpIHtcbiAgICB2YXIgcmVnZXhwID0gL15cXFsoXFxkKylcXF0kLztcbiAgICB2YXIgbUFyciA9IHJlZ2V4cC5leGVjKHZhbHVlKTtcbiAgICB2YXIgcGFyc2VkID0gbnVsbDtcbiAgICBpZiAobUFycikge1xuICAgICAgcGFyc2VkID0geyBpOiBwYXJzZUZsb2F0KG1BcnJbMV0pIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZCA9IHsgcDogdmFsdWUucmVwbGFjZSgvXFxcXChbLlxcW1xcXV0pL2csICckMScpIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfSk7XG59XG5cbi8qICFcbiAqICMjIGludGVybmFsR2V0UGF0aFZhbHVlKG9iaiwgcGFyc2VkWywgcGF0aERlcHRoXSlcbiAqXG4gKiBIZWxwZXIgY29tcGFuaW9uIGZ1bmN0aW9uIGZvciBgLnBhcnNlUGF0aGAgdGhhdCByZXR1cm5zXG4gKiB0aGUgdmFsdWUgbG9jYXRlZCBhdCB0aGUgcGFyc2VkIGFkZHJlc3MuXG4gKlxuICogICAgICB2YXIgdmFsdWUgPSBnZXRQYXRoVmFsdWUob2JqLCBwYXJzZWQpO1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgdG8gc2VhcmNoIGFnYWluc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJzZWQgZGVmaW5pdGlvbiBmcm9tIGBwYXJzZVBhdGhgLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlcHRoIChuZXN0aW5nIGxldmVsKSBvZiB0aGUgcHJvcGVydHkgd2Ugd2FudCB0byByZXRyaWV2ZVxuICogQHJldHVybnMge09iamVjdHxVbmRlZmluZWR9IHZhbHVlXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpbnRlcm5hbEdldFBhdGhWYWx1ZShvYmosIHBhcnNlZCwgcGF0aERlcHRoKSB7XG4gIHZhciB0ZW1wb3JhcnlWYWx1ZSA9IG9iajtcbiAgdmFyIHJlcyA9IG51bGw7XG4gIHBhdGhEZXB0aCA9ICh0eXBlb2YgcGF0aERlcHRoID09PSAndW5kZWZpbmVkJyA/IHBhcnNlZC5sZW5ndGggOiBwYXRoRGVwdGgpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aERlcHRoOyBpKyspIHtcbiAgICB2YXIgcGFydCA9IHBhcnNlZFtpXTtcbiAgICBpZiAodGVtcG9yYXJ5VmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydC5wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IHRlbXBvcmFyeVZhbHVlW3BhcnQuaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IHRlbXBvcmFyeVZhbHVlW3BhcnQucF07XG4gICAgICB9XG5cbiAgICAgIGlmIChpID09PSAocGF0aERlcHRoIC0gMSkpIHtcbiAgICAgICAgcmVzID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuLyogIVxuICogIyMgaW50ZXJuYWxTZXRQYXRoVmFsdWUob2JqLCB2YWx1ZSwgcGFyc2VkKVxuICpcbiAqIENvbXBhbmlvbiBmdW5jdGlvbiBmb3IgYHBhcnNlUGF0aGAgdGhhdCBzZXRzXG4gKiB0aGUgdmFsdWUgbG9jYXRlZCBhdCBhIHBhcnNlZCBhZGRyZXNzLlxuICpcbiAqICBpbnRlcm5hbFNldFBhdGhWYWx1ZShvYmosICd2YWx1ZScsIHBhcnNlZCk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0byBzZWFyY2ggYW5kIGRlZmluZSBvblxuICogQHBhcmFtIHsqfSB2YWx1ZSB0byB1c2UgdXBvbiBzZXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJzZWQgZGVmaW5pdGlvbiBmcm9tIGBwYXJzZVBhdGhgXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpbnRlcm5hbFNldFBhdGhWYWx1ZShvYmosIHZhbCwgcGFyc2VkKSB7XG4gIHZhciB0ZW1wT2JqID0gb2JqO1xuICB2YXIgcGF0aERlcHRoID0gcGFyc2VkLmxlbmd0aDtcbiAgdmFyIHBhcnQgPSBudWxsO1xuICAvLyBIZXJlIHdlIGl0ZXJhdGUgdGhyb3VnaCBldmVyeSBwYXJ0IG9mIHRoZSBwYXRoXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aERlcHRoOyBpKyspIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBudWxsO1xuICAgIHZhciBwcm9wVmFsID0gbnVsbDtcbiAgICBwYXJ0ID0gcGFyc2VkW2ldO1xuXG4gICAgLy8gSWYgaXQncyB0aGUgbGFzdCBwYXJ0IG9mIHRoZSBwYXRoLCB3ZSBzZXQgdGhlICdwcm9wTmFtZScgdmFsdWUgd2l0aCB0aGUgcHJvcGVydHkgbmFtZVxuICAgIGlmIChpID09PSAocGF0aERlcHRoIC0gMSkpIHtcbiAgICAgIHByb3BOYW1lID0gdHlwZW9mIHBhcnQucCA9PT0gJ3VuZGVmaW5lZCcgPyBwYXJ0LmkgOiBwYXJ0LnA7XG4gICAgICAvLyBOb3cgd2Ugc2V0IHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBuYW1lIGhlbGQgYnkgJ3Byb3BOYW1lJyBvbiBvYmplY3Qgd2l0aCB0aGUgZGVzaXJlZCB2YWxcbiAgICAgIHRlbXBPYmpbcHJvcE5hbWVdID0gdmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcnQucCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGVtcE9ialtwYXJ0LnBdKSB7XG4gICAgICB0ZW1wT2JqID0gdGVtcE9ialtwYXJ0LnBdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcnQuaSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGVtcE9ialtwYXJ0LmldKSB7XG4gICAgICB0ZW1wT2JqID0gdGVtcE9ialtwYXJ0LmldO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgb2JqIGRvZXNuJ3QgaGF2ZSB0aGUgcHJvcGVydHkgd2UgY3JlYXRlIG9uZSB3aXRoIHRoYXQgbmFtZSB0byBkZWZpbmUgaXRcbiAgICAgIHZhciBuZXh0ID0gcGFyc2VkW2kgKyAxXTtcbiAgICAgIC8vIEhlcmUgd2Ugc2V0IHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3aGljaCB3aWxsIGJlIGRlZmluZWRcbiAgICAgIHByb3BOYW1lID0gdHlwZW9mIHBhcnQucCA9PT0gJ3VuZGVmaW5lZCcgPyBwYXJ0LmkgOiBwYXJ0LnA7XG4gICAgICAvLyBIZXJlIHdlIGRlY2lkZSBpZiB0aGlzIHByb3BlcnR5IHdpbGwgYmUgYW4gYXJyYXkgb3IgYSBuZXcgb2JqZWN0XG4gICAgICBwcm9wVmFsID0gdHlwZW9mIG5leHQucCA9PT0gJ3VuZGVmaW5lZCcgPyBbXSA6IHt9O1xuICAgICAgdGVtcE9ialtwcm9wTmFtZV0gPSBwcm9wVmFsO1xuICAgICAgdGVtcE9iaiA9IHRlbXBPYmpbcHJvcE5hbWVdO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqICMjIyAuZ2V0UGF0aEluZm8ob2JqZWN0LCBwYXRoKVxuICpcbiAqIFRoaXMgYWxsb3dzIHRoZSByZXRyaWV2YWwgb2YgcHJvcGVydHkgaW5mbyBpbiBhblxuICogb2JqZWN0IGdpdmVuIGEgc3RyaW5nIHBhdGguXG4gKlxuICogVGhlIHBhdGggaW5mbyBjb25zaXN0cyBvZiBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICogcGFyZW50IC0gVGhlIHBhcmVudCBvYmplY3Qgb2YgdGhlIHByb3BlcnR5IHJlZmVyZW5jZWQgYnkgYHBhdGhgXG4gKiAqIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZmluYWwgcHJvcGVydHksIGEgbnVtYmVyIGlmIGl0IHdhcyBhbiBhcnJheSBpbmRleGVyXG4gKiAqIHZhbHVlIC0gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSwgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2UgYHVuZGVmaW5lZGBcbiAqICogZXhpc3RzIC0gV2hldGhlciB0aGUgcHJvcGVydHkgZXhpc3RzIG9yIG5vdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBpbmZvXG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAbmFtZSBnZXRQYXRoSW5mb1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBnZXRQYXRoSW5mbyhvYmosIHBhdGgpIHtcbiAgdmFyIHBhcnNlZCA9IHBhcnNlUGF0aChwYXRoKTtcbiAgdmFyIGxhc3QgPSBwYXJzZWRbcGFyc2VkLmxlbmd0aCAtIDFdO1xuICB2YXIgaW5mbyA9IHtcbiAgICBwYXJlbnQ6IHBhcnNlZC5sZW5ndGggPiAxID8gaW50ZXJuYWxHZXRQYXRoVmFsdWUob2JqLCBwYXJzZWQsIHBhcnNlZC5sZW5ndGggLSAxKSA6IG9iaixcbiAgICBuYW1lOiBsYXN0LnAgfHwgbGFzdC5pLFxuICAgIHZhbHVlOiBpbnRlcm5hbEdldFBhdGhWYWx1ZShvYmosIHBhcnNlZCksXG4gIH07XG4gIGluZm8uZXhpc3RzID0gaGFzUHJvcGVydHkoaW5mby5wYXJlbnQsIGluZm8ubmFtZSk7XG5cbiAgcmV0dXJuIGluZm87XG59XG5cbi8qKlxuICogIyMjIC5nZXRQYXRoVmFsdWUob2JqZWN0LCBwYXRoKVxuICpcbiAqIFRoaXMgYWxsb3dzIHRoZSByZXRyaWV2YWwgb2YgdmFsdWVzIGluIGFuXG4gKiBvYmplY3QgZ2l2ZW4gYSBzdHJpbmcgcGF0aC5cbiAqXG4gKiAgICAgdmFyIG9iaiA9IHtcbiAqICAgICAgICAgcHJvcDE6IHtcbiAqICAgICAgICAgICAgIGFycjogWydhJywgJ2InLCAnYyddXG4gKiAgICAgICAgICAgLCBzdHI6ICdIZWxsbydcbiAqICAgICAgICAgfVxuICogICAgICAgLCBwcm9wMjoge1xuICogICAgICAgICAgICAgYXJyOiBbIHsgbmVzdGVkOiAnVW5pdmVyc2UnIH0gXVxuICogICAgICAgICAgICwgc3RyOiAnSGVsbG8gYWdhaW4hJ1xuICogICAgICAgICB9XG4gKiAgICAgfVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgd291bGQgYmUgdGhlIHJlc3VsdHMuXG4gKlxuICogICAgIGdldFBhdGhWYWx1ZShvYmosICdwcm9wMS5zdHInKTsgLy8gSGVsbG9cbiAqICAgICBnZXRQYXRoVmFsdWUob2JqLCAncHJvcDEuYXR0WzJdJyk7IC8vIGJcbiAqICAgICBnZXRQYXRoVmFsdWUob2JqLCAncHJvcDIuYXJyWzBdLm5lc3RlZCcpOyAvLyBVbml2ZXJzZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2YWx1ZSBvciBgdW5kZWZpbmVkYFxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZ2V0UGF0aFZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGdldFBhdGhWYWx1ZShvYmosIHBhdGgpIHtcbiAgdmFyIGluZm8gPSBnZXRQYXRoSW5mbyhvYmosIHBhdGgpO1xuICByZXR1cm4gaW5mby52YWx1ZTtcbn1cblxuLyoqXG4gKiAjIyMgLnNldFBhdGhWYWx1ZShvYmplY3QsIHBhdGgsIHZhbHVlKVxuICpcbiAqIERlZmluZSB0aGUgdmFsdWUgaW4gYW4gb2JqZWN0IGF0IGEgZ2l2ZW4gc3RyaW5nIHBhdGguXG4gKlxuICogYGBganNcbiAqIHZhciBvYmogPSB7XG4gKiAgICAgcHJvcDE6IHtcbiAqICAgICAgICAgYXJyOiBbJ2EnLCAnYicsICdjJ11cbiAqICAgICAgICwgc3RyOiAnSGVsbG8nXG4gKiAgICAgfVxuICogICAsIHByb3AyOiB7XG4gKiAgICAgICAgIGFycjogWyB7IG5lc3RlZDogJ1VuaXZlcnNlJyB9IF1cbiAqICAgICAgICwgc3RyOiAnSGVsbG8gYWdhaW4hJ1xuICogICAgIH1cbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHdvdWxkIGJlIGFjY2VwdGFibGUuXG4gKlxuICogYGBganNcbiAqIHZhciBwcm9wZXJ0aWVzID0gcmVxdWlyZSgndGVhLXByb3BlcnRpZXMnKTtcbiAqIHByb3BlcnRpZXMuc2V0KG9iaiwgJ3Byb3AxLnN0cicsICdIZWxsbyBVbml2ZXJzZSEnKTtcbiAqIHByb3BlcnRpZXMuc2V0KG9iaiwgJ3Byb3AxLmFyclsyXScsICdCJyk7XG4gKiBwcm9wZXJ0aWVzLnNldChvYmosICdwcm9wMi5hcnJbMF0ubmVzdGVkLnZhbHVlJywgeyBoZWxsbzogJ3VuaXZlcnNlJyB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2V0UGF0aFZhbHVlKG9iaiwgcGF0aCwgdmFsKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVBhdGgocGF0aCk7XG4gIGludGVybmFsU2V0UGF0aFZhbHVlKG9iaiwgdmFsLCBwYXJzZWQpO1xuICByZXR1cm4gb2JqO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFzUHJvcGVydHk6IGhhc1Byb3BlcnR5LFxuICBnZXRQYXRoSW5mbzogZ2V0UGF0aEluZm8sXG4gIGdldFBhdGhWYWx1ZTogZ2V0UGF0aFZhbHVlLFxuICBzZXRQYXRoVmFsdWU6IHNldFBhdGhWYWx1ZSxcbn07XG4iLCIvKiFcbiAqIENoYWkgLSB0ZXN0IHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKiFcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgZmxhZyA9IHJlcXVpcmUoJy4vZmxhZycpO1xuXG4vKipcbiAqICMjIyAudGVzdChvYmplY3QsIGV4cHJlc3Npb24pXG4gKlxuICogVGVzdCBhbmQgb2JqZWN0IGZvciBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgKGNvbnN0cnVjdGVkIEFzc2VydGlvbilcbiAqIEBwYXJhbSB7QXJndW1lbnRzfSBjaGFpLkFzc2VydGlvbi5wcm90b3R5cGUuYXNzZXJ0IGFyZ3VtZW50c1xuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgdGVzdFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVzdChvYmosIGFyZ3MpIHtcbiAgdmFyIG5lZ2F0ZSA9IGZsYWcob2JqLCAnbmVnYXRlJylcbiAgICAsIGV4cHIgPSBhcmdzWzBdO1xuICByZXR1cm4gbmVnYXRlID8gIWV4cHIgOiBleHByO1xufTtcbiIsIi8qIVxuICogQ2hhaSAtIGV4cGVjdFR5cGVzIHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqICMjIyAuZXhwZWN0VHlwZXMob2JqLCB0eXBlcylcbiAqXG4gKiBFbnN1cmVzIHRoYXQgdGhlIG9iamVjdCBiZWluZyB0ZXN0ZWQgYWdhaW5zdCBpcyBvZiBhIHZhbGlkIHR5cGUuXG4gKlxuICogICAgIHV0aWxzLmV4cGVjdFR5cGVzKHRoaXMsIFsnYXJyYXknLCAnb2JqZWN0JywgJ3N0cmluZyddKTtcbiAqXG4gKiBAcGFyYW0ge01peGVkfSBvYmogY29uc3RydWN0ZWQgQXNzZXJ0aW9uXG4gKiBAcGFyYW0ge0FycmF5fSB0eXBlIEEgbGlzdCBvZiBhbGxvd2VkIHR5cGVzIGZvciB0aGlzIGFzc2VydGlvblxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZXhwZWN0VHlwZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxudmFyIEFzc2VydGlvbkVycm9yID0gcmVxdWlyZSgnYXNzZXJ0aW9uLWVycm9yJyk7XG52YXIgZmxhZyA9IHJlcXVpcmUoJy4vZmxhZycpO1xudmFyIHR5cGUgPSByZXF1aXJlKCd0eXBlLWRldGVjdCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4cGVjdFR5cGVzKG9iaiwgdHlwZXMpIHtcbiAgdmFyIGZsYWdNc2cgPSBmbGFnKG9iaiwgJ21lc3NhZ2UnKTtcbiAgdmFyIHNzZmkgPSBmbGFnKG9iaiwgJ3NzZmknKTtcblxuICBmbGFnTXNnID0gZmxhZ01zZyA/IGZsYWdNc2cgKyAnOiAnIDogJyc7XG5cbiAgb2JqID0gZmxhZyhvYmosICdvYmplY3QnKTtcbiAgdHlwZXMgPSB0eXBlcy5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQudG9Mb3dlckNhc2UoKTsgfSk7XG4gIHR5cGVzLnNvcnQoKTtcblxuICAvLyBUcmFuc2Zvcm1zIFsnbG9yZW0nLCAnaXBzdW0nXSBpbnRvICdhIGxvcmVtLCBvciBhbiBpcHN1bSdcbiAgdmFyIHN0ciA9IHR5cGVzLm1hcChmdW5jdGlvbiAodCwgaW5kZXgpIHtcbiAgICB2YXIgYXJ0ID0gflsgJ2EnLCAnZScsICdpJywgJ28nLCAndScgXS5pbmRleE9mKHQuY2hhckF0KDApKSA/ICdhbicgOiAnYSc7XG4gICAgdmFyIG9yID0gdHlwZXMubGVuZ3RoID4gMSAmJiBpbmRleCA9PT0gdHlwZXMubGVuZ3RoIC0gMSA/ICdvciAnIDogJyc7XG4gICAgcmV0dXJuIG9yICsgYXJ0ICsgJyAnICsgdDtcbiAgfSkuam9pbignLCAnKTtcblxuICB2YXIgb2JqVHlwZSA9IHR5cGUob2JqKS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmICghdHlwZXMuc29tZShmdW5jdGlvbiAoZXhwZWN0ZWQpIHsgcmV0dXJuIG9ialR5cGUgPT09IGV4cGVjdGVkOyB9KSkge1xuICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihcbiAgICAgIGZsYWdNc2cgKyAnb2JqZWN0IHRlc3RlZCBtdXN0IGJlICcgKyBzdHIgKyAnLCBidXQgJyArIG9ialR5cGUgKyAnIGdpdmVuJyxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHNzZmlcbiAgICApO1xuICB9XG59O1xuIiwiLyohXG4gKiBDaGFpIC0gbWVzc2FnZSBjb21wb3NpdGlvbiB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyohXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIGZsYWcgPSByZXF1aXJlKCcuL2ZsYWcnKVxuICAsIGdldEFjdHVhbCA9IHJlcXVpcmUoJy4vZ2V0QWN0dWFsJylcbiAgLCBvYmpEaXNwbGF5ID0gcmVxdWlyZSgnLi9vYmpEaXNwbGF5Jyk7XG5cbi8qKlxuICogIyMjIC5nZXRNZXNzYWdlKG9iamVjdCwgbWVzc2FnZSwgbmVnYXRlTWVzc2FnZSlcbiAqXG4gKiBDb25zdHJ1Y3QgdGhlIGVycm9yIG1lc3NhZ2UgYmFzZWQgb24gZmxhZ3NcbiAqIGFuZCB0ZW1wbGF0ZSB0YWdzLiBUZW1wbGF0ZSB0YWdzIHdpbGwgcmV0dXJuXG4gKiBhIHN0cmluZ2lmaWVkIGluc3BlY3Rpb24gb2YgdGhlIG9iamVjdCByZWZlcmVuY2VkLlxuICpcbiAqIE1lc3NhZ2UgdGVtcGxhdGUgdGFnczpcbiAqIC0gYCN7dGhpc31gIGN1cnJlbnQgYXNzZXJ0ZWQgb2JqZWN0XG4gKiAtIGAje2FjdH1gIGFjdHVhbCB2YWx1ZVxuICogLSBgI3tleHB9YCBleHBlY3RlZCB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgKGNvbnN0cnVjdGVkIEFzc2VydGlvbilcbiAqIEBwYXJhbSB7QXJndW1lbnRzfSBjaGFpLkFzc2VydGlvbi5wcm90b3R5cGUuYXNzZXJ0IGFyZ3VtZW50c1xuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZ2V0TWVzc2FnZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE1lc3NhZ2Uob2JqLCBhcmdzKSB7XG4gIHZhciBuZWdhdGUgPSBmbGFnKG9iaiwgJ25lZ2F0ZScpXG4gICAgLCB2YWwgPSBmbGFnKG9iaiwgJ29iamVjdCcpXG4gICAgLCBleHBlY3RlZCA9IGFyZ3NbM11cbiAgICAsIGFjdHVhbCA9IGdldEFjdHVhbChvYmosIGFyZ3MpXG4gICAgLCBtc2cgPSBuZWdhdGUgPyBhcmdzWzJdIDogYXJnc1sxXVxuICAgICwgZmxhZ01zZyA9IGZsYWcob2JqLCAnbWVzc2FnZScpO1xuXG4gIGlmKHR5cGVvZiBtc2cgPT09IFwiZnVuY3Rpb25cIikgbXNnID0gbXNnKCk7XG4gIG1zZyA9IG1zZyB8fCAnJztcbiAgbXNnID0gbXNnXG4gICAgLnJlcGxhY2UoLyNcXHt0aGlzXFx9L2csIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9iakRpc3BsYXkodmFsKTsgfSlcbiAgICAucmVwbGFjZSgvI1xce2FjdFxcfS9nLCBmdW5jdGlvbiAoKSB7IHJldHVybiBvYmpEaXNwbGF5KGFjdHVhbCk7IH0pXG4gICAgLnJlcGxhY2UoLyNcXHtleHBcXH0vZywgZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JqRGlzcGxheShleHBlY3RlZCk7IH0pO1xuXG4gIHJldHVybiBmbGFnTXNnID8gZmxhZ01zZyArICc6ICcgKyBtc2cgOiBtc2c7XG59O1xuIiwiLyohXG4gKiBDaGFpIC0gZ2V0QWN0dWFsIHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqICMjIyAuZ2V0QWN0dWFsKG9iamVjdCwgW2FjdHVhbF0pXG4gKlxuICogUmV0dXJucyB0aGUgYGFjdHVhbGAgdmFsdWUgZm9yIGFuIEFzc2VydGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IChjb25zdHJ1Y3RlZCBBc3NlcnRpb24pXG4gKiBAcGFyYW0ge0FyZ3VtZW50c30gY2hhaS5Bc3NlcnRpb24ucHJvdG90eXBlLmFzc2VydCBhcmd1bWVudHNcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBuYW1lIGdldEFjdHVhbFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0QWN0dWFsKG9iaiwgYXJncykge1xuICByZXR1cm4gYXJncy5sZW5ndGggPiA0ID8gYXJnc1s0XSA6IG9iai5fb2JqO1xufTtcbiIsIi8vIFRoaXMgaXMgKGFsbW9zdCkgZGlyZWN0bHkgZnJvbSBOb2RlLmpzIHV0aWxzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi9mOGMzMzVkMGNhZjQ3ZjE2ZDMxNDEzZjg5YWEyOGVkYTM4NzhlM2FhL2xpYi91dGlsLmpzXG5cbnZhciBnZXROYW1lID0gcmVxdWlyZSgnZ2V0LWZ1bmMtbmFtZScpO1xudmFyIGdldFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL2dldFByb3BlcnRpZXMnKTtcbnZhciBnZXRFbnVtZXJhYmxlUHJvcGVydGllcyA9IHJlcXVpcmUoJy4vZ2V0RW51bWVyYWJsZVByb3BlcnRpZXMnKTtcbnZhciBjb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnNwZWN0O1xuXG4vKipcbiAqICMjIyAuaW5zcGVjdChvYmosIFtzaG93SGlkZGVuXSwgW2RlcHRoXSwgW2NvbG9yc10pXG4gKlxuICogRWNob2VzIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcmllcyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtCb29sZWFufSBzaG93SGlkZGVuIEZsYWcgdGhhdCBzaG93cyBoaWRkZW4gKG5vdCBlbnVtZXJhYmxlKVxuICogICAgcHJvcGVydGllcyBvZiBvYmplY3RzLiBEZWZhdWx0IGlzIGZhbHNlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlcHRoIERlcHRoIGluIHdoaWNoIHRvIGRlc2NlbmQgaW4gb2JqZWN0LiBEZWZhdWx0IGlzIDIuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNvbG9ycyBGbGFnIHRvIHR1cm4gb24gQU5TSSBlc2NhcGUgY29kZXMgdG8gY29sb3IgdGhlXG4gKiAgICBvdXRwdXQuIERlZmF1bHQgaXMgZmFsc2UgKG5vIGNvbG9yaW5nKS5cbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBuYW1lIGluc3BlY3RcbiAqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMpIHtcbiAgdmFyIGN0eCA9IHtcbiAgICBzaG93SGlkZGVuOiBzaG93SGlkZGVuLFxuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIHN0cjsgfVxuICB9O1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosICh0eXBlb2YgZGVwdGggPT09ICd1bmRlZmluZWQnID8gMiA6IGRlcHRoKSk7XG59XG5cbi8vIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYSBET00gZWxlbWVudC5cbnZhciBpc0RPTUVsZW1lbnQgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBvYmplY3QgJiZcbiAgICAgIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICAnbm9kZVR5cGUnIGluIG9iamVjdCAmJlxuICAgICAgb2JqZWN0Lm5vZGVUeXBlID09PSAxICYmXG4gICAgICB0eXBlb2Ygb2JqZWN0Lm5vZGVOYW1lID09PSAnc3RyaW5nJztcbiAgfVxufTtcblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuaW5zcGVjdCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAodHlwZW9mIHJldCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBJZiB0aGlzIGlzIGEgRE9NIGVsZW1lbnQsIHRyeSB0byBnZXQgdGhlIG91dGVyIEhUTUwuXG4gIGlmIChpc0RPTUVsZW1lbnQodmFsdWUpKSB7XG4gICAgaWYgKCdvdXRlckhUTUwnIGluIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUub3V0ZXJIVE1MO1xuICAgICAgLy8gVGhpcyB2YWx1ZSBkb2VzIG5vdCBoYXZlIGFuIG91dGVySFRNTCBhdHRyaWJ1dGUsXG4gICAgICAvLyAgIGl0IGNvdWxkIHN0aWxsIGJlIGFuIFhNTCBlbGVtZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF0dGVtcHQgdG8gc2VyaWFsaXplIGl0XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQueG1sVmVyc2lvbikge1xuICAgICAgICAgIHZhciB4bWxTZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgICByZXR1cm4geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRmlyZWZveCAxMS0gZG8gbm90IHN1cHBvcnQgb3V0ZXJIVE1MXG4gICAgICAgICAgLy8gICBJdCBkb2VzLCBob3dldmVyLCBzdXBwb3J0IGlubmVySFRNTFxuICAgICAgICAgIC8vICAgVXNlIHRoZSBmb2xsb3dpbmcgdG8gcmVuZGVyIHRoZSBlbGVtZW50XG4gICAgICAgICAgdmFyIG5zID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgJ18nKTtcblxuICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpKTtcbiAgICAgICAgICB2YXIgaHRtbCA9IGNvbnRhaW5lci5pbm5lckhUTUxcbiAgICAgICAgICAgIC5yZXBsYWNlKCc+PCcsICc+JyArIHZhbHVlLmlubmVySFRNTCArICc8Jyk7XG4gICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVGhpcyBjb3VsZCBiZSBhIG5vbi1uYXRpdmUgRE9NIGltcGxlbWVudGF0aW9uLFxuICAgICAgICAvLyAgIGNvbnRpbnVlIHdpdGggdGhlIG5vcm1hbCBmbG93OlxuICAgICAgICAvLyAgIHByaW50aW5nIHRoZSBlbGVtZW50IGFzIGlmIGl0IGlzIGFuIG9iamVjdC5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciB2aXNpYmxlS2V5cyA9IGdldEVudW1lcmFibGVQcm9wZXJ0aWVzKHZhbHVlKTtcbiAgdmFyIGtleXMgPSBjdHguc2hvd0hpZGRlbiA/IGdldFByb3BlcnRpZXModmFsdWUpIDogdmlzaWJsZUtleXM7XG5cbiAgdmFyIG5hbWUsIG5hbWVTdWZmaXg7XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0LlxuICAvLyBJbiBJRSwgZXJyb3JzIGhhdmUgYSBzaW5nbGUgYHN0YWNrYCBwcm9wZXJ0eSwgb3IgaWYgdGhleSBhcmUgdmFuaWxsYSBgRXJyb3JgLFxuICAvLyBhIGBzdGFja2AgcGx1cyBgZGVzY3JpcHRpb25gIHByb3BlcnR5OyBpZ25vcmUgdGhvc2UgZm9yIGNvbnNpc3RlbmN5LlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgfHwgKGlzRXJyb3IodmFsdWUpICYmIChcbiAgICAgIChrZXlzLmxlbmd0aCA9PT0gMSAmJiBrZXlzWzBdID09PSAnc3RhY2snKSB8fFxuICAgICAgKGtleXMubGVuZ3RoID09PSAyICYmIGtleXNbMF0gPT09ICdkZXNjcmlwdGlvbicgJiYga2V5c1sxXSA9PT0gJ3N0YWNrJylcbiAgICAgKSkpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBuYW1lID0gZ2V0TmFtZSh2YWx1ZSk7XG4gICAgICBuYW1lU3VmZml4ID0gbmFtZSA/ICc6ICcgKyBuYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lU3VmZml4ICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJ1xuICAgICwgYXJyYXkgPSBmYWxzZVxuICAgICwgdHlwZWRBcnJheSA9IGZhbHNlXG4gICAgLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIGlmIChpc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgdHlwZWRBcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG5hbWUgPSBnZXROYW1lKHZhbHVlKTtcbiAgICBuYW1lU3VmZml4ID0gbmFtZSA/ICc6ICcgKyBuYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG5hbWVTdWZmaXggKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSBpZiAodHlwZWRBcnJheSkge1xuICAgIHJldHVybiBmb3JtYXRUeXBlZEFycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuXG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAodmFsdWUgPT09IDAgJiYgKDEvdmFsdWUpID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCctMCcsICdudW1iZXInKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuXG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSh2YWx1ZS50b1N0cmluZygpLCAnc3ltYm9sJyk7XG4gIH1cbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cblxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFR5cGVkQXJyYXkodmFsdWUpIHtcbiAgdmFyIHN0ciA9ICdbICc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7ICsraSkge1xuICAgIGlmIChzdHIubGVuZ3RoID49IGNvbmZpZy50cnVuY2F0ZVRocmVzaG9sZCAtIDcpIHtcbiAgICAgIHN0ciArPSAnLi4uJztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzdHIgKz0gdmFsdWVbaV0gKyAnLCAnO1xuICB9XG4gIHN0ciArPSAnIF0nO1xuXG4gIC8vIFJlbW92aW5nIHRyYWlsaW5nIGAsIGAgaWYgdGhlIGFycmF5IHdhcyBub3QgdHJ1bmNhdGVkXG4gIGlmIChzdHIuaW5kZXhPZignLCAgXScpICE9PSAtMSkge1xuICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcsICBdJywgJyBdJyk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lO1xuICB2YXIgcHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpO1xuICB2YXIgc3RyO1xuXG4gIGlmIChwcm9wRGVzY3JpcHRvcikge1xuICAgIGlmIChwcm9wRGVzY3JpcHRvci5nZXQpIHtcbiAgICAgIGlmIChwcm9wRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcERlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh2aXNpYmxlS2V5cy5pbmRleE9mKGtleSkgPCAwKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKHZhbHVlW2tleV0pIDwgMCkge1xuICAgICAgaWYgKHJlY3Vyc2VUaW1lcyA9PT0gbnVsbCkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlW2tleV0sIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZVtrZXldLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIHJldHVybiBwcmV2ICsgY3VyLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuZnVuY3Rpb24gaXNUeXBlZEFycmF5KGFyKSB7XG4gIC8vIFVuZm9ydHVuYXRlbHkgdGhlcmUncyBubyB3YXkgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIGEgVHlwZWRBcnJheVxuICAvLyBXZSBoYXZlIHRvIGNoZWNrIGlmIGl0J3Mgb25lIG9mIHRoZXNlIHR5cGVzXG4gIHJldHVybiAodHlwZW9mIGFyID09PSAnb2JqZWN0JyAmJiAvXFx3K0FycmF5XSQvLnRlc3Qob2JqZWN0VG9TdHJpbmcoYXIpKSk7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpIHx8XG4gICAgICAgICAodHlwZW9mIGFyID09PSAnb2JqZWN0JyAmJiBvYmplY3RUb1N0cmluZyhhcikgPT09ICdbb2JqZWN0IEFycmF5XScpO1xufVxuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gdHlwZW9mIHJlID09PSAnb2JqZWN0JyAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gdHlwZW9mIGQgPT09ICdvYmplY3QnICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gdHlwZW9mIGUgPT09ICdvYmplY3QnICYmIG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nO1xufVxuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG4iLCIvKiFcbiAqIENoYWkgLSBmbGFnIHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKiFcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgaW5zcGVjdCA9IHJlcXVpcmUoJy4vaW5zcGVjdCcpO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZycpO1xuXG4vKipcbiAqICMjIyAub2JqRGlzcGxheShvYmplY3QpXG4gKlxuICogRGV0ZXJtaW5lcyBpZiBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgbWF0Y2hlc1xuICogY3JpdGVyaWEgdG8gYmUgaW5zcGVjdGVkIGluLWxpbmUgZm9yIGVycm9yXG4gKiBtZXNzYWdlcyBvciBzaG91bGQgYmUgdHJ1bmNhdGVkLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGphdmFzY3JpcHQgb2JqZWN0IHRvIGluc3BlY3RcbiAqIEBuYW1lIG9iakRpc3BsYXlcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvYmpEaXNwbGF5KG9iaikge1xuICB2YXIgc3RyID0gaW5zcGVjdChvYmopXG4gICAgLCB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7XG5cbiAgaWYgKGNvbmZpZy50cnVuY2F0ZVRocmVzaG9sZCAmJiBzdHIubGVuZ3RoID49IGNvbmZpZy50cnVuY2F0ZVRocmVzaG9sZCkge1xuICAgIGlmICh0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICByZXR1cm4gIW9iai5uYW1lIHx8IG9iai5uYW1lID09PSAnJ1xuICAgICAgICA/ICdbRnVuY3Rpb25dJ1xuICAgICAgICA6ICdbRnVuY3Rpb246ICcgKyBvYmoubmFtZSArICddJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybiAnWyBBcnJheSgnICsgb2JqLmxlbmd0aCArICcpIF0nO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKVxuICAgICAgICAsIGtzdHIgPSBrZXlzLmxlbmd0aCA+IDJcbiAgICAgICAgICA/IGtleXMuc3BsaWNlKDAsIDIpLmpvaW4oJywgJykgKyAnLCAuLi4nXG4gICAgICAgICAgOiBrZXlzLmpvaW4oJywgJyk7XG4gICAgICByZXR1cm4gJ3sgT2JqZWN0ICgnICsga3N0ciArICcpIH0nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59O1xuIiwiLyohXG4gKiBDaGFpIC0gZmxhZyB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiAjIyMgLmZsYWcob2JqZWN0LCBrZXksIFt2YWx1ZV0pXG4gKlxuICogR2V0IG9yIHNldCBhIGZsYWcgdmFsdWUgb24gYW4gb2JqZWN0LiBJZiBhXG4gKiB2YWx1ZSBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHNldCwgZWxzZSBpdCB3aWxsXG4gKiByZXR1cm4gdGhlIGN1cnJlbnRseSBzZXQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgaWZcbiAqIHRoZSB2YWx1ZSBpcyBub3Qgc2V0LlxuICpcbiAqICAgICB1dGlscy5mbGFnKHRoaXMsICdmb28nLCAnYmFyJyk7IC8vIHNldHRlclxuICogICAgIHV0aWxzLmZsYWcodGhpcywgJ2ZvbycpOyAvLyBnZXR0ZXIsIHJldHVybnMgYGJhcmBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IGNvbnN0cnVjdGVkIEFzc2VydGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgKG9wdGlvbmFsKVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZmxhZ1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmbGFnKG9iaiwga2V5LCB2YWx1ZSkge1xuICB2YXIgZmxhZ3MgPSBvYmouX19mbGFncyB8fCAob2JqLl9fZmxhZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICBmbGFnc1trZXldID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZsYWdzW2tleV07XG4gIH1cbn07XG4iLCIvKiFcbiAqIENoYWkgLSB0cmFuc2ZlckZsYWdzIHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqICMjIyAudHJhbnNmZXJGbGFncyhhc3NlcnRpb24sIG9iamVjdCwgaW5jbHVkZUFsbCA9IHRydWUpXG4gKlxuICogVHJhbnNmZXIgYWxsIHRoZSBmbGFncyBmb3IgYGFzc2VydGlvbmAgdG8gYG9iamVjdGAuIElmXG4gKiBgaW5jbHVkZUFsbGAgaXMgc2V0IHRvIGBmYWxzZWAsIHRoZW4gdGhlIGJhc2UgQ2hhaVxuICogYXNzZXJ0aW9uIGZsYWdzIChuYW1lbHkgYG9iamVjdGAsIGBzc2ZpYCwgYGxvY2tTc2ZpYCxcbiAqIGFuZCBgbWVzc2FnZWApIHdpbGwgbm90IGJlIHRyYW5zZmVycmVkLlxuICpcbiAqXG4gKiAgICAgdmFyIG5ld0Fzc2VydGlvbiA9IG5ldyBBc3NlcnRpb24oKTtcbiAqICAgICB1dGlscy50cmFuc2ZlckZsYWdzKGFzc2VydGlvbiwgbmV3QXNzZXJ0aW9uKTtcbiAqXG4gKiAgICAgdmFyIGFub3RoZXJBc3NlcnRpb24gPSBuZXcgQXNzZXJ0aW9uKG15T2JqKTtcbiAqICAgICB1dGlscy50cmFuc2ZlckZsYWdzKGFzc2VydGlvbiwgYW5vdGhlckFzc2VydGlvbiwgZmFsc2UpO1xuICpcbiAqIEBwYXJhbSB7QXNzZXJ0aW9ufSBhc3NlcnRpb24gdGhlIGFzc2VydGlvbiB0byB0cmFuc2ZlciB0aGUgZmxhZ3MgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0aGUgb2JqZWN0IHRvIHRyYW5zZmVyIHRoZSBmbGFncyB0bzsgdXN1YWxseSBhIG5ldyBhc3NlcnRpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5jbHVkZUFsbFxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgdHJhbnNmZXJGbGFnc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2ZlckZsYWdzKGFzc2VydGlvbiwgb2JqZWN0LCBpbmNsdWRlQWxsKSB7XG4gIHZhciBmbGFncyA9IGFzc2VydGlvbi5fX2ZsYWdzIHx8IChhc3NlcnRpb24uX19mbGFncyA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG4gIGlmICghb2JqZWN0Ll9fZmxhZ3MpIHtcbiAgICBvYmplY3QuX19mbGFncyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cblxuICBpbmNsdWRlQWxsID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMyA/IGluY2x1ZGVBbGwgOiB0cnVlO1xuXG4gIGZvciAodmFyIGZsYWcgaW4gZmxhZ3MpIHtcbiAgICBpZiAoaW5jbHVkZUFsbCB8fFxuICAgICAgICAoZmxhZyAhPT0gJ29iamVjdCcgJiYgZmxhZyAhPT0gJ3NzZmknICYmIGZsYWcgIT09ICdsb2NrU3NmaScgJiYgZmxhZyAhPSAnbWVzc2FnZScpKSB7XG4gICAgICBvYmplY3QuX19mbGFnc1tmbGFnXSA9IGZsYWdzW2ZsYWddO1xuICAgIH1cbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbHMgU3ltYm9sOiBmYWxzZSwgVWludDhBcnJheTogZmFsc2UsIFdlYWtNYXA6IGZhbHNlICovXG4vKiFcbiAqIGRlZXAtZXFsXG4gKiBDb3B5cmlnaHQoYykgMjAxMyBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbnZhciB0eXBlID0gcmVxdWlyZSgndHlwZS1kZXRlY3QnKTtcbmZ1bmN0aW9uIEZha2VNYXAoKSB7XG4gIHRoaXMuX2tleSA9ICdjaGFpL2RlZXAtZXFsX18nICsgTWF0aC5yYW5kb20oKSArIERhdGUubm93KCk7XG59XG5cbkZha2VNYXAucHJvdG90eXBlID0ge1xuICBnZXQ6IGZ1bmN0aW9uIGdldE1hcChrZXkpIHtcbiAgICByZXR1cm4ga2V5W3RoaXMuX2tleV07XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0TWFwKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoT2JqZWN0LmlzRXh0ZW5zaWJsZShrZXkpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoa2V5LCB0aGlzLl9rZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG59O1xuXG52YXIgTWVtb2l6ZU1hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IEZha2VNYXA7XG4vKiFcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgTWVtb2l6ZU1hcCBoYXMgcmVjb3JkZWQgYSByZXN1bHQgb2YgdGhlIHR3byBvcGVyYW5kc1xuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG4gKiBAcmV0dXJucyB7Qm9vbGVhbnxudWxsfSByZXN1bHRcbiovXG5mdW5jdGlvbiBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXApIHtcbiAgLy8gVGVjaG5pY2FsbHksIFdlYWtNYXAga2V5cyBjYW4gKm9ubHkqIGJlIG9iamVjdHMsIG5vdCBwcmltaXRpdmVzLlxuICBpZiAoIW1lbW9pemVNYXAgfHwgaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBsZWZ0SGFuZE1hcCA9IG1lbW9pemVNYXAuZ2V0KGxlZnRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZE1hcCkge1xuICAgIHZhciByZXN1bHQgPSBsZWZ0SGFuZE1hcC5nZXQocmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qIVxuICogU2V0IHRoZSByZXN1bHQgb2YgdGhlIGVxdWFsaXR5IGludG8gdGhlIE1lbW9pemVNYXBcbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWVtb2l6ZU1hcH0gbWVtb2l6ZU1hcFxuICogQHBhcmFtIHtCb29sZWFufSByZXN1bHRcbiovXG5mdW5jdGlvbiBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbWVtb2l6ZU1hcCwgcmVzdWx0KSB7XG4gIC8vIFRlY2huaWNhbGx5LCBXZWFrTWFwIGtleXMgY2FuICpvbmx5KiBiZSBvYmplY3RzLCBub3QgcHJpbWl0aXZlcy5cbiAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kTWFwKSB7XG4gICAgbGVmdEhhbmRNYXAuc2V0KHJpZ2h0SGFuZE9wZXJhbmQsIHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgbGVmdEhhbmRNYXAgPSBuZXcgTWVtb2l6ZU1hcCgpO1xuICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuICAgIG1lbW9pemVNYXAuc2V0KGxlZnRIYW5kT3BlcmFuZCwgbGVmdEhhbmRNYXApO1xuICB9XG59XG5cbi8qIVxuICogUHJpbWFyeSBFeHBvcnRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBFcXVhbDtcbm1vZHVsZS5leHBvcnRzLk1lbW9pemVNYXAgPSBNZW1vaXplTWFwO1xuXG4vKipcbiAqIEFzc2VydCBkZWVwbHkgbmVzdGVkIHNhbWVWYWx1ZSBlcXVhbGl0eSBiZXR3ZWVuIHR3byBvYmplY3RzIG9mIGFueSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAob3B0aW9uYWwpIEFkZGl0aW9uYWwgb3B0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWVtb2l6ZV0gKG9wdGlvbmFsKSBQcm92aWRlIGEgY3VzdG9tIG1lbW9pemF0aW9uIG9iamVjdCB3aGljaCB3aWxsIGNhY2hlIHRoZSByZXN1bHRzIG9mXG4gICAgY29tcGxleCBvYmplY3RzIGZvciBhIHNwZWVkIGJvb3N0LiBCeSBwYXNzaW5nIGBmYWxzZWAgeW91IGNhbiBkaXNhYmxlIG1lbW9pemF0aW9uLCBidXQgdGhpcyB3aWxsIGNhdXNlIGNpcmN1bGFyXG4gICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIG1hdGNoXG4gKi9cbmZ1bmN0aW9uIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgLy8gSWYgd2UgaGF2ZSBhIGNvbXBhcmF0b3IsIHdlIGNhbid0IGFzc3VtZSBhbnl0aGluZzsgc28gYmFpbCB0byBpdHMgY2hlY2sgZmlyc3QuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY29tcGFyYXRvcikge1xuICAgIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgfVxuXG4gIHZhciBzaW1wbGVSZXN1bHQgPSBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHNpbXBsZVJlc3VsdDtcbiAgfVxuXG4gIC8vIERlZXBlciBjb21wYXJpc29ucyBhcmUgcHVzaGVkIHRocm91Z2ggdG8gYSBsYXJnZXIgZnVuY3Rpb25cbiAgcmV0dXJuIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIE1hbnkgY29tcGFyaXNvbnMgY2FuIGJlIGNhbmNlbGVkIG91dCBlYXJseSB2aWEgc2ltcGxlIGVxdWFsaXR5IG9yIHByaW1pdGl2ZSBjaGVja3MuXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEByZXR1cm4ge0Jvb2xlYW58bnVsbH0gZXF1YWwgbWF0Y2hcbiAqL1xuZnVuY3Rpb24gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG4gIC8vIEVxdWFsIHJlZmVyZW5jZXMgKGV4Y2VwdCBmb3IgTnVtYmVycykgY2FuIGJlIHJldHVybmVkIGVhcmx5XG4gIGlmIChsZWZ0SGFuZE9wZXJhbmQgPT09IHJpZ2h0SGFuZE9wZXJhbmQpIHtcbiAgICAvLyBIYW5kbGUgKy0wIGNhc2VzXG4gICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCAhPT0gMCB8fCAxIC8gbGVmdEhhbmRPcGVyYW5kID09PSAxIC8gcmlnaHRIYW5kT3BlcmFuZDtcbiAgfVxuXG4gIC8vIGhhbmRsZSBOYU4gY2FzZXNcbiAgaWYgKFxuICAgIGxlZnRIYW5kT3BlcmFuZCAhPT0gbGVmdEhhbmRPcGVyYW5kICYmIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgcmlnaHRIYW5kT3BlcmFuZCAhPT0gcmlnaHRIYW5kT3BlcmFuZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFueXRoaW5nIHRoYXQgaXMgbm90IGFuICdvYmplY3QnLCBpLmUuIHN5bWJvbHMsIGZ1bmN0aW9ucywgYm9vbGVhbnMsIG51bWJlcnMsXG4gIC8vIHN0cmluZ3MsIGFuZCB1bmRlZmluZWQsIGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UuXG4gIGlmIChpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgLy8gRWFzeSBvdXQgYi9jIGl0IHdvdWxkIGhhdmUgcGFzc2VkIHRoZSBmaXJzdCBlcXVhbGl0eSBjaGVja1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyohXG4gKiBUaGUgbWFpbiBsb2dpYyBvZiB0aGUgYGRlZXBFcXVhbGAgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChvcHRpb25hbCkgQWRkaXRpb25hbCBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5jb21wYXJhdG9yXSAob3B0aW9uYWwpIE92ZXJyaWRlIGRlZmF1bHQgYWxnb3JpdGhtLCBkZXRlcm1pbmluZyBjdXN0b20gZXF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2ZcbiAgICBjb21wbGV4IG9iamVjdHMgZm9yIGEgc3BlZWQgYm9vc3QuIEJ5IHBhc3NpbmcgYGZhbHNlYCB5b3UgY2FuIGRpc2FibGUgbWVtb2l6YXRpb24sIGJ1dCB0aGlzIHdpbGwgY2F1c2UgY2lyY3VsYXJcbiAgICByZWZlcmVuY2VzIHRvIGJsb3cgdGhlIHN0YWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcbiovXG5mdW5jdGlvbiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLm1lbW9pemUgPSBvcHRpb25zLm1lbW9pemUgPT09IGZhbHNlID8gZmFsc2UgOiBvcHRpb25zLm1lbW9pemUgfHwgbmV3IE1lbW9pemVNYXAoKTtcbiAgdmFyIGNvbXBhcmF0b3IgPSBvcHRpb25zICYmIG9wdGlvbnMuY29tcGFyYXRvcjtcblxuICAvLyBDaGVjayBpZiBhIG1lbW9pemVkIHJlc3VsdCBleGlzdHMuXG4gIHZhciBtZW1vaXplUmVzdWx0TGVmdCA9IG1lbW9pemVDb21wYXJlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcbiAgaWYgKG1lbW9pemVSZXN1bHRMZWZ0ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIG1lbW9pemVSZXN1bHRMZWZ0O1xuICB9XG4gIHZhciBtZW1vaXplUmVzdWx0UmlnaHQgPSBtZW1vaXplQ29tcGFyZShyaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG4gIGlmIChtZW1vaXplUmVzdWx0UmlnaHQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdFJpZ2h0O1xuICB9XG5cbiAgLy8gSWYgYSBjb21wYXJhdG9yIGlzIHByZXNlbnQsIHVzZSBpdC5cbiAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgY29tcGFyYXRvclJlc3VsdCA9IGNvbXBhcmF0b3IobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgICAvLyBDb21wYXJhdG9ycyBtYXkgcmV0dXJuIG51bGwsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBnbyBiYWNrIHRvIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgaWYgKGNvbXBhcmF0b3JSZXN1bHQgPT09IGZhbHNlIHx8IGNvbXBhcmF0b3JSZXN1bHQgPT09IHRydWUpIHtcbiAgICAgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIGNvbXBhcmF0b3JSZXN1bHQpO1xuICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQ7XG4gICAgfVxuICAgIC8vIFRvIGFsbG93IGNvbXBhcmF0b3JzIHRvIG92ZXJyaWRlICphbnkqIGJlaGF2aW9yLCB3ZSByYW4gdGhlbSBmaXJzdC4gU2luY2UgaXQgZGlkbid0IGRlY2lkZVxuICAgIC8vIHdoYXQgdG8gZG8sIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRvIHJldHVybiB0aGUgYmFzaWMgdGVzdHMgZmlyc3QgYmVmb3JlIHdlIG1vdmUgb24uXG4gICAgdmFyIHNpbXBsZVJlc3VsdCA9IHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgaWYgKHNpbXBsZVJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgLy8gRG9uJ3QgbWVtb2l6ZSB0aGlzLCBpdCB0YWtlcyBsb25nZXIgdG8gc2V0L3JldHJpZXZlIHRoYW4gdG8ganVzdCBjb21wYXJlLlxuICAgICAgcmV0dXJuIHNpbXBsZVJlc3VsdDtcbiAgICB9XG4gIH1cblxuICB2YXIgbGVmdEhhbmRUeXBlID0gdHlwZShsZWZ0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRUeXBlICE9PSB0eXBlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgZmFsc2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlbXBvcmFyaWx5IHNldCB0aGUgb3BlcmFuZHMgaW4gdGhlIG1lbW9pemUgb2JqZWN0IHRvIHByZXZlbnQgYmxvd2luZyB0aGUgc3RhY2tcbiAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgdHJ1ZSk7XG5cbiAgdmFyIHJlc3VsdCA9IGV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kVHlwZSwgb3B0aW9ucyk7XG4gIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kVHlwZSwgb3B0aW9ucykge1xuICBzd2l0Y2ggKGxlZnRIYW5kVHlwZSkge1xuICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgY2FzZSAnTnVtYmVyJzpcbiAgICBjYXNlICdCb29sZWFuJzpcbiAgICBjYXNlICdEYXRlJzpcbiAgICAgIC8vIElmIHRoZXNlIHR5cGVzIGFyZSB0aGVpciBpbnN0YW5jZSB0eXBlcyAoZS5nLiBgbmV3IE51bWJlcmApIHRoZW4gcmUtZGVlcEVxdWFsIGFnYWluc3QgdGhlaXIgdmFsdWVzXG4gICAgICByZXR1cm4gZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZC52YWx1ZU9mKCksIHJpZ2h0SGFuZE9wZXJhbmQudmFsdWVPZigpKTtcbiAgICBjYXNlICdQcm9taXNlJzpcbiAgICBjYXNlICdTeW1ib2wnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICBjYXNlICdXZWFrTWFwJzpcbiAgICBjYXNlICdXZWFrU2V0JzpcbiAgICBjYXNlICdFcnJvcic6XG4gICAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kO1xuICAgIGNhc2UgJ0FyZ3VtZW50cyc6XG4gICAgY2FzZSAnSW50OEFycmF5JzpcbiAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICBjYXNlICdVaW50OENsYW1wZWRBcnJheSc6XG4gICAgY2FzZSAnSW50MTZBcnJheSc6XG4gICAgY2FzZSAnVWludDE2QXJyYXknOlxuICAgIGNhc2UgJ0ludDMyQXJyYXknOlxuICAgIGNhc2UgJ1VpbnQzMkFycmF5JzpcbiAgICBjYXNlICdGbG9hdDMyQXJyYXknOlxuICAgIGNhc2UgJ0Zsb2F0NjRBcnJheSc6XG4gICAgY2FzZSAnQXJyYXknOlxuICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgcmV0dXJuIHJlZ2V4cEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgY2FzZSAnR2VuZXJhdG9yJzpcbiAgICAgIHJldHVybiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGNhc2UgJ0RhdGFWaWV3JzpcbiAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKG5ldyBVaW50OEFycmF5KGxlZnRIYW5kT3BlcmFuZC5idWZmZXIpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kLmJ1ZmZlciksIG9wdGlvbnMpO1xuICAgIGNhc2UgJ0FycmF5QnVmZmVyJzpcbiAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKG5ldyBVaW50OEFycmF5KGxlZnRIYW5kT3BlcmFuZCksIG5ldyBVaW50OEFycmF5KHJpZ2h0SGFuZE9wZXJhbmQpLCBvcHRpb25zKTtcbiAgICBjYXNlICdTZXQnOlxuICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGNhc2UgJ01hcCc6XG4gICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBvYmplY3RFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICB9XG59XG5cbi8qIVxuICogQ29tcGFyZSB0d28gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgZXF1YWxpdHkuXG4gKlxuICogQHBhcmFtIHtSZWdFeHB9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtSZWdFeHB9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIHJlZ2V4cEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCkge1xuICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kLnRvU3RyaW5nKCkgPT09IHJpZ2h0SGFuZE9wZXJhbmQudG9TdHJpbmcoKTtcbn1cblxuLyohXG4gKiBDb21wYXJlIHR3byBTZXRzL01hcHMgZm9yIGVxdWFsaXR5LiBGYXN0ZXIgdGhhbiBvdGhlciBlcXVhbGl0eSBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtTZXR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtTZXR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBTZXQjZW50cmllcyBvciBTZXQjQEBpdGVyYXRvciwgc28gd2UgbmVlZCBtYW51YWxseSBwb3B1bGF0ZSB1c2luZyBTZXQjZm9yRWFjaFxuICBpZiAobGVmdEhhbmRPcGVyYW5kLnNpemUgIT09IHJpZ2h0SGFuZE9wZXJhbmQuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobGVmdEhhbmRPcGVyYW5kLnNpemUgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgbGVmdEhhbmRJdGVtcyA9IFtdO1xuICB2YXIgcmlnaHRIYW5kSXRlbXMgPSBbXTtcbiAgbGVmdEhhbmRPcGVyYW5kLmZvckVhY2goZnVuY3Rpb24gZ2F0aGVyRW50cmllcyhrZXksIHZhbHVlKSB7XG4gICAgbGVmdEhhbmRJdGVtcy5wdXNoKFsga2V5LCB2YWx1ZSBdKTtcbiAgfSk7XG4gIHJpZ2h0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcbiAgICByaWdodEhhbmRJdGVtcy5wdXNoKFsga2V5LCB2YWx1ZSBdKTtcbiAgfSk7XG4gIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kSXRlbXMuc29ydCgpLCByaWdodEhhbmRJdGVtcy5zb3J0KCksIG9wdGlvbnMpO1xufVxuXG4vKiFcbiAqIFNpbXBsZSBlcXVhbGl0eSBmb3IgZmxhdCBpdGVyYWJsZSBvYmplY3RzIHN1Y2ggYXMgQXJyYXlzLCBUeXBlZEFycmF5cyBvciBOb2RlLmpzIGJ1ZmZlcnMuXG4gKlxuICogQHBhcmFtIHtJdGVyYWJsZX0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIHZhciBsZW5ndGggPSBsZWZ0SGFuZE9wZXJhbmQubGVuZ3RoO1xuICBpZiAobGVuZ3RoICE9PSByaWdodEhhbmRPcGVyYW5kLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTE7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmRbaW5kZXhdLCByaWdodEhhbmRPcGVyYW5kW2luZGV4XSwgb3B0aW9ucykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKiFcbiAqIFNpbXBsZSBlcXVhbGl0eSBmb3IgZ2VuZXJhdG9yIG9iamVjdHMgc3VjaCBhcyB0aG9zZSByZXR1cm5lZCBieSBnZW5lcmF0b3IgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7SXRlcmFibGV9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwoZ2V0R2VuZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpLCBnZXRHZW5lcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpLCBvcHRpb25zKTtcbn1cblxuLyohXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgYW4gQEBpdGVyYXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBoYXMgYW4gQEBpdGVyYXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaGFzSXRlcmF0b3JGdW5jdGlvbih0YXJnZXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB0YXJnZXRbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyohXG4gKiBHZXRzIGFsbCBpdGVyYXRvciBlbnRyaWVzIGZyb20gdGhlIGdpdmVuIE9iamVjdC4gSWYgdGhlIE9iamVjdCBoYXMgbm8gQEBpdGVyYXRvciBmdW5jdGlvbiwgcmV0dXJucyBhbiBlbXB0eSBhcnJheS5cbiAqIFRoaXMgd2lsbCBjb25zdW1lIHRoZSBpdGVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzIGRlcGVuZGluZyBvbiB0aGUgQEBpdGVyYXRvciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIGVudHJpZXMgZnJvbSB0aGUgQEBpdGVyYXRvciBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckVudHJpZXModGFyZ2V0KSB7XG4gIGlmIChoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGdldEdlbmVyYXRvckVudHJpZXModGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0oKSk7XG4gICAgfSBjYXRjaCAoaXRlcmF0b3JFcnJvcikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW107XG59XG5cbi8qIVxuICogR2V0cyBhbGwgZW50cmllcyBmcm9tIGEgR2VuZXJhdG9yLiBUaGlzIHdpbGwgY29uc3VtZSB0aGUgZ2VuZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMuXG4gKlxuICogQHBhcmFtIHtHZW5lcmF0b3J9IHRhcmdldFxuICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBlbnRyaWVzIGZyb20gdGhlIEdlbmVyYXRvci5cbiAqL1xuZnVuY3Rpb24gZ2V0R2VuZXJhdG9yRW50cmllcyhnZW5lcmF0b3IpIHtcbiAgdmFyIGdlbmVyYXRvclJlc3VsdCA9IGdlbmVyYXRvci5uZXh0KCk7XG4gIHZhciBhY2N1bXVsYXRvciA9IFsgZ2VuZXJhdG9yUmVzdWx0LnZhbHVlIF07XG4gIHdoaWxlIChnZW5lcmF0b3JSZXN1bHQuZG9uZSA9PT0gZmFsc2UpIHtcbiAgICBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuICAgIGFjY3VtdWxhdG9yLnB1c2goZ2VuZXJhdG9yUmVzdWx0LnZhbHVlKTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qIVxuICogR2V0cyBhbGwgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBrZXlzIGZyb20gYSB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSB0aGUgdGFyZ2V0LlxuICovXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlS2V5cyh0YXJnZXQpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuXG4vKiFcbiAqIERldGVybWluZXMgaWYgdHdvIG9iamVjdHMgaGF2ZSBtYXRjaGluZyB2YWx1ZXMsIGdpdmVuIGEgc2V0IG9mIGtleXMuIERlZmVycyB0byBkZWVwRXF1YWwgZm9yIHRoZSBlcXVhbGl0eSBjaGVjayBvZlxuICogZWFjaCBrZXkuIElmIGFueSB2YWx1ZSBvZiB0aGUgZ2l2ZW4ga2V5IGlzIG5vdCBlcXVhbCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZhbHNlIChlYXJseSkuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge0FycmF5fSBrZXlzIEFuIGFycmF5IG9mIGtleXMgdG8gY29tcGFyZSB0aGUgdmFsdWVzIG9mIGxlZnRIYW5kT3BlcmFuZCBhbmQgcmlnaHRIYW5kT3BlcmFuZCBhZ2FpbnN0XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5mdW5jdGlvbiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBrZXlzLCBvcHRpb25zKSB7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgcmlnaHRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgb3B0aW9ucykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKiFcbiAqIFJlY3Vyc2l2ZWx5IGNoZWNrIHRoZSBlcXVhbGl0eSBvZiB0d28gT2JqZWN0cy4gT25jZSBiYXNpYyBzYW1lbmVzcyBoYXMgYmVlbiBlc3RhYmxpc2hlZCBpdCB3aWxsIGRlZmVyIHRvIGBkZWVwRXF1YWxgXG4gKiBmb3IgZWFjaCBlbnVtZXJhYmxlIGtleSBpbiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBvYmplY3RFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlZnRIYW5kS2V5cyA9IGdldEVudW1lcmFibGVLZXlzKGxlZnRIYW5kT3BlcmFuZCk7XG4gIHZhciByaWdodEhhbmRLZXlzID0gZ2V0RW51bWVyYWJsZUtleXMocmlnaHRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZEtleXMubGVuZ3RoICYmIGxlZnRIYW5kS2V5cy5sZW5ndGggPT09IHJpZ2h0SGFuZEtleXMubGVuZ3RoKSB7XG4gICAgbGVmdEhhbmRLZXlzLnNvcnQoKTtcbiAgICByaWdodEhhbmRLZXlzLnNvcnQoKTtcbiAgICBpZiAoaXRlcmFibGVFcXVhbChsZWZ0SGFuZEtleXMsIHJpZ2h0SGFuZEtleXMpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5c0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRLZXlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHZhciBsZWZ0SGFuZEVudHJpZXMgPSBnZXRJdGVyYXRvckVudHJpZXMobGVmdEhhbmRPcGVyYW5kKTtcbiAgdmFyIHJpZ2h0SGFuZEVudHJpZXMgPSBnZXRJdGVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZEVudHJpZXMubGVuZ3RoICYmIGxlZnRIYW5kRW50cmllcy5sZW5ndGggPT09IHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoKSB7XG4gICAgbGVmdEhhbmRFbnRyaWVzLnNvcnQoKTtcbiAgICByaWdodEhhbmRFbnRyaWVzLnNvcnQoKTtcbiAgICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZEVudHJpZXMsIHJpZ2h0SGFuZEVudHJpZXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggPT09IDAgJiZcbiAgICAgIGxlZnRIYW5kRW50cmllcy5sZW5ndGggPT09IDAgJiZcbiAgICAgIHJpZ2h0SGFuZEtleXMubGVuZ3RoID09PSAwICYmXG4gICAgICByaWdodEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKiFcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBwcmltaXRpdmUuXG4gKlxuICogVGhpcyBpbnRlbnRpb25hbGx5IHJldHVybnMgdHJ1ZSBmb3IgYWxsIG9iamVjdHMgdGhhdCBjYW4gYmUgY29tcGFyZWQgYnkgcmVmZXJlbmNlLFxuICogaW5jbHVkaW5nIGZ1bmN0aW9ucyBhbmQgc3ltYm9scy5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiAhXG4gKiBDaGFpIC0gZ2V0RnVuY05hbWUgdXRpbGl0eVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNiBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogIyMjIC5nZXRGdW5jTmFtZShjb25zdHJ1Y3RvckZuKVxuICpcbiAqIFJldHVybnMgdGhlIG5hbWUgb2YgYSBmdW5jdGlvbi5cbiAqIFdoZW4gYSBub24tZnVuY3Rpb24gaW5zdGFuY2UgaXMgcGFzc2VkLCByZXR1cm5zIGBudWxsYC5cbiAqIFRoaXMgYWxzbyBpbmNsdWRlcyBhIHBvbHlmaWxsIGZ1bmN0aW9uIGlmIGBhRnVuYy5uYW1lYCBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBAbmFtZSBnZXRGdW5jTmFtZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuY3RcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxudmFyIHRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmN0aW9uTmFtZU1hdGNoID0gL1xccypmdW5jdGlvbig/Olxcc3xcXHMqXFwvXFwqW14oPzoqXFwvKV0rXFwqXFwvXFxzKikqKFteXFxzXFwoXFwvXSspLztcbmZ1bmN0aW9uIGdldEZ1bmNOYW1lKGFGdW5jKSB7XG4gIGlmICh0eXBlb2YgYUZ1bmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBuYW1lID0gJyc7XG4gIGlmICh0eXBlb2YgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBhRnVuYy5uYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEhlcmUgd2UgcnVuIGEgcG9seWZpbGwgaWYgRnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCB0aGUgYG5hbWVgIHByb3BlcnR5IGFuZCBpZiBhRnVuYy5uYW1lIGlzIG5vdCBkZWZpbmVkXG4gICAgdmFyIG1hdGNoID0gdG9TdHJpbmcuY2FsbChhRnVuYykubWF0Y2goZnVuY3Rpb25OYW1lTWF0Y2gpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgbmFtZSA9IG1hdGNoWzFdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJZiB3ZSd2ZSBnb3QgYSBgbmFtZWAgcHJvcGVydHkgd2UganVzdCB1c2UgaXRcbiAgICBuYW1lID0gYUZ1bmMubmFtZTtcbiAgfVxuXG4gIHJldHVybiBuYW1lO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEZ1bmNOYW1lO1xuIiwiLyohXG4gKiBDaGFpIC0gYWRkUHJvcGVydHkgdXRpbGl0eVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbnZhciBjaGFpID0gcmVxdWlyZSgnLi4vLi4vY2hhaScpO1xudmFyIGZsYWcgPSByZXF1aXJlKCcuL2ZsYWcnKTtcbnZhciBpc1Byb3h5RW5hYmxlZCA9IHJlcXVpcmUoJy4vaXNQcm94eUVuYWJsZWQnKTtcbnZhciB0cmFuc2ZlckZsYWdzID0gcmVxdWlyZSgnLi90cmFuc2ZlckZsYWdzJyk7XG5cbi8qKlxuICogIyMjIC5hZGRQcm9wZXJ0eShjdHgsIG5hbWUsIGdldHRlcilcbiAqXG4gKiBBZGRzIGEgcHJvcGVydHkgdG8gdGhlIHByb3RvdHlwZSBvZiBhbiBvYmplY3QuXG4gKlxuICogICAgIHV0aWxzLmFkZFByb3BlcnR5KGNoYWkuQXNzZXJ0aW9uLnByb3RvdHlwZSwgJ2ZvbycsIGZ1bmN0aW9uICgpIHtcbiAqICAgICAgIHZhciBvYmogPSB1dGlscy5mbGFnKHRoaXMsICdvYmplY3QnKTtcbiAqICAgICAgIG5ldyBjaGFpLkFzc2VydGlvbihvYmopLnRvLmJlLmluc3RhbmNlb2YoRm9vKTtcbiAqICAgICB9KTtcbiAqXG4gKiBDYW4gYWxzbyBiZSBhY2Nlc3NlZCBkaXJlY3RseSBmcm9tIGBjaGFpLkFzc2VydGlvbmAuXG4gKlxuICogICAgIGNoYWkuQXNzZXJ0aW9uLmFkZFByb3BlcnR5KCdmb28nLCBmbik7XG4gKlxuICogVGhlbiBjYW4gYmUgdXNlZCBhcyBhbnkgb3RoZXIgYXNzZXJ0aW9uLlxuICpcbiAqICAgICBleHBlY3QobXlGb28pLnRvLmJlLmZvbztcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY3R4IG9iamVjdCB0byB3aGljaCB0aGUgcHJvcGVydHkgaXMgYWRkZWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHByb3BlcnR5IHRvIGFkZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0dGVyIGZ1bmN0aW9uIHRvIGJlIHVzZWQgZm9yIG5hbWVcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBuYW1lIGFkZFByb3BlcnR5XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYWRkUHJvcGVydHkoY3R4LCBuYW1lLCBnZXR0ZXIpIHtcbiAgZ2V0dGVyID0gZ2V0dGVyID09PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAoKSB7fSA6IGdldHRlcjtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBuYW1lLFxuICAgIHsgZ2V0OiBmdW5jdGlvbiBwcm9wZXJ0eUdldHRlcigpIHtcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgYHNzZmlgIGZsYWcgdG8gYHByb3BlcnR5R2V0dGVyYCBjYXVzZXMgdGhpcyBmdW5jdGlvbiB0b1xuICAgICAgICAvLyBiZSB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIHJlbW92aW5nIGltcGxlbWVudGF0aW9uIGZyYW1lcyBmcm9tIHRoZVxuICAgICAgICAvLyBzdGFjayB0cmFjZSBvZiBhIGZhaWxlZCBhc3NlcnRpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEhvd2V2ZXIsIHdlIG9ubHkgd2FudCB0byB1c2UgdGhpcyBmdW5jdGlvbiBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgaWZcbiAgICAgICAgLy8gdGhlIGBsb2NrU3NmaWAgZmxhZyBpc24ndCBzZXQgYW5kIHByb3h5IHByb3RlY3Rpb24gaXMgZGlzYWJsZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZSBgbG9ja1NzZmlgIGZsYWcgaXMgc2V0LCB0aGVuIGVpdGhlciB0aGlzIGFzc2VydGlvbiBoYXMgYmVlblxuICAgICAgICAvLyBvdmVyd3JpdHRlbiBieSBhbm90aGVyIGFzc2VydGlvbiwgb3IgdGhpcyBhc3NlcnRpb24gaXMgYmVpbmcgaW52b2tlZFxuICAgICAgICAvLyBmcm9tIGluc2lkZSBvZiBhbm90aGVyIGFzc2VydGlvbi4gSW4gdGhlIGZpcnN0IGNhc2UsIHRoZSBgc3NmaWAgZmxhZ1xuICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSB0aGUgb3ZlcndyaXRpbmcgYXNzZXJ0aW9uLiBJbiB0aGUgc2Vjb25kXG4gICAgICAgIC8vIGNhc2UsIHRoZSBgc3NmaWAgZmxhZyBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSB0aGUgb3V0ZXIgYXNzZXJ0aW9uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiBwcm94eSBwcm90ZWN0aW9uIGlzIGVuYWJsZWQsIHRoZW4gdGhlIGBzc2ZpYCBmbGFnIGhhcyBhbHJlYWR5IGJlZW5cbiAgICAgICAgLy8gc2V0IGJ5IHRoZSBwcm94eSBnZXR0ZXIuXG4gICAgICAgIGlmICghaXNQcm94eUVuYWJsZWQoKSAmJiAhZmxhZyh0aGlzLCAnbG9ja1NzZmknKSkge1xuICAgICAgICAgIGZsYWcodGhpcywgJ3NzZmknLCBwcm9wZXJ0eUdldHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0dGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIHZhciBuZXdBc3NlcnRpb24gPSBuZXcgY2hhaS5Bc3NlcnRpb24oKTtcbiAgICAgICAgdHJhbnNmZXJGbGFncyh0aGlzLCBuZXdBc3NlcnRpb24pO1xuICAgICAgICByZXR1cm4gbmV3QXNzZXJ0aW9uO1xuICAgICAgfVxuICAgICwgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufTtcbiIsIi8qIVxuICogQ2hhaSAtIGFkZE1ldGhvZCB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxudmFyIGFkZExlbmd0aEd1YXJkID0gcmVxdWlyZSgnLi9hZGRMZW5ndGhHdWFyZCcpO1xudmFyIGNoYWkgPSByZXF1aXJlKCcuLi8uLi9jaGFpJyk7XG52YXIgZmxhZyA9IHJlcXVpcmUoJy4vZmxhZycpO1xudmFyIHByb3hpZnkgPSByZXF1aXJlKCcuL3Byb3hpZnknKTtcbnZhciB0cmFuc2ZlckZsYWdzID0gcmVxdWlyZSgnLi90cmFuc2ZlckZsYWdzJyk7XG5cbi8qKlxuICogIyMjIC5hZGRNZXRob2QoY3R4LCBuYW1lLCBtZXRob2QpXG4gKlxuICogQWRkcyBhIG1ldGhvZCB0byB0aGUgcHJvdG90eXBlIG9mIGFuIG9iamVjdC5cbiAqXG4gKiAgICAgdXRpbHMuYWRkTWV0aG9kKGNoYWkuQXNzZXJ0aW9uLnByb3RvdHlwZSwgJ2ZvbycsIGZ1bmN0aW9uIChzdHIpIHtcbiAqICAgICAgIHZhciBvYmogPSB1dGlscy5mbGFnKHRoaXMsICdvYmplY3QnKTtcbiAqICAgICAgIG5ldyBjaGFpLkFzc2VydGlvbihvYmopLnRvLmJlLmVxdWFsKHN0cik7XG4gKiAgICAgfSk7XG4gKlxuICogQ2FuIGFsc28gYmUgYWNjZXNzZWQgZGlyZWN0bHkgZnJvbSBgY2hhaS5Bc3NlcnRpb25gLlxuICpcbiAqICAgICBjaGFpLkFzc2VydGlvbi5hZGRNZXRob2QoJ2ZvbycsIGZuKTtcbiAqXG4gKiBUaGVuIGNhbiBiZSB1c2VkIGFzIGFueSBvdGhlciBhc3NlcnRpb24uXG4gKlxuICogICAgIGV4cGVjdChmb29TdHIpLnRvLmJlLmZvbygnYmFyJyk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGN0eCBvYmplY3QgdG8gd2hpY2ggdGhlIG1ldGhvZCBpcyBhZGRlZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgb2YgbWV0aG9kIHRvIGFkZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kIGZ1bmN0aW9uIHRvIGJlIHVzZWQgZm9yIG5hbWVcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBuYW1lIGFkZE1ldGhvZFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFkZE1ldGhvZChjdHgsIG5hbWUsIG1ldGhvZCkge1xuICB2YXIgbWV0aG9kV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTZXR0aW5nIHRoZSBgc3NmaWAgZmxhZyB0byBgbWV0aG9kV3JhcHBlcmAgY2F1c2VzIHRoaXMgZnVuY3Rpb24gdG8gYmUgdGhlXG4gICAgLy8gc3RhcnRpbmcgcG9pbnQgZm9yIHJlbW92aW5nIGltcGxlbWVudGF0aW9uIGZyYW1lcyBmcm9tIHRoZSBzdGFjayB0cmFjZSBvZlxuICAgIC8vIGEgZmFpbGVkIGFzc2VydGlvbi5cbiAgICAvL1xuICAgIC8vIEhvd2V2ZXIsIHdlIG9ubHkgd2FudCB0byB1c2UgdGhpcyBmdW5jdGlvbiBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgaWYgdGhlXG4gICAgLy8gYGxvY2tTc2ZpYCBmbGFnIGlzbid0IHNldC5cbiAgICAvL1xuICAgIC8vIElmIHRoZSBgbG9ja1NzZmlgIGZsYWcgaXMgc2V0LCB0aGVuIGVpdGhlciB0aGlzIGFzc2VydGlvbiBoYXMgYmVlblxuICAgIC8vIG92ZXJ3cml0dGVuIGJ5IGFub3RoZXIgYXNzZXJ0aW9uLCBvciB0aGlzIGFzc2VydGlvbiBpcyBiZWluZyBpbnZva2VkIGZyb21cbiAgICAvLyBpbnNpZGUgb2YgYW5vdGhlciBhc3NlcnRpb24uIEluIHRoZSBmaXJzdCBjYXNlLCB0aGUgYHNzZmlgIGZsYWcgaGFzXG4gICAgLy8gYWxyZWFkeSBiZWVuIHNldCBieSB0aGUgb3ZlcndyaXRpbmcgYXNzZXJ0aW9uLiBJbiB0aGUgc2Vjb25kIGNhc2UsIHRoZVxuICAgIC8vIGBzc2ZpYCBmbGFnIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IHRoZSBvdXRlciBhc3NlcnRpb24uXG4gICAgaWYgKCFmbGFnKHRoaXMsICdsb2NrU3NmaScpKSB7XG4gICAgICBmbGFnKHRoaXMsICdzc2ZpJywgbWV0aG9kV3JhcHBlcik7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZClcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB2YXIgbmV3QXNzZXJ0aW9uID0gbmV3IGNoYWkuQXNzZXJ0aW9uKCk7XG4gICAgdHJhbnNmZXJGbGFncyh0aGlzLCBuZXdBc3NlcnRpb24pO1xuICAgIHJldHVybiBuZXdBc3NlcnRpb247XG4gIH07XG5cbiAgYWRkTGVuZ3RoR3VhcmQobWV0aG9kV3JhcHBlciwgbmFtZSwgZmFsc2UpO1xuICBjdHhbbmFtZV0gPSBwcm94aWZ5KG1ldGhvZFdyYXBwZXIsIG5hbWUpO1xufTtcbiIsIi8qIVxuICogQ2hhaSAtIG92ZXJ3cml0ZVByb3BlcnR5IHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG52YXIgY2hhaSA9IHJlcXVpcmUoJy4uLy4uL2NoYWknKTtcbnZhciBmbGFnID0gcmVxdWlyZSgnLi9mbGFnJyk7XG52YXIgaXNQcm94eUVuYWJsZWQgPSByZXF1aXJlKCcuL2lzUHJveHlFbmFibGVkJyk7XG52YXIgdHJhbnNmZXJGbGFncyA9IHJlcXVpcmUoJy4vdHJhbnNmZXJGbGFncycpO1xuXG4vKipcbiAqICMjIyAub3ZlcndyaXRlUHJvcGVydHkoY3R4LCBuYW1lLCBmbilcbiAqXG4gKiBPdmVyd3JpdGVzIGFuIGFscmVhZHkgZXhpc3RpbmcgcHJvcGVydHkgZ2V0dGVyIGFuZCBwcm92aWRlc1xuICogYWNjZXNzIHRvIHByZXZpb3VzIHZhbHVlLiBNdXN0IHJldHVybiBmdW5jdGlvbiB0byB1c2UgYXMgZ2V0dGVyLlxuICpcbiAqICAgICB1dGlscy5vdmVyd3JpdGVQcm9wZXJ0eShjaGFpLkFzc2VydGlvbi5wcm90b3R5cGUsICdvaycsIGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAqICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gKiAgICAgICAgIHZhciBvYmogPSB1dGlscy5mbGFnKHRoaXMsICdvYmplY3QnKTtcbiAqICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEZvbykge1xuICogICAgICAgICAgIG5ldyBjaGFpLkFzc2VydGlvbihvYmoubmFtZSkudG8uZXF1YWwoJ2JhcicpO1xuICogICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfSk7XG4gKlxuICpcbiAqIENhbiBhbHNvIGJlIGFjY2Vzc2VkIGRpcmVjdGx5IGZyb20gYGNoYWkuQXNzZXJ0aW9uYC5cbiAqXG4gKiAgICAgY2hhaS5Bc3NlcnRpb24ub3ZlcndyaXRlUHJvcGVydHkoJ2ZvbycsIGZuKTtcbiAqXG4gKiBUaGVuIGNhbiBiZSB1c2VkIGFzIGFueSBvdGhlciBhc3NlcnRpb24uXG4gKlxuICogICAgIGV4cGVjdChteUZvbykudG8uYmUub2s7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGN0eCBvYmplY3Qgd2hvc2UgcHJvcGVydHkgaXMgdG8gYmUgb3ZlcndyaXR0ZW5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHByb3BlcnR5IHRvIG92ZXJ3cml0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0dGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGdldHRlciBmdW5jdGlvbiB0byBiZSB1c2VkIGZvciBuYW1lXG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAbmFtZSBvdmVyd3JpdGVQcm9wZXJ0eVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG92ZXJ3cml0ZVByb3BlcnR5KGN0eCwgbmFtZSwgZ2V0dGVyKSB7XG4gIHZhciBfZ2V0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjdHgsIG5hbWUpXG4gICAgLCBfc3VwZXIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBpZiAoX2dldCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgX2dldC5nZXQpXG4gICAgX3N1cGVyID0gX2dldC5nZXRcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBuYW1lLFxuICAgIHsgZ2V0OiBmdW5jdGlvbiBvdmVyd3JpdGluZ1Byb3BlcnR5R2V0dGVyKCkge1xuICAgICAgICAvLyBTZXR0aW5nIHRoZSBgc3NmaWAgZmxhZyB0byBgb3ZlcndyaXRpbmdQcm9wZXJ0eUdldHRlcmAgY2F1c2VzIHRoaXNcbiAgICAgICAgLy8gZnVuY3Rpb24gdG8gYmUgdGhlIHN0YXJ0aW5nIHBvaW50IGZvciByZW1vdmluZyBpbXBsZW1lbnRhdGlvbiBmcmFtZXNcbiAgICAgICAgLy8gZnJvbSB0aGUgc3RhY2sgdHJhY2Ugb2YgYSBmYWlsZWQgYXNzZXJ0aW9uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBIb3dldmVyLCB3ZSBvbmx5IHdhbnQgdG8gdXNlIHRoaXMgZnVuY3Rpb24gYXMgdGhlIHN0YXJ0aW5nIHBvaW50IGlmXG4gICAgICAgIC8vIHRoZSBgbG9ja1NzZmlgIGZsYWcgaXNuJ3Qgc2V0IGFuZCBwcm94eSBwcm90ZWN0aW9uIGlzIGRpc2FibGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgYGxvY2tTc2ZpYCBmbGFnIGlzIHNldCwgdGhlbiBlaXRoZXIgdGhpcyBhc3NlcnRpb24gaGFzIGJlZW5cbiAgICAgICAgLy8gb3ZlcndyaXR0ZW4gYnkgYW5vdGhlciBhc3NlcnRpb24sIG9yIHRoaXMgYXNzZXJ0aW9uIGlzIGJlaW5nIGludm9rZWRcbiAgICAgICAgLy8gZnJvbSBpbnNpZGUgb2YgYW5vdGhlciBhc3NlcnRpb24uIEluIHRoZSBmaXJzdCBjYXNlLCB0aGUgYHNzZmlgIGZsYWdcbiAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgdGhlIG92ZXJ3cml0aW5nIGFzc2VydGlvbi4gSW4gdGhlIHNlY29uZFxuICAgICAgICAvLyBjYXNlLCB0aGUgYHNzZmlgIGZsYWcgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgdGhlIG91dGVyIGFzc2VydGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgcHJveHkgcHJvdGVjdGlvbiBpcyBlbmFibGVkLCB0aGVuIHRoZSBgc3NmaWAgZmxhZyBoYXMgYWxyZWFkeSBiZWVuXG4gICAgICAgIC8vIHNldCBieSB0aGUgcHJveHkgZ2V0dGVyLlxuICAgICAgICBpZiAoIWlzUHJveHlFbmFibGVkKCkgJiYgIWZsYWcodGhpcywgJ2xvY2tTc2ZpJykpIHtcbiAgICAgICAgICBmbGFnKHRoaXMsICdzc2ZpJywgb3ZlcndyaXRpbmdQcm9wZXJ0eUdldHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR0aW5nIHRoZSBgbG9ja1NzZmlgIGZsYWcgdG8gYHRydWVgIHByZXZlbnRzIHRoZSBvdmVyd3JpdHRlblxuICAgICAgICAvLyBhc3NlcnRpb24gZnJvbSBjaGFuZ2luZyB0aGUgYHNzZmlgIGZsYWcuIEJ5IHRoaXMgcG9pbnQsIHRoZSBgc3NmaWBcbiAgICAgICAgLy8gZmxhZyBpcyBhbHJlYWR5IHNldCB0byB0aGUgY29ycmVjdCBzdGFydGluZyBwb2ludCBmb3IgdGhpcyBhc3NlcnRpb24uXG4gICAgICAgIHZhciBvcmlnTG9ja1NzZmkgPSBmbGFnKHRoaXMsICdsb2NrU3NmaScpO1xuICAgICAgICBmbGFnKHRoaXMsICdsb2NrU3NmaScsIHRydWUpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0dGVyKF9zdXBlcikuY2FsbCh0aGlzKTtcbiAgICAgICAgZmxhZyh0aGlzLCAnbG9ja1NzZmknLCBvcmlnTG9ja1NzZmkpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3QXNzZXJ0aW9uID0gbmV3IGNoYWkuQXNzZXJ0aW9uKCk7XG4gICAgICAgIHRyYW5zZmVyRmxhZ3ModGhpcywgbmV3QXNzZXJ0aW9uKTtcbiAgICAgICAgcmV0dXJuIG5ld0Fzc2VydGlvbjtcbiAgICAgIH1cbiAgICAsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn07XG4iLCIvKiFcbiAqIENoYWkgLSBvdmVyd3JpdGVNZXRob2QgdXRpbGl0eVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbnZhciBhZGRMZW5ndGhHdWFyZCA9IHJlcXVpcmUoJy4vYWRkTGVuZ3RoR3VhcmQnKTtcbnZhciBjaGFpID0gcmVxdWlyZSgnLi4vLi4vY2hhaScpO1xudmFyIGZsYWcgPSByZXF1aXJlKCcuL2ZsYWcnKTtcbnZhciBwcm94aWZ5ID0gcmVxdWlyZSgnLi9wcm94aWZ5Jyk7XG52YXIgdHJhbnNmZXJGbGFncyA9IHJlcXVpcmUoJy4vdHJhbnNmZXJGbGFncycpO1xuXG4vKipcbiAqICMjIyAub3ZlcndyaXRlTWV0aG9kKGN0eCwgbmFtZSwgZm4pXG4gKlxuICogT3ZlcndyaXRlcyBhbiBhbHJlYWR5IGV4aXN0aW5nIG1ldGhvZCBhbmQgcHJvdmlkZXNcbiAqIGFjY2VzcyB0byBwcmV2aW91cyBmdW5jdGlvbi4gTXVzdCByZXR1cm4gZnVuY3Rpb25cbiAqIHRvIGJlIHVzZWQgZm9yIG5hbWUuXG4gKlxuICogICAgIHV0aWxzLm92ZXJ3cml0ZU1ldGhvZChjaGFpLkFzc2VydGlvbi5wcm90b3R5cGUsICdlcXVhbCcsIGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAqICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gKiAgICAgICAgIHZhciBvYmogPSB1dGlscy5mbGFnKHRoaXMsICdvYmplY3QnKTtcbiAqICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEZvbykge1xuICogICAgICAgICAgIG5ldyBjaGFpLkFzc2VydGlvbihvYmoudmFsdWUpLnRvLmVxdWFsKHN0cik7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqXG4gKiBDYW4gYWxzbyBiZSBhY2Nlc3NlZCBkaXJlY3RseSBmcm9tIGBjaGFpLkFzc2VydGlvbmAuXG4gKlxuICogICAgIGNoYWkuQXNzZXJ0aW9uLm92ZXJ3cml0ZU1ldGhvZCgnZm9vJywgZm4pO1xuICpcbiAqIFRoZW4gY2FuIGJlIHVzZWQgYXMgYW55IG90aGVyIGFzc2VydGlvbi5cbiAqXG4gKiAgICAgZXhwZWN0KG15Rm9vKS50by5lcXVhbCgnYmFyJyk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGN0eCBvYmplY3Qgd2hvc2UgbWV0aG9kIGlzIHRvIGJlIG92ZXJ3cml0dGVuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiBtZXRob2QgdG8gb3ZlcndyaXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2QgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBmb3IgbmFtZVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgb3ZlcndyaXRlTWV0aG9kXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gb3ZlcndyaXRlTWV0aG9kKGN0eCwgbmFtZSwgbWV0aG9kKSB7XG4gIHZhciBfbWV0aG9kID0gY3R4W25hbWVdXG4gICAgLCBfc3VwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobmFtZSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICB9O1xuXG4gIGlmIChfbWV0aG9kICYmICdmdW5jdGlvbicgPT09IHR5cGVvZiBfbWV0aG9kKVxuICAgIF9zdXBlciA9IF9tZXRob2Q7XG5cbiAgdmFyIG92ZXJ3cml0aW5nTWV0aG9kV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTZXR0aW5nIHRoZSBgc3NmaWAgZmxhZyB0byBgb3ZlcndyaXRpbmdNZXRob2RXcmFwcGVyYCBjYXVzZXMgdGhpc1xuICAgIC8vIGZ1bmN0aW9uIHRvIGJlIHRoZSBzdGFydGluZyBwb2ludCBmb3IgcmVtb3ZpbmcgaW1wbGVtZW50YXRpb24gZnJhbWVzIGZyb21cbiAgICAvLyB0aGUgc3RhY2sgdHJhY2Ugb2YgYSBmYWlsZWQgYXNzZXJ0aW9uLlxuICAgIC8vXG4gICAgLy8gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIHVzZSB0aGlzIGZ1bmN0aW9uIGFzIHRoZSBzdGFydGluZyBwb2ludCBpZiB0aGVcbiAgICAvLyBgbG9ja1NzZmlgIGZsYWcgaXNuJ3Qgc2V0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlIGBsb2NrU3NmaWAgZmxhZyBpcyBzZXQsIHRoZW4gZWl0aGVyIHRoaXMgYXNzZXJ0aW9uIGhhcyBiZWVuXG4gICAgLy8gb3ZlcndyaXR0ZW4gYnkgYW5vdGhlciBhc3NlcnRpb24sIG9yIHRoaXMgYXNzZXJ0aW9uIGlzIGJlaW5nIGludm9rZWQgZnJvbVxuICAgIC8vIGluc2lkZSBvZiBhbm90aGVyIGFzc2VydGlvbi4gSW4gdGhlIGZpcnN0IGNhc2UsIHRoZSBgc3NmaWAgZmxhZyBoYXNcbiAgICAvLyBhbHJlYWR5IGJlZW4gc2V0IGJ5IHRoZSBvdmVyd3JpdGluZyBhc3NlcnRpb24uIEluIHRoZSBzZWNvbmQgY2FzZSwgdGhlXG4gICAgLy8gYHNzZmlgIGZsYWcgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgdGhlIG91dGVyIGFzc2VydGlvbi5cbiAgICBpZiAoIWZsYWcodGhpcywgJ2xvY2tTc2ZpJykpIHtcbiAgICAgIGZsYWcodGhpcywgJ3NzZmknLCBvdmVyd3JpdGluZ01ldGhvZFdyYXBwZXIpO1xuICAgIH1cblxuICAgIC8vIFNldHRpbmcgdGhlIGBsb2NrU3NmaWAgZmxhZyB0byBgdHJ1ZWAgcHJldmVudHMgdGhlIG92ZXJ3cml0dGVuIGFzc2VydGlvblxuICAgIC8vIGZyb20gY2hhbmdpbmcgdGhlIGBzc2ZpYCBmbGFnLiBCeSB0aGlzIHBvaW50LCB0aGUgYHNzZmlgIGZsYWcgaXMgYWxyZWFkeVxuICAgIC8vIHNldCB0byB0aGUgY29ycmVjdCBzdGFydGluZyBwb2ludCBmb3IgdGhpcyBhc3NlcnRpb24uXG4gICAgdmFyIG9yaWdMb2NrU3NmaSA9IGZsYWcodGhpcywgJ2xvY2tTc2ZpJyk7XG4gICAgZmxhZyh0aGlzLCAnbG9ja1NzZmknLCB0cnVlKTtcbiAgICB2YXIgcmVzdWx0ID0gbWV0aG9kKF9zdXBlcikuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBmbGFnKHRoaXMsICdsb2NrU3NmaScsIG9yaWdMb2NrU3NmaSk7XG5cbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdmFyIG5ld0Fzc2VydGlvbiA9IG5ldyBjaGFpLkFzc2VydGlvbigpO1xuICAgIHRyYW5zZmVyRmxhZ3ModGhpcywgbmV3QXNzZXJ0aW9uKTtcbiAgICByZXR1cm4gbmV3QXNzZXJ0aW9uO1xuICB9XG5cbiAgYWRkTGVuZ3RoR3VhcmQob3ZlcndyaXRpbmdNZXRob2RXcmFwcGVyLCBuYW1lLCBmYWxzZSk7XG4gIGN0eFtuYW1lXSA9IHByb3hpZnkob3ZlcndyaXRpbmdNZXRob2RXcmFwcGVyLCBuYW1lKTtcbn07XG4iLCIvKiFcbiAqIENoYWkgLSBhZGRDaGFpbmluZ01ldGhvZCB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyohXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIGFkZExlbmd0aEd1YXJkID0gcmVxdWlyZSgnLi9hZGRMZW5ndGhHdWFyZCcpO1xudmFyIGNoYWkgPSByZXF1aXJlKCcuLi8uLi9jaGFpJyk7XG52YXIgZmxhZyA9IHJlcXVpcmUoJy4vZmxhZycpO1xudmFyIHByb3hpZnkgPSByZXF1aXJlKCcuL3Byb3hpZnknKTtcbnZhciB0cmFuc2ZlckZsYWdzID0gcmVxdWlyZSgnLi90cmFuc2ZlckZsYWdzJyk7XG5cbi8qIVxuICogTW9kdWxlIHZhcmlhYmxlc1xuICovXG5cbi8vIENoZWNrIHdoZXRoZXIgYE9iamVjdC5zZXRQcm90b3R5cGVPZmAgaXMgc3VwcG9ydGVkXG52YXIgY2FuU2V0UHJvdG90eXBlID0gdHlwZW9mIE9iamVjdC5zZXRQcm90b3R5cGVPZiA9PT0gJ2Z1bmN0aW9uJztcblxuLy8gV2l0aG91dCBgT2JqZWN0LnNldFByb3RvdHlwZU9mYCBzdXBwb3J0LCB0aGlzIG1vZHVsZSB3aWxsIG5lZWQgdG8gYWRkIHByb3BlcnRpZXMgdG8gYSBmdW5jdGlvbi5cbi8vIEhvd2V2ZXIsIHNvbWUgb2YgZnVuY3Rpb25zJyBvd24gcHJvcHMgYXJlIG5vdCBjb25maWd1cmFibGUgYW5kIHNob3VsZCBiZSBza2lwcGVkLlxudmFyIHRlc3RGbiA9IGZ1bmN0aW9uKCkge307XG52YXIgZXhjbHVkZU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdEZuKS5maWx0ZXIoZnVuY3Rpb24obmFtZSkge1xuICB2YXIgcHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRlc3RGbiwgbmFtZSk7XG5cbiAgLy8gTm90ZTogUGhhbnRvbUpTIDEueCBpbmNsdWRlcyBgY2FsbGVlYCBhcyBvbmUgb2YgYHRlc3RGbmAncyBvd24gcHJvcGVydGllcyxcbiAgLy8gYnV0IHRoZW4gcmV0dXJucyBgdW5kZWZpbmVkYCBhcyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgYGNhbGxlZWAuIEFzIGFcbiAgLy8gd29ya2Fyb3VuZCwgd2UgcGVyZm9ybSBhbiBvdGhlcndpc2UgdW5uZWNlc3NhcnkgdHlwZS1jaGVjayBmb3IgYHByb3BEZXNjYCxcbiAgLy8gYW5kIHRoZW4gZmlsdGVyIGl0IG91dCBpZiBpdCdzIG5vdCBhbiBvYmplY3QgYXMgaXQgc2hvdWxkIGJlLlxuICBpZiAodHlwZW9mIHByb3BEZXNjICE9PSAnb2JqZWN0JylcbiAgICByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gIXByb3BEZXNjLmNvbmZpZ3VyYWJsZTtcbn0pO1xuXG4vLyBDYWNoZSBgRnVuY3Rpb25gIHByb3BlcnRpZXNcbnZhciBjYWxsICA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLFxuICAgIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vKipcbiAqICMjIyAuYWRkQ2hhaW5hYmxlTWV0aG9kKGN0eCwgbmFtZSwgbWV0aG9kLCBjaGFpbmluZ0JlaGF2aW9yKVxuICpcbiAqIEFkZHMgYSBtZXRob2QgdG8gYW4gb2JqZWN0LCBzdWNoIHRoYXQgdGhlIG1ldGhvZCBjYW4gYWxzbyBiZSBjaGFpbmVkLlxuICpcbiAqICAgICB1dGlscy5hZGRDaGFpbmFibGVNZXRob2QoY2hhaS5Bc3NlcnRpb24ucHJvdG90eXBlLCAnZm9vJywgZnVuY3Rpb24gKHN0cikge1xuICogICAgICAgdmFyIG9iaiA9IHV0aWxzLmZsYWcodGhpcywgJ29iamVjdCcpO1xuICogICAgICAgbmV3IGNoYWkuQXNzZXJ0aW9uKG9iaikudG8uYmUuZXF1YWwoc3RyKTtcbiAqICAgICB9KTtcbiAqXG4gKiBDYW4gYWxzbyBiZSBhY2Nlc3NlZCBkaXJlY3RseSBmcm9tIGBjaGFpLkFzc2VydGlvbmAuXG4gKlxuICogICAgIGNoYWkuQXNzZXJ0aW9uLmFkZENoYWluYWJsZU1ldGhvZCgnZm9vJywgZm4sIGNoYWluaW5nQmVoYXZpb3IpO1xuICpcbiAqIFRoZSByZXN1bHQgY2FuIHRoZW4gYmUgdXNlZCBhcyBib3RoIGEgbWV0aG9kIGFzc2VydGlvbiwgZXhlY3V0aW5nIGJvdGggYG1ldGhvZGAgYW5kXG4gKiBgY2hhaW5pbmdCZWhhdmlvcmAsIG9yIGFzIGEgbGFuZ3VhZ2UgY2hhaW4sIHdoaWNoIG9ubHkgZXhlY3V0ZXMgYGNoYWluaW5nQmVoYXZpb3JgLlxuICpcbiAqICAgICBleHBlY3QoZm9vU3RyKS50by5iZS5mb28oJ2JhcicpO1xuICogICAgIGV4cGVjdChmb29TdHIpLnRvLmJlLmZvby5lcXVhbCgnZm9vJyk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGN0eCBvYmplY3QgdG8gd2hpY2ggdGhlIG1ldGhvZCBpcyBhZGRlZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgb2YgbWV0aG9kIHRvIGFkZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kIGZ1bmN0aW9uIHRvIGJlIHVzZWQgZm9yIGBuYW1lYCwgd2hlbiBjYWxsZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoYWluaW5nQmVoYXZpb3IgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHByb3BlcnR5IGlzIGFjY2Vzc2VkXG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAbmFtZSBhZGRDaGFpbmFibGVNZXRob2RcbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhZGRDaGFpbmFibGVNZXRob2QoY3R4LCBuYW1lLCBtZXRob2QsIGNoYWluaW5nQmVoYXZpb3IpIHtcbiAgaWYgKHR5cGVvZiBjaGFpbmluZ0JlaGF2aW9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgY2hhaW5pbmdCZWhhdmlvciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgfVxuXG4gIHZhciBjaGFpbmFibGVCZWhhdmlvciA9IHtcbiAgICAgIG1ldGhvZDogbWV0aG9kXG4gICAgLCBjaGFpbmluZ0JlaGF2aW9yOiBjaGFpbmluZ0JlaGF2aW9yXG4gIH07XG5cbiAgLy8gc2F2ZSB0aGUgbWV0aG9kcyBzbyB3ZSBjYW4gb3ZlcndyaXRlIHRoZW0gbGF0ZXIsIGlmIHdlIG5lZWQgdG8uXG4gIGlmICghY3R4Ll9fbWV0aG9kcykge1xuICAgIGN0eC5fX21ldGhvZHMgPSB7fTtcbiAgfVxuICBjdHguX19tZXRob2RzW25hbWVdID0gY2hhaW5hYmxlQmVoYXZpb3I7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwgbmFtZSxcbiAgICB7IGdldDogZnVuY3Rpb24gY2hhaW5hYmxlTWV0aG9kR2V0dGVyKCkge1xuICAgICAgICBjaGFpbmFibGVCZWhhdmlvci5jaGFpbmluZ0JlaGF2aW9yLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdmFyIGNoYWluYWJsZU1ldGhvZFdyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyB0aGUgYHNzZmlgIGZsYWcgdG8gYGNoYWluYWJsZU1ldGhvZFdyYXBwZXJgIGNhdXNlcyB0aGlzXG4gICAgICAgICAgLy8gZnVuY3Rpb24gdG8gYmUgdGhlIHN0YXJ0aW5nIHBvaW50IGZvciByZW1vdmluZyBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgIC8vIGZyYW1lcyBmcm9tIHRoZSBzdGFjayB0cmFjZSBvZiBhIGZhaWxlZCBhc3NlcnRpb24uXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBvbmx5IHdhbnQgdG8gdXNlIHRoaXMgZnVuY3Rpb24gYXMgdGhlIHN0YXJ0aW5nIHBvaW50IGlmXG4gICAgICAgICAgLy8gdGhlIGBsb2NrU3NmaWAgZmxhZyBpc24ndCBzZXQuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBJZiB0aGUgYGxvY2tTc2ZpYCBmbGFnIGlzIHNldCwgdGhlbiB0aGlzIGFzc2VydGlvbiBpcyBiZWluZ1xuICAgICAgICAgIC8vIGludm9rZWQgZnJvbSBpbnNpZGUgb2YgYW5vdGhlciBhc3NlcnRpb24uIEluIHRoaXMgY2FzZSwgdGhlIGBzc2ZpYFxuICAgICAgICAgIC8vIGZsYWcgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgdGhlIG91dGVyIGFzc2VydGlvbi5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIE5vdGUgdGhhdCBvdmVyd3JpdGluZyBhIGNoYWluYWJsZSBtZXRob2QgbWVyZWx5IHJlcGxhY2VzIHRoZSBzYXZlZFxuICAgICAgICAgIC8vIG1ldGhvZHMgaW4gYGN0eC5fX21ldGhvZHNgIGluc3RlYWQgb2YgY29tcGxldGVseSByZXBsYWNpbmcgdGhlXG4gICAgICAgICAgLy8gb3ZlcndyaXR0ZW4gYXNzZXJ0aW9uLiBUaGVyZWZvcmUsIGFuIG92ZXJ3cml0aW5nIGFzc2VydGlvbiB3b24ndFxuICAgICAgICAgIC8vIHNldCB0aGUgYHNzZmlgIG9yIGBsb2NrU3NmaWAgZmxhZ3MuXG4gICAgICAgICAgaWYgKCFmbGFnKHRoaXMsICdsb2NrU3NmaScpKSB7XG4gICAgICAgICAgICBmbGFnKHRoaXMsICdzc2ZpJywgY2hhaW5hYmxlTWV0aG9kV3JhcHBlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGNoYWluYWJsZUJlaGF2aW9yLm1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3QXNzZXJ0aW9uID0gbmV3IGNoYWkuQXNzZXJ0aW9uKCk7XG4gICAgICAgICAgdHJhbnNmZXJGbGFncyh0aGlzLCBuZXdBc3NlcnRpb24pO1xuICAgICAgICAgIHJldHVybiBuZXdBc3NlcnRpb247XG4gICAgICAgIH07XG5cbiAgICAgICAgYWRkTGVuZ3RoR3VhcmQoY2hhaW5hYmxlTWV0aG9kV3JhcHBlciwgbmFtZSwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gVXNlIGBPYmplY3Quc2V0UHJvdG90eXBlT2ZgIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoY2FuU2V0UHJvdG90eXBlKSB7XG4gICAgICAgICAgLy8gSW5oZXJpdCBhbGwgcHJvcGVydGllcyBmcm9tIHRoZSBvYmplY3QgYnkgcmVwbGFjaW5nIHRoZSBgRnVuY3Rpb25gIHByb3RvdHlwZVxuICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIGBjYWxsYCBhbmQgYGFwcGx5YCBtZXRob2RzIGZyb20gYEZ1bmN0aW9uYFxuICAgICAgICAgIHByb3RvdHlwZS5jYWxsID0gY2FsbDtcbiAgICAgICAgICBwcm90b3R5cGUuYXBwbHkgPSBhcHBseTtcbiAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2hhaW5hYmxlTWV0aG9kV3JhcHBlciwgcHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHJlZGVmaW5lIGFsbCBwcm9wZXJ0aWVzIChzbG93ISlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGFzc2VydGVyTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjdHgpO1xuICAgICAgICAgIGFzc2VydGVyTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoYXNzZXJ0ZXJOYW1lKSB7XG4gICAgICAgICAgICBpZiAoZXhjbHVkZU5hbWVzLmluZGV4T2YoYXNzZXJ0ZXJOYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGN0eCwgYXNzZXJ0ZXJOYW1lKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGFpbmFibGVNZXRob2RXcmFwcGVyLCBhc3NlcnRlck5hbWUsIHBkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zZmVyRmxhZ3ModGhpcywgY2hhaW5hYmxlTWV0aG9kV3JhcHBlcik7XG4gICAgICAgIHJldHVybiBwcm94aWZ5KGNoYWluYWJsZU1ldGhvZFdyYXBwZXIpO1xuICAgICAgfVxuICAgICwgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufTtcbiIsIi8qIVxuICogQ2hhaSAtIG92ZXJ3cml0ZUNoYWluYWJsZU1ldGhvZCB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxudmFyIGNoYWkgPSByZXF1aXJlKCcuLi8uLi9jaGFpJyk7XG52YXIgdHJhbnNmZXJGbGFncyA9IHJlcXVpcmUoJy4vdHJhbnNmZXJGbGFncycpO1xuXG4vKipcbiAqICMjIyAub3ZlcndyaXRlQ2hhaW5hYmxlTWV0aG9kKGN0eCwgbmFtZSwgbWV0aG9kLCBjaGFpbmluZ0JlaGF2aW9yKVxuICpcbiAqIE92ZXJ3cml0ZXMgYW4gYWxyZWFkeSBleGlzdGluZyBjaGFpbmFibGUgbWV0aG9kXG4gKiBhbmQgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBvclxuICogcHJvcGVydHkuICBNdXN0IHJldHVybiBmdW5jdGlvbnMgdG8gYmUgdXNlZCBmb3JcbiAqIG5hbWUuXG4gKlxuICogICAgIHV0aWxzLm92ZXJ3cml0ZUNoYWluYWJsZU1ldGhvZChjaGFpLkFzc2VydGlvbi5wcm90b3R5cGUsICdsZW5ndGhPZicsXG4gKiAgICAgICBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gKiAgICAgICB9XG4gKiAgICAgLCBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gKiAgICAgICB9XG4gKiAgICAgKTtcbiAqXG4gKiBDYW4gYWxzbyBiZSBhY2Nlc3NlZCBkaXJlY3RseSBmcm9tIGBjaGFpLkFzc2VydGlvbmAuXG4gKlxuICogICAgIGNoYWkuQXNzZXJ0aW9uLm92ZXJ3cml0ZUNoYWluYWJsZU1ldGhvZCgnZm9vJywgZm4sIGZuKTtcbiAqXG4gKiBUaGVuIGNhbiBiZSB1c2VkIGFzIGFueSBvdGhlciBhc3NlcnRpb24uXG4gKlxuICogICAgIGV4cGVjdChteUZvbykudG8uaGF2ZS5sZW5ndGhPZigzKTtcbiAqICAgICBleHBlY3QobXlGb28pLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMyk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGN0eCBvYmplY3Qgd2hvc2UgbWV0aG9kIC8gcHJvcGVydHkgaXMgdG8gYmUgb3ZlcndyaXR0ZW5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIG1ldGhvZCAvIHByb3BlcnR5IHRvIG92ZXJ3cml0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIHVzZWQgZm9yIG5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoYWluaW5nQmVoYXZpb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBmb3IgcHJvcGVydHlcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBuYW1lIG92ZXJ3cml0ZUNoYWluYWJsZU1ldGhvZFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG92ZXJ3cml0ZUNoYWluYWJsZU1ldGhvZChjdHgsIG5hbWUsIG1ldGhvZCwgY2hhaW5pbmdCZWhhdmlvcikge1xuICB2YXIgY2hhaW5hYmxlQmVoYXZpb3IgPSBjdHguX19tZXRob2RzW25hbWVdO1xuXG4gIHZhciBfY2hhaW5pbmdCZWhhdmlvciA9IGNoYWluYWJsZUJlaGF2aW9yLmNoYWluaW5nQmVoYXZpb3I7XG4gIGNoYWluYWJsZUJlaGF2aW9yLmNoYWluaW5nQmVoYXZpb3IgPSBmdW5jdGlvbiBvdmVyd3JpdGluZ0NoYWluYWJsZU1ldGhvZEdldHRlcigpIHtcbiAgICB2YXIgcmVzdWx0ID0gY2hhaW5pbmdCZWhhdmlvcihfY2hhaW5pbmdCZWhhdmlvcikuY2FsbCh0aGlzKTtcbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdmFyIG5ld0Fzc2VydGlvbiA9IG5ldyBjaGFpLkFzc2VydGlvbigpO1xuICAgIHRyYW5zZmVyRmxhZ3ModGhpcywgbmV3QXNzZXJ0aW9uKTtcbiAgICByZXR1cm4gbmV3QXNzZXJ0aW9uO1xuICB9O1xuXG4gIHZhciBfbWV0aG9kID0gY2hhaW5hYmxlQmVoYXZpb3IubWV0aG9kO1xuICBjaGFpbmFibGVCZWhhdmlvci5tZXRob2QgPSBmdW5jdGlvbiBvdmVyd3JpdGluZ0NoYWluYWJsZU1ldGhvZFdyYXBwZXIoKSB7XG4gICAgdmFyIHJlc3VsdCA9IG1ldGhvZChfbWV0aG9kKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB2YXIgbmV3QXNzZXJ0aW9uID0gbmV3IGNoYWkuQXNzZXJ0aW9uKCk7XG4gICAgdHJhbnNmZXJGbGFncyh0aGlzLCBuZXdBc3NlcnRpb24pO1xuICAgIHJldHVybiBuZXdBc3NlcnRpb247XG4gIH07XG59O1xuIiwiLyohXG4gKiBDaGFpIC0gY29tcGFyZUJ5SW5zcGVjdCB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMS0yMDE2IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyohXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIGluc3BlY3QgPSByZXF1aXJlKCcuL2luc3BlY3QnKTtcblxuLyoqXG4gKiAjIyMgLmNvbXBhcmVCeUluc3BlY3QobWl4ZWQsIG1peGVkKVxuICpcbiAqIFRvIGJlIHVzZWQgYXMgYSBjb21wYXJlRnVuY3Rpb24gd2l0aCBBcnJheS5wcm90b3R5cGUuc29ydC4gQ29tcGFyZXMgZWxlbWVudHNcbiAqIHVzaW5nIGluc3BlY3QgaW5zdGVhZCBvZiBkZWZhdWx0IGJlaGF2aW9yIG9mIHVzaW5nIHRvU3RyaW5nIHNvIHRoYXQgU3ltYm9sc1xuICogYW5kIG9iamVjdHMgd2l0aCBpcnJlZ3VsYXIvbWlzc2luZyB0b1N0cmluZyBjYW4gc3RpbGwgYmUgc29ydGVkIHdpdGhvdXQgYVxuICogVHlwZUVycm9yLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGZpcnN0IGVsZW1lbnQgdG8gY29tcGFyZVxuICogQHBhcmFtIHtNaXhlZH0gc2Vjb25kIGVsZW1lbnQgdG8gY29tcGFyZVxuICogQHJldHVybnMge051bWJlcn0gLTEgaWYgJ2EnIHNob3VsZCBjb21lIGJlZm9yZSAnYic7IG90aGVyd2lzZSAxXG4gKiBAbmFtZSBjb21wYXJlQnlJbnNwZWN0XG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tcGFyZUJ5SW5zcGVjdChhLCBiKSB7XG4gIHJldHVybiBpbnNwZWN0KGEpIDwgaW5zcGVjdChiKSA/IC0xIDogMTtcbn07XG4iLCIvKiFcbiAqIENoYWkgLSBnZXRPd25FbnVtZXJhYmxlUHJvcGVydHlTeW1ib2xzIHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDExLTIwMTYgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqICMjIyAuZ2V0T3duRW51bWVyYWJsZVByb3BlcnR5U3ltYm9scyhvYmplY3QpXG4gKlxuICogVGhpcyBhbGxvd3MgdGhlIHJldHJpZXZhbCBvZiBkaXJlY3RseS1vd25lZCBlbnVtZXJhYmxlIHByb3BlcnR5IHN5bWJvbHMgb2YgYW5cbiAqIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzXG4gKiByZXR1cm5zIGJvdGggZW51bWVyYWJsZSBhbmQgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgc3ltYm9scy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAbmFtZSBnZXRPd25FbnVtZXJhYmxlUHJvcGVydHlTeW1ib2xzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duRW51bWVyYWJsZVByb3BlcnR5U3ltYm9scyhvYmopIHtcbiAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gW107XG5cbiAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgc3ltKS5lbnVtZXJhYmxlO1xuICB9KTtcbn07XG4iLCIvKiFcbiAqIENoYWkgLSBnZXRPd25FbnVtZXJhYmxlUHJvcGVydGllcyB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMS0yMDE2IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyohXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIGdldE93bkVudW1lcmFibGVQcm9wZXJ0eVN5bWJvbHMgPSByZXF1aXJlKCcuL2dldE93bkVudW1lcmFibGVQcm9wZXJ0eVN5bWJvbHMnKTtcblxuLyoqXG4gKiAjIyMgLmdldE93bkVudW1lcmFibGVQcm9wZXJ0aWVzKG9iamVjdClcbiAqXG4gKiBUaGlzIGFsbG93cyB0aGUgcmV0cmlldmFsIG9mIGRpcmVjdGx5LW93bmVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGFuIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBPYmplY3Qua2V5cyBvbmx5XG4gKiByZXR1cm5zIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMsIG5vdCBlbnVtZXJhYmxlIHByb3BlcnR5IHN5bWJvbHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHJldHVybnMge0FycmF5fVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZ2V0T3duRW51bWVyYWJsZVByb3BlcnRpZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25FbnVtZXJhYmxlUHJvcGVydGllcyhvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikuY29uY2F0KGdldE93bkVudW1lcmFibGVQcm9wZXJ0eVN5bWJvbHMob2JqKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiAhXG4gKiBDaGFpIC0gY2hlY2tFcnJvciB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE2IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiAjIyMgLmNoZWNrRXJyb3JcbiAqXG4gKiBDaGVja3MgdGhhdCBhbiBlcnJvciBjb25mb3JtcyB0byBhIGdpdmVuIHNldCBvZiBjcml0ZXJpYSBhbmQvb3IgcmV0cmlldmVzIGluZm9ybWF0aW9uIGFib3V0IGl0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuLyoqXG4gKiAjIyMgLmNvbXBhdGlibGVJbnN0YW5jZSh0aHJvd24sIGVycm9yTGlrZSlcbiAqXG4gKiBDaGVja3MgaWYgdHdvIGluc3RhbmNlcyBhcmUgY29tcGF0aWJsZSAoc3RyaWN0IGVxdWFsKS5cbiAqIFJldHVybnMgZmFsc2UgaWYgZXJyb3JMaWtlIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFcnJvciwgYmVjYXVzZSBpbnN0YW5jZXNcbiAqIGNhbiBvbmx5IGJlIGNvbXBhdGlibGUgaWYgdGhleSdyZSBib3RoIGVycm9yIGluc3RhbmNlcy5cbiAqXG4gKiBAbmFtZSBjb21wYXRpYmxlSW5zdGFuY2VcbiAqIEBwYXJhbSB7RXJyb3J9IHRocm93biBlcnJvclxuICogQHBhcmFtIHtFcnJvcnxFcnJvckNvbnN0cnVjdG9yfSBlcnJvckxpa2Ugb2JqZWN0IHRvIGNvbXBhcmUgYWdhaW5zdFxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjb21wYXRpYmxlSW5zdGFuY2UodGhyb3duLCBlcnJvckxpa2UpIHtcbiAgcmV0dXJuIGVycm9yTGlrZSBpbnN0YW5jZW9mIEVycm9yICYmIHRocm93biA9PT0gZXJyb3JMaWtlO1xufVxuXG4vKipcbiAqICMjIyAuY29tcGF0aWJsZUNvbnN0cnVjdG9yKHRocm93biwgZXJyb3JMaWtlKVxuICpcbiAqIENoZWNrcyBpZiB0d28gY29uc3RydWN0b3JzIGFyZSBjb21wYXRpYmxlLlxuICogVGhpcyBmdW5jdGlvbiBjYW4gcmVjZWl2ZSBlaXRoZXIgYW4gZXJyb3IgY29uc3RydWN0b3Igb3JcbiAqIGFuIGVycm9yIGluc3RhbmNlIGFzIHRoZSBgZXJyb3JMaWtlYCBhcmd1bWVudC5cbiAqIENvbnN0cnVjdG9ycyBhcmUgY29tcGF0aWJsZSBpZiB0aGV5J3JlIHRoZSBzYW1lIG9yIGlmIG9uZSBpc1xuICogYW4gaW5zdGFuY2Ugb2YgYW5vdGhlci5cbiAqXG4gKiBAbmFtZSBjb21wYXRpYmxlQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RXJyb3J9IHRocm93biBlcnJvclxuICogQHBhcmFtIHtFcnJvcnxFcnJvckNvbnN0cnVjdG9yfSBlcnJvckxpa2Ugb2JqZWN0IHRvIGNvbXBhcmUgYWdhaW5zdFxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjb21wYXRpYmxlQ29uc3RydWN0b3IodGhyb3duLCBlcnJvckxpa2UpIHtcbiAgaWYgKGVycm9yTGlrZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgLy8gSWYgYGVycm9yTGlrZWAgaXMgYW4gaW5zdGFuY2Ugb2YgYW55IGVycm9yIHdlIGNvbXBhcmUgdGhlaXIgY29uc3RydWN0b3JzXG4gICAgcmV0dXJuIHRocm93bi5jb25zdHJ1Y3RvciA9PT0gZXJyb3JMaWtlLmNvbnN0cnVjdG9yIHx8IHRocm93biBpbnN0YW5jZW9mIGVycm9yTGlrZS5jb25zdHJ1Y3RvcjtcbiAgfSBlbHNlIGlmIChlcnJvckxpa2UucHJvdG90eXBlIGluc3RhbmNlb2YgRXJyb3IgfHwgZXJyb3JMaWtlID09PSBFcnJvcikge1xuICAgIC8vIElmIGBlcnJvckxpa2VgIGlzIGEgY29uc3RydWN0b3IgdGhhdCBpbmhlcml0cyBmcm9tIEVycm9yLCB3ZSBjb21wYXJlIGB0aHJvd25gIHRvIGBlcnJvckxpa2VgIGRpcmVjdGx5XG4gICAgcmV0dXJuIHRocm93bi5jb25zdHJ1Y3RvciA9PT0gZXJyb3JMaWtlIHx8IHRocm93biBpbnN0YW5jZW9mIGVycm9yTGlrZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiAjIyMgLmNvbXBhdGlibGVNZXNzYWdlKHRocm93biwgZXJyTWF0Y2hlcilcbiAqXG4gKiBDaGVja3MgaWYgYW4gZXJyb3IncyBtZXNzYWdlIGlzIGNvbXBhdGlibGUgd2l0aCBhIG1hdGNoZXIgKFN0cmluZyBvciBSZWdFeHApLlxuICogSWYgdGhlIG1lc3NhZ2UgY29udGFpbnMgdGhlIFN0cmluZyBvciBwYXNzZXMgdGhlIFJlZ0V4cCB0ZXN0LFxuICogaXQgaXMgY29uc2lkZXJlZCBjb21wYXRpYmxlLlxuICpcbiAqIEBuYW1lIGNvbXBhdGlibGVNZXNzYWdlXG4gKiBAcGFyYW0ge0Vycm9yfSB0aHJvd24gZXJyb3JcbiAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXJyTWF0Y2hlciB0byBsb29rIGZvciBpbnRvIHRoZSBtZXNzYWdlXG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNvbXBhdGlibGVNZXNzYWdlKHRocm93biwgZXJyTWF0Y2hlcikge1xuICB2YXIgY29tcGFyaXNvblN0cmluZyA9IHR5cGVvZiB0aHJvd24gPT09ICdzdHJpbmcnID8gdGhyb3duIDogdGhyb3duLm1lc3NhZ2U7XG4gIGlmIChlcnJNYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIGVyck1hdGNoZXIudGVzdChjb21wYXJpc29uU3RyaW5nKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXJyTWF0Y2hlciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY29tcGFyaXNvblN0cmluZy5pbmRleE9mKGVyck1hdGNoZXIpICE9PSAtMTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1tYWdpYy1udW1iZXJzXG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogIyMjIC5nZXRGdW5jdGlvbk5hbWUoY29uc3RydWN0b3JGbilcbiAqXG4gKiBSZXR1cm5zIHRoZSBuYW1lIG9mIGEgZnVuY3Rpb24uXG4gKiBUaGlzIGFsc28gaW5jbHVkZXMgYSBwb2x5ZmlsbCBmdW5jdGlvbiBpZiBgY29uc3RydWN0b3JGbi5uYW1lYCBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBAbmFtZSBnZXRGdW5jdGlvbk5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yRm5cbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnZhciBmdW5jdGlvbk5hbWVNYXRjaCA9IC9cXHMqZnVuY3Rpb24oPzpcXHN8XFxzKlxcL1xcKlteKD86KlxcLyldK1xcKlxcL1xccyopKihbXlxcKFxcL10rKS87XG5mdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWUoY29uc3RydWN0b3JGbikge1xuICB2YXIgbmFtZSA9ICcnO1xuICBpZiAodHlwZW9mIGNvbnN0cnVjdG9yRm4ubmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBIZXJlIHdlIHJ1biBhIHBvbHlmaWxsIGlmIGNvbnN0cnVjdG9yRm4ubmFtZSBpcyBub3QgZGVmaW5lZFxuICAgIHZhciBtYXRjaCA9IFN0cmluZyhjb25zdHJ1Y3RvckZuKS5tYXRjaChmdW5jdGlvbk5hbWVNYXRjaCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5hbWUgPSBjb25zdHJ1Y3RvckZuLm5hbWU7XG4gIH1cblxuICByZXR1cm4gbmFtZTtcbn1cblxuLyoqXG4gKiAjIyMgLmdldENvbnN0cnVjdG9yTmFtZShlcnJvckxpa2UpXG4gKlxuICogR2V0cyB0aGUgY29uc3RydWN0b3IgbmFtZSBmb3IgYW4gRXJyb3IgaW5zdGFuY2Ugb3IgY29uc3RydWN0b3IgaXRzZWxmLlxuICpcbiAqIEBuYW1lIGdldENvbnN0cnVjdG9yTmFtZVxuICogQHBhcmFtIHtFcnJvcnxFcnJvckNvbnN0cnVjdG9yfSBlcnJvckxpa2VcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZ2V0Q29uc3RydWN0b3JOYW1lKGVycm9yTGlrZSkge1xuICB2YXIgY29uc3RydWN0b3JOYW1lID0gZXJyb3JMaWtlO1xuICBpZiAoZXJyb3JMaWtlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBjb25zdHJ1Y3Rvck5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoZXJyb3JMaWtlLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3JMaWtlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gSWYgYGVycmAgaXMgbm90IGFuIGluc3RhbmNlIG9mIEVycm9yIGl0IGlzIGFuIGVycm9yIGNvbnN0cnVjdG9yIGl0c2VsZiBvciBhbm90aGVyIGZ1bmN0aW9uLlxuICAgIC8vIElmIHdlJ3ZlIGdvdCBhIGNvbW1vbiBmdW5jdGlvbiB3ZSBnZXQgaXRzIG5hbWUsIG90aGVyd2lzZSB3ZSBtYXkgbmVlZCB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2VcbiAgICAvLyBvZiB0aGUgZXJyb3IganVzdCBpbiBjYXNlIGl0J3MgYSBwb29ybHktY29uc3RydWN0ZWQgZXJyb3IuIFBsZWFzZSBzZWUgY2hhaWpzL2NoYWkvaXNzdWVzLzQ1IHRvIGtub3cgbW9yZS5cbiAgICBjb25zdHJ1Y3Rvck5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoZXJyb3JMaWtlKS50cmltKCkgfHxcbiAgICAgICAgZ2V0RnVuY3Rpb25OYW1lKG5ldyBlcnJvckxpa2UoKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuICB9XG5cbiAgcmV0dXJuIGNvbnN0cnVjdG9yTmFtZTtcbn1cblxuLyoqXG4gKiAjIyMgLmdldE1lc3NhZ2UoZXJyb3JMaWtlKVxuICpcbiAqIEdldHMgdGhlIGVycm9yIG1lc3NhZ2UgZnJvbSBhbiBlcnJvci5cbiAqIElmIGBlcnJgIGlzIGEgU3RyaW5nIGl0c2VsZiwgd2UgcmV0dXJuIGl0LlxuICogSWYgdGhlIGVycm9yIGhhcyBubyBtZXNzYWdlLCB3ZSByZXR1cm4gYW4gZW1wdHkgc3RyaW5nLlxuICpcbiAqIEBuYW1lIGdldE1lc3NhZ2VcbiAqIEBwYXJhbSB7RXJyb3J8U3RyaW5nfSBlcnJvckxpa2VcbiAqIEBuYW1lc3BhY2UgVXRpbHNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZ2V0TWVzc2FnZShlcnJvckxpa2UpIHtcbiAgdmFyIG1zZyA9ICcnO1xuICBpZiAoZXJyb3JMaWtlICYmIGVycm9yTGlrZS5tZXNzYWdlKSB7XG4gICAgbXNnID0gZXJyb3JMaWtlLm1lc3NhZ2U7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yTGlrZSA9PT0gJ3N0cmluZycpIHtcbiAgICBtc2cgPSBlcnJvckxpa2U7XG4gIH1cblxuICByZXR1cm4gbXNnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29tcGF0aWJsZUluc3RhbmNlOiBjb21wYXRpYmxlSW5zdGFuY2UsXG4gIGNvbXBhdGlibGVDb25zdHJ1Y3RvcjogY29tcGF0aWJsZUNvbnN0cnVjdG9yLFxuICBjb21wYXRpYmxlTWVzc2FnZTogY29tcGF0aWJsZU1lc3NhZ2UsXG4gIGdldE1lc3NhZ2U6IGdldE1lc3NhZ2UsXG4gIGdldENvbnN0cnVjdG9yTmFtZTogZ2V0Q29uc3RydWN0b3JOYW1lLFxufTtcbiIsInZhciBjb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcnKTtcbnZhciBmbGFnID0gcmVxdWlyZSgnLi9mbGFnJyk7XG52YXIgZ2V0UHJvcGVydGllcyA9IHJlcXVpcmUoJy4vZ2V0UHJvcGVydGllcycpO1xudmFyIGlzUHJveHlFbmFibGVkID0gcmVxdWlyZSgnLi9pc1Byb3h5RW5hYmxlZCcpO1xuXG4vKiFcbiAqIENoYWkgLSBwcm94aWZ5IHV0aWxpdHlcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqICMjIyAucHJveGlmeShvYmplY3QpXG4gKlxuICogUmV0dXJuIGEgcHJveHkgb2YgZ2l2ZW4gb2JqZWN0IHRoYXQgdGhyb3dzIGFuIGVycm9yIHdoZW4gYSBub24tZXhpc3RlbnRcbiAqIHByb3BlcnR5IGlzIHJlYWQuIEJ5IGRlZmF1bHQsIHRoZSByb290IGNhdXNlIGlzIGFzc3VtZWQgdG8gYmUgYSBtaXNzcGVsbGVkXG4gKiBwcm9wZXJ0eSwgYW5kIHRodXMgYW4gYXR0ZW1wdCBpcyBtYWRlIHRvIG9mZmVyIGEgcmVhc29uYWJsZSBzdWdnZXN0aW9uIGZyb21cbiAqIHRoZSBsaXN0IG9mIGV4aXN0aW5nIHByb3BlcnRpZXMuIEhvd2V2ZXIsIGlmIGEgbm9uQ2hhaW5hYmxlTWV0aG9kTmFtZSBpc1xuICogcHJvdmlkZWQsIHRoZW4gdGhlIHJvb3QgY2F1c2UgaXMgaW5zdGVhZCBhIGZhaWx1cmUgdG8gaW52b2tlIGEgbm9uLWNoYWluYWJsZVxuICogbWV0aG9kIHByaW9yIHRvIHJlYWRpbmcgdGhlIG5vbi1leGlzdGVudCBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBwcm94aWVzIGFyZSB1bnN1cHBvcnRlZCBvciBkaXNhYmxlZCB2aWEgdGhlIHVzZXIncyBDaGFpIGNvbmZpZywgdGhlblxuICogcmV0dXJuIG9iamVjdCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gbm9uQ2hhaW5hYmxlTWV0aG9kTmFtZVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgcHJveGlmeVxuICovXG5cbnZhciBidWlsdGlucyA9IFsnX19mbGFncycsICdfX21ldGhvZHMnLCAnX29iaicsICdhc3NlcnQnXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcm94aWZ5KG9iaiwgbm9uQ2hhaW5hYmxlTWV0aG9kTmFtZSkge1xuICBpZiAoIWlzUHJveHlFbmFibGVkKCkpIHJldHVybiBvYmo7XG5cbiAgcmV0dXJuIG5ldyBQcm94eShvYmosIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIHByb3h5R2V0dGVyKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICAgIC8vIFRoaXMgY2hlY2sgaXMgaGVyZSBiZWNhdXNlIHdlIHNob3VsZCBub3QgdGhyb3cgZXJyb3JzIG9uIFN5bWJvbCBwcm9wZXJ0aWVzXG4gICAgICAvLyBzdWNoIGFzIGBTeW1ib2wudG9TdHJpbmdUYWdgLlxuICAgICAgLy8gVGhlIHZhbHVlcyBmb3Igd2hpY2ggYW4gZXJyb3Igc2hvdWxkIGJlIHRocm93biBjYW4gYmUgY29uZmlndXJlZCB1c2luZ1xuICAgICAgLy8gdGhlIGBjb25maWcucHJveHlFeGNsdWRlZEtleXNgIHNldHRpbmcuXG4gICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgIGNvbmZpZy5wcm94eUV4Y2x1ZGVkS2V5cy5pbmRleE9mKHByb3BlcnR5KSA9PT0gLTEgJiZcbiAgICAgICAgICAhUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgLy8gU3BlY2lhbCBtZXNzYWdlIGZvciBpbnZhbGlkIHByb3BlcnR5IGFjY2VzcyBvZiBub24tY2hhaW5hYmxlIG1ldGhvZHMuXG4gICAgICAgIGlmIChub25DaGFpbmFibGVNZXRob2ROYW1lKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgQ2hhaSBwcm9wZXJ0eTogJyArIG5vbkNoYWluYWJsZU1ldGhvZE5hbWUgKyAnLicgK1xuICAgICAgICAgICAgcHJvcGVydHkgKyAnLiBTZWUgZG9jcyBmb3IgcHJvcGVyIHVzYWdlIG9mIFwiJyArXG4gICAgICAgICAgICBub25DaGFpbmFibGVNZXRob2ROYW1lICsgJ1wiLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHByb3BlcnR5IGlzIHJlYXNvbmFibHkgY2xvc2UgdG8gYW4gZXhpc3RpbmcgQ2hhaSBwcm9wZXJ0eSxcbiAgICAgICAgLy8gc3VnZ2VzdCB0aGF0IHByb3BlcnR5IHRvIHRoZSB1c2VyLiBPbmx5IHN1Z2dlc3QgcHJvcGVydGllcyB3aXRoIGFcbiAgICAgICAgLy8gZGlzdGFuY2UgbGVzcyB0aGFuIDQuXG4gICAgICAgIHZhciBzdWdnZXN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIHN1Z2dlc3Rpb25EaXN0YW5jZSA9IDQ7XG4gICAgICAgIGdldFByb3BlcnRpZXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJlxuICAgICAgICAgICAgYnVpbHRpbnMuaW5kZXhPZihwcm9wKSA9PT0gLTFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBkaXN0ID0gc3RyaW5nRGlzdGFuY2VDYXBwZWQoXG4gICAgICAgICAgICAgIHByb3BlcnR5LFxuICAgICAgICAgICAgICBwcm9wLFxuICAgICAgICAgICAgICBzdWdnZXN0aW9uRGlzdGFuY2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZGlzdCA8IHN1Z2dlc3Rpb25EaXN0YW5jZSkge1xuICAgICAgICAgICAgICBzdWdnZXN0aW9uID0gcHJvcDtcbiAgICAgICAgICAgICAgc3VnZ2VzdGlvbkRpc3RhbmNlID0gZGlzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzdWdnZXN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgQ2hhaSBwcm9wZXJ0eTogJyArIHByb3BlcnR5ICtcbiAgICAgICAgICAgICcuIERpZCB5b3UgbWVhbiBcIicgKyBzdWdnZXN0aW9uICsgJ1wiPycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIENoYWkgcHJvcGVydHk6ICcgKyBwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXNlIHRoaXMgcHJveHkgZ2V0dGVyIGFzIHRoZSBzdGFydGluZyBwb2ludCBmb3IgcmVtb3ZpbmcgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIGZyYW1lcyBmcm9tIHRoZSBzdGFjayB0cmFjZSBvZiBhIGZhaWxlZCBhc3NlcnRpb24uIEZvciBwcm9wZXJ0eVxuICAgICAgLy8gYXNzZXJ0aW9ucywgdGhpcyBwcmV2ZW50cyB0aGUgcHJveHkgZ2V0dGVyIGZyb20gc2hvd2luZyB1cCBpbiB0aGUgc3RhY2tcbiAgICAgIC8vIHRyYWNlIHNpbmNlIGl0J3MgaW52b2tlZCBiZWZvcmUgdGhlIHByb3BlcnR5IGdldHRlci4gRm9yIG1ldGhvZCBhbmRcbiAgICAgIC8vIGNoYWluYWJsZSBtZXRob2QgYXNzZXJ0aW9ucywgdGhpcyBmbGFnIHdpbGwgZW5kIHVwIGdldHRpbmcgY2hhbmdlZCB0b1xuICAgICAgLy8gdGhlIG1ldGhvZCB3cmFwcGVyLCB3aGljaCBpcyBnb29kIHNpbmNlIHRoaXMgZnJhbWUgd2lsbCBubyBsb25nZXIgYmUgaW5cbiAgICAgIC8vIHRoZSBzdGFjayBvbmNlIHRoZSBtZXRob2QgaXMgaW52b2tlZC4gTm90ZSB0aGF0IENoYWkgYnVpbHRpbiBhc3NlcnRpb25cbiAgICAgIC8vIHByb3BlcnRpZXMgc3VjaCBhcyBgX19mbGFnc2AgYXJlIHNraXBwZWQgc2luY2UgdGhpcyBpcyBvbmx5IG1lYW50IHRvXG4gICAgICAvLyBjYXB0dXJlIHRoZSBzdGFydGluZyBwb2ludCBvZiBhbiBhc3NlcnRpb24uIFRoaXMgc3RlcCBpcyBhbHNvIHNraXBwZWRcbiAgICAgIC8vIGlmIHRoZSBgbG9ja1NzZmlgIGZsYWcgaXMgc2V0LCB0aHVzIGluZGljYXRpbmcgdGhhdCB0aGlzIGFzc2VydGlvbiBpc1xuICAgICAgLy8gYmVpbmcgY2FsbGVkIGZyb20gd2l0aGluIGFub3RoZXIgYXNzZXJ0aW9uLiBJbiB0aGF0IGNhc2UsIHRoZSBgc3NmaWBcbiAgICAgIC8vIGZsYWcgaXMgYWxyZWFkeSBzZXQgdG8gdGhlIG91dGVyIGFzc2VydGlvbidzIHN0YXJ0aW5nIHBvaW50LlxuICAgICAgaWYgKGJ1aWx0aW5zLmluZGV4T2YocHJvcGVydHkpID09PSAtMSAmJiAhZmxhZyh0YXJnZXQsICdsb2NrU3NmaScpKSB7XG4gICAgICAgIGZsYWcodGFyZ2V0LCAnc3NmaScsIHByb3h5R2V0dGVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcGVydHkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqICMgc3RyaW5nRGlzdGFuY2VDYXBwZWQoc3RyQSwgc3RyQiwgY2FwKVxuICogUmV0dXJuIHRoZSBMZXZlbnNodGVpbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBzdHJpbmdzLCBidXQgbm8gbW9yZSB0aGFuIGNhcC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJBXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyQlxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlclxuICogQHJldHVybiB7bnVtYmVyfSBtaW4oc3RyaW5nIGRpc3RhbmNlIGJldHdlZW4gc3RyQSBhbmQgc3RyQiwgY2FwKVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc3RyaW5nRGlzdGFuY2VDYXBwZWQoc3RyQSwgc3RyQiwgY2FwKSB7XG4gIGlmIChNYXRoLmFicyhzdHJBLmxlbmd0aCAtIHN0ckIubGVuZ3RoKSA+PSBjYXApIHtcbiAgICByZXR1cm4gY2FwO1xuICB9XG5cbiAgdmFyIG1lbW8gPSBbXTtcbiAgLy8gYG1lbW9gIGlzIGEgdHdvLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgZGlzdGFuY2VzLlxuICAvLyBtZW1vW2ldW2pdIGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHN0ckEuc2xpY2UoMCwgaSkgYW5kXG4gIC8vIHN0ckIuc2xpY2UoMCwgaikuXG4gIGZvciAodmFyIGkgPSAwOyBpIDw9IHN0ckEubGVuZ3RoOyBpKyspIHtcbiAgICBtZW1vW2ldID0gQXJyYXkoc3RyQi5sZW5ndGggKyAxKS5maWxsKDApO1xuICAgIG1lbW9baV1bMF0gPSBpO1xuICB9XG4gIGZvciAodmFyIGogPSAwOyBqIDwgc3RyQi5sZW5ndGg7IGorKykge1xuICAgIG1lbW9bMF1bal0gPSBqO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gc3RyQS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjaCA9IHN0ckEuY2hhckNvZGVBdChpIC0gMSk7XG4gICAgZm9yICh2YXIgaiA9IDE7IGogPD0gc3RyQi5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKE1hdGguYWJzKGkgLSBqKSA+PSBjYXApIHtcbiAgICAgICAgbWVtb1tpXVtqXSA9IGNhcDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBtZW1vW2ldW2pdID0gTWF0aC5taW4oXG4gICAgICAgIG1lbW9baSAtIDFdW2pdICsgMSxcbiAgICAgICAgbWVtb1tpXVtqIC0gMV0gKyAxLFxuICAgICAgICBtZW1vW2kgLSAxXVtqIC0gMV0gK1xuICAgICAgICAgIChjaCA9PT0gc3RyQi5jaGFyQ29kZUF0KGogLSAxKSA/IDAgOiAxKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWVtb1tzdHJBLmxlbmd0aF1bc3RyQi5sZW5ndGhdO1xufVxuIiwidmFyIGZuTGVuZ3RoRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZnVuY3Rpb24gKCkge30sICdsZW5ndGgnKTtcblxuLyohXG4gKiBDaGFpIC0gYWRkTGVuZ3RoR3VhcmQgdXRpbGl0eVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogIyMjIC5hZGRMZW5ndGhHdWFyZChmbiwgYXNzZXJ0aW9uTmFtZSwgaXNDaGFpbmFibGUpXG4gKlxuICogRGVmaW5lIGBsZW5ndGhgIGFzIGEgZ2V0dGVyIG9uIHRoZSBnaXZlbiB1bmludm9rZWQgbWV0aG9kIGFzc2VydGlvbi4gVGhlXG4gKiBnZXR0ZXIgYWN0cyBhcyBhIGd1YXJkIGFnYWluc3QgY2hhaW5pbmcgYGxlbmd0aGAgZGlyZWN0bHkgb2ZmIG9mIGFuIHVuaW52b2tlZFxuICogbWV0aG9kIGFzc2VydGlvbiwgd2hpY2ggaXMgYSBwcm9ibGVtIGJlY2F1c2UgaXQgcmVmZXJlbmNlcyBgZnVuY3Rpb25gJ3NcbiAqIGJ1aWx0LWluIGBsZW5ndGhgIHByb3BlcnR5IGluc3RlYWQgb2YgQ2hhaSdzIGBsZW5ndGhgIGFzc2VydGlvbi4gV2hlbiB0aGVcbiAqIGdldHRlciBjYXRjaGVzIHRoZSB1c2VyIG1ha2luZyB0aGlzIG1pc3Rha2UsIGl0IHRocm93cyBhbiBlcnJvciB3aXRoIGFcbiAqIGhlbHBmdWwgbWVzc2FnZS5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHdheXMgaW4gd2hpY2ggdGhpcyBtaXN0YWtlIGNhbiBiZSBtYWRlLiBUaGUgZmlyc3Qgd2F5IGlzIGJ5XG4gKiBjaGFpbmluZyB0aGUgYGxlbmd0aGAgYXNzZXJ0aW9uIGRpcmVjdGx5IG9mZiBvZiBhbiB1bmludm9rZWQgY2hhaW5hYmxlXG4gKiBtZXRob2QuIEluIHRoaXMgY2FzZSwgQ2hhaSBzdWdnZXN0cyB0aGF0IHRoZSB1c2VyIHVzZSBgbGVuZ3RoT2ZgIGluc3RlYWQuIFRoZVxuICogc2Vjb25kIHdheSBpcyBieSBjaGFpbmluZyB0aGUgYGxlbmd0aGAgYXNzZXJ0aW9uIGRpcmVjdGx5IG9mZiBvZiBhbiB1bmludm9rZWRcbiAqIG5vbi1jaGFpbmFibGUgbWV0aG9kLiBOb24tY2hhaW5hYmxlIG1ldGhvZHMgbXVzdCBiZSBpbnZva2VkIHByaW9yIHRvXG4gKiBjaGFpbmluZy4gSW4gdGhpcyBjYXNlLCBDaGFpIHN1Z2dlc3RzIHRoYXQgdGhlIHVzZXIgY29uc3VsdCB0aGUgZG9jcyBmb3IgdGhlXG4gKiBnaXZlbiBhc3NlcnRpb24uXG4gKlxuICogSWYgdGhlIGBsZW5ndGhgIHByb3BlcnR5IG9mIGZ1bmN0aW9ucyBpcyB1bmNvbmZpZ3VyYWJsZSwgdGhlbiByZXR1cm4gYGZuYFxuICogd2l0aG91dCBtb2RpZmljYXRpb24uXG4gKlxuICogTm90ZSB0aGF0IGluIEVTNiwgdGhlIGZ1bmN0aW9uJ3MgYGxlbmd0aGAgcHJvcGVydHkgaXMgY29uZmlndXJhYmxlLCBzbyBvbmNlXG4gKiBzdXBwb3J0IGZvciBsZWdhY3kgZW52aXJvbm1lbnRzIGlzIGRyb3BwZWQsIENoYWkncyBgbGVuZ3RoYCBwcm9wZXJ0eSBjYW5cbiAqIHJlcGxhY2UgdGhlIGJ1aWx0LWluIGZ1bmN0aW9uJ3MgYGxlbmd0aGAgcHJvcGVydHksIGFuZCB0aGlzIGxlbmd0aCBndWFyZCB3aWxsXG4gKiBubyBsb25nZXIgYmUgbmVjZXNzYXJ5LiBJbiB0aGUgbWVhbiB0aW1lLCBtYWludGFpbmluZyBjb25zaXN0ZW5jeSBhY3Jvc3MgYWxsXG4gKiBlbnZpcm9ubWVudHMgaXMgdGhlIHByaW9yaXR5LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge1N0cmluZ30gYXNzZXJ0aW9uTmFtZVxuICogQHBhcmFtIHtCb29sZWFufSBpc0NoYWluYWJsZVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgYWRkTGVuZ3RoR3VhcmRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFkZExlbmd0aEd1YXJkIChmbiwgYXNzZXJ0aW9uTmFtZSwgaXNDaGFpbmFibGUpIHtcbiAgaWYgKCFmbkxlbmd0aERlc2MuY29uZmlndXJhYmxlKSByZXR1cm4gZm47XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbGVuZ3RoJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQ2hhaW5hYmxlKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIENoYWkgcHJvcGVydHk6ICcgKyBhc3NlcnRpb25OYW1lICsgJy5sZW5ndGguIER1ZScgK1xuICAgICAgICAgICcgdG8gYSBjb21wYXRpYmlsaXR5IGlzc3VlLCBcImxlbmd0aFwiIGNhbm5vdCBkaXJlY3RseSBmb2xsb3cgXCInICtcbiAgICAgICAgICBhc3NlcnRpb25OYW1lICsgJ1wiLiBVc2UgXCInICsgYXNzZXJ0aW9uTmFtZSArICcubGVuZ3RoT2ZcIiBpbnN0ZWFkLicpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBDaGFpIHByb3BlcnR5OiAnICsgYXNzZXJ0aW9uTmFtZSArICcubGVuZ3RoLiBTZWUnICtcbiAgICAgICAgJyBkb2NzIGZvciBwcm9wZXIgdXNhZ2Ugb2YgXCInICsgYXNzZXJ0aW9uTmFtZSArICdcIi4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmbjtcbn07XG4iLCJ2YXIgY29uZmlnID0gcmVxdWlyZSgnLi4vY29uZmlnJyk7XG5cbi8qIVxuICogQ2hhaSAtIGlzUHJveHlFbmFibGVkIGhlbHBlclxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogIyMjIC5pc1Byb3h5RW5hYmxlZCgpXG4gKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIENoYWkncyBwcm94eSBwcm90ZWN0aW9uIGZlYXR1cmUgaXMgZW5hYmxlZC4gSWZcbiAqIHByb3hpZXMgYXJlIHVuc3VwcG9ydGVkIG9yIGRpc2FibGVkIHZpYSB0aGUgdXNlcidzIENoYWkgY29uZmlnLCB0aGVuIHJldHVyblxuICogZmFsc2UuIE90aGVyd2lzZSwgcmV0dXJuIHRydWUuXG4gKlxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgaXNQcm94eUVuYWJsZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzUHJveHlFbmFibGVkKCkge1xuICByZXR1cm4gY29uZmlnLnVzZVByb3h5ICYmXG4gICAgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJztcbn07XG4iLCIvKiFcbiAqIENoYWkgLSBpc05hTiB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE1IFNha3RoaXByaXlhbiBWYWlyYW1hbmkgPHRoZWNoYXJnaW5ndm9sY2Fub0BnbWFpbC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqICMjIyAuaXNOYU4odmFsdWUpXG4gKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBOYU4gb3Igbm90LlxuICpcbiAqICAgICB1dGlscy5pc05hTihOYU4pOyAvLyB0cnVlXG4gKlxuICogQHBhcmFtIHtWYWx1ZX0gVGhlIHZhbHVlIHdoaWNoIGhhcyB0byBiZSBjaGVja2VkIGlmIGl0IGlzIE5hTlxuICogQG5hbWUgaXNOYU5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gIC8vIFJlZmVyIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1pc25hbi1udW1iZXJcbiAgLy8gc2VjdGlvbidzIE5PVEUuXG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbi8vIElmIEVDTUFTY3JpcHQgNidzIE51bWJlci5pc05hTiBpcyBwcmVzZW50LCBwcmVmZXIgdGhhdC5cbm1vZHVsZS5leHBvcnRzID0gTnVtYmVyLmlzTmFOIHx8IGlzTmFOO1xuIiwiLyohXG4gKiBDaGFpIC0gZ2V0UHJvcGVydGllcyB1dGlsaXR5XG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiAjIyMgLmdldFByb3BlcnRpZXMob2JqZWN0KVxuICpcbiAqIFRoaXMgYWxsb3dzIHRoZSByZXRyaWV2YWwgb2YgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LCBlbnVtZXJhYmxlIG9yIG5vdCxcbiAqIGluaGVyaXRlZCBvciBub3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHJldHVybnMge0FycmF5fVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZ2V0UHJvcGVydGllc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFByb3BlcnRpZXMob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpO1xuXG4gIGZ1bmN0aW9uIGFkZFByb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgaWYgKHJlc3VsdC5pbmRleE9mKHByb3BlcnR5KSA9PT0gLTEpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHByb3BlcnR5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgd2hpbGUgKHByb3RvICE9PSBudWxsKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pLmZvckVhY2goYWRkUHJvcGVydHkpO1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiLyohXG4gKiBDaGFpIC0gZ2V0RW51bWVyYWJsZVByb3BlcnRpZXMgdXRpbGl0eVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogIyMjIC5nZXRFbnVtZXJhYmxlUHJvcGVydGllcyhvYmplY3QpXG4gKlxuICogVGhpcyBhbGxvd3MgdGhlIHJldHJpZXZhbCBvZiBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdCxcbiAqIGluaGVyaXRlZCBvciBub3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHJldHVybnMge0FycmF5fVxuICogQG5hbWVzcGFjZSBVdGlsc1xuICogQG5hbWUgZ2V0RW51bWVyYWJsZVByb3BlcnRpZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRFbnVtZXJhYmxlUHJvcGVydGllcyhvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuICAgIHJlc3VsdC5wdXNoKG5hbWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl19